(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=s(c);fetch(c.href,f)}})();function Hm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var ko={exports:{}},Ss={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Sg(){if(im)return Ss;im=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:l,type:r,key:h,ref:c!==void 0?c:null,props:f}}return Ss.Fragment=n,Ss.jsx=s,Ss.jsxs=s,Ss}var sm;function xg(){return sm||(sm=1,ko.exports=Sg()),ko.exports}var b=xg(),Uo={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Eg(){if(lm)return ce;lm=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),E=Symbol.iterator;function N(p){return p===null||typeof p!="object"?null:(p=E&&p[E]||p["@@iterator"],typeof p=="function"?p:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function V(p,T,M){this.props=p,this.context=T,this.refs=G,this.updater=M||D}V.prototype.isReactComponent={},V.prototype.setState=function(p,T){if(typeof p!="object"&&typeof p!="function"&&p!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,p,T,"setState")},V.prototype.forceUpdate=function(p){this.updater.enqueueForceUpdate(this,p,"forceUpdate")};function Q(){}Q.prototype=V.prototype;function H(p,T,M){this.props=p,this.context=T,this.refs=G,this.updater=M||D}var I=H.prototype=new Q;I.constructor=H,q(I,V.prototype),I.isPureReactComponent=!0;var me=Array.isArray;function re(){}var Z={H:null,A:null,T:null,S:null},_e=Object.prototype.hasOwnProperty;function Ae(p,T,M){var $=M.ref;return{$$typeof:l,type:p,key:T,ref:$!==void 0?$:null,props:M}}function Bt(p,T){return Ae(p.type,T,p.props)}function ht(p){return typeof p=="object"&&p!==null&&p.$$typeof===l}function He(p){var T={"=":"=0",":":"=2"};return"$"+p.replace(/[=:]/g,function(M){return T[M]})}var yt=/\/+/g;function Ge(p,T){return typeof p=="object"&&p!==null&&p.key!=null?He(""+p.key):T.toString(36)}function Ee(p){switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:switch(typeof p.status=="string"?p.then(re,re):(p.status="pending",p.then(function(T){p.status==="pending"&&(p.status="fulfilled",p.value=T)},function(T){p.status==="pending"&&(p.status="rejected",p.reason=T)})),p.status){case"fulfilled":return p.value;case"rejected":throw p.reason}}throw p}function k(p,T,M,$,Y){var J=typeof p;(J==="undefined"||J==="boolean")&&(p=null);var X=!1;if(p===null)X=!0;else switch(J){case"bigint":case"string":case"number":X=!0;break;case"object":switch(p.$$typeof){case l:case n:X=!0;break;case _:return X=p._init,k(X(p._payload),T,M,$,Y)}}if(X)return Y=Y(p),X=$===""?"."+Ge(p,0):$,me(Y)?(M="",X!=null&&(M=X.replace(yt,"$&/")+"/"),k(Y,T,M,"",function(Ce){return Ce})):Y!=null&&(ht(Y)&&(Y=Bt(Y,M+(Y.key==null||p&&p.key===Y.key?"":(""+Y.key).replace(yt,"$&/")+"/")+X)),T.push(Y)),1;X=0;var ne=$===""?".":$+":";if(me(p))for(var ue=0;ue<p.length;ue++)$=p[ue],J=ne+Ge($,ue),X+=k($,T,M,J,Y);else if(ue=N(p),typeof ue=="function")for(p=ue.call(p),ue=0;!($=p.next()).done;)$=$.value,J=ne+Ge($,ue++),X+=k($,T,M,J,Y);else if(J==="object"){if(typeof p.then=="function")return k(Ee(p),T,M,$,Y);throw T=String(p),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return X}function K(p,T,M){if(p==null)return p;var $=[],Y=0;return k(p,$,"","",function(J){return T.call(M,J,Y++)}),$}function ae(p){if(p._status===-1){var T=p._result;T=T(),T.then(function(M){(p._status===0||p._status===-1)&&(p._status=1,p._result=M)},function(M){(p._status===0||p._status===-1)&&(p._status=2,p._result=M)}),p._status===-1&&(p._status=0,p._result=T)}if(p._status===1)return p._result.default;throw p._result}var we=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},O={map:K,forEach:function(p,T,M){K(p,function(){T.apply(this,arguments)},M)},count:function(p){var T=0;return K(p,function(){T++}),T},toArray:function(p){return K(p,function(T){return T})||[]},only:function(p){if(!ht(p))throw Error("React.Children.only expected to receive a single React element child.");return p}};return ce.Activity=x,ce.Children=O,ce.Component=V,ce.Fragment=s,ce.Profiler=c,ce.PureComponent=H,ce.StrictMode=r,ce.Suspense=g,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ce.__COMPILER_RUNTIME={__proto__:null,c:function(p){return Z.H.useMemoCache(p)}},ce.cache=function(p){return function(){return p.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(p,T,M){if(p==null)throw Error("The argument must be a React element, but you passed "+p+".");var $=q({},p.props),Y=p.key;if(T!=null)for(J in T.key!==void 0&&(Y=""+T.key),T)!_e.call(T,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&T.ref===void 0||($[J]=T[J]);var J=arguments.length-2;if(J===1)$.children=M;else if(1<J){for(var X=Array(J),ne=0;ne<J;ne++)X[ne]=arguments[ne+2];$.children=X}return Ae(p.type,Y,$)},ce.createContext=function(p){return p={$$typeof:h,_currentValue:p,_currentValue2:p,_threadCount:0,Provider:null,Consumer:null},p.Provider=p,p.Consumer={$$typeof:f,_context:p},p},ce.createElement=function(p,T,M){var $,Y={},J=null;if(T!=null)for($ in T.key!==void 0&&(J=""+T.key),T)_e.call(T,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(Y[$]=T[$]);var X=arguments.length-2;if(X===1)Y.children=M;else if(1<X){for(var ne=Array(X),ue=0;ue<X;ue++)ne[ue]=arguments[ue+2];Y.children=ne}if(p&&p.defaultProps)for($ in X=p.defaultProps,X)Y[$]===void 0&&(Y[$]=X[$]);return Ae(p,J,Y)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(p){return{$$typeof:m,render:p}},ce.isValidElement=ht,ce.lazy=function(p){return{$$typeof:_,_payload:{_status:-1,_result:p},_init:ae}},ce.memo=function(p,T){return{$$typeof:y,type:p,compare:T===void 0?null:T}},ce.startTransition=function(p){var T=Z.T,M={};Z.T=M;try{var $=p(),Y=Z.S;Y!==null&&Y(M,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(re,we)}catch(J){we(J)}finally{T!==null&&M.types!==null&&(T.types=M.types),Z.T=T}},ce.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ce.use=function(p){return Z.H.use(p)},ce.useActionState=function(p,T,M){return Z.H.useActionState(p,T,M)},ce.useCallback=function(p,T){return Z.H.useCallback(p,T)},ce.useContext=function(p){return Z.H.useContext(p)},ce.useDebugValue=function(){},ce.useDeferredValue=function(p,T){return Z.H.useDeferredValue(p,T)},ce.useEffect=function(p,T){return Z.H.useEffect(p,T)},ce.useEffectEvent=function(p){return Z.H.useEffectEvent(p)},ce.useId=function(){return Z.H.useId()},ce.useImperativeHandle=function(p,T,M){return Z.H.useImperativeHandle(p,T,M)},ce.useInsertionEffect=function(p,T){return Z.H.useInsertionEffect(p,T)},ce.useLayoutEffect=function(p,T){return Z.H.useLayoutEffect(p,T)},ce.useMemo=function(p,T){return Z.H.useMemo(p,T)},ce.useOptimistic=function(p,T){return Z.H.useOptimistic(p,T)},ce.useReducer=function(p,T,M){return Z.H.useReducer(p,T,M)},ce.useRef=function(p){return Z.H.useRef(p)},ce.useState=function(p){return Z.H.useState(p)},ce.useSyncExternalStore=function(p,T,M){return Z.H.useSyncExternalStore(p,T,M)},ce.useTransition=function(){return Z.H.useTransition()},ce.version="19.2.4",ce}var rm;function ac(){return rm||(rm=1,Uo.exports=Eg()),Uo.exports}var oe=ac();const Tg=Hm(oe);var Mo={exports:{}},xs={},Do={exports:{}},zo={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function Ag(){return um||(um=1,(function(l){function n(k,K){var ae=k.length;k.push(K);e:for(;0<ae;){var we=ae-1>>>1,O=k[we];if(0<c(O,K))k[we]=K,k[ae]=O,ae=we;else break e}}function s(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var K=k[0],ae=k.pop();if(ae!==K){k[0]=ae;e:for(var we=0,O=k.length,p=O>>>1;we<p;){var T=2*(we+1)-1,M=k[T],$=T+1,Y=k[$];if(0>c(M,ae))$<O&&0>c(Y,M)?(k[we]=Y,k[$]=ae,we=$):(k[we]=M,k[T]=ae,we=T);else if($<O&&0>c(Y,ae))k[we]=Y,k[$]=ae,we=$;else break e}}return K}function c(k,K){var ae=k.sortIndex-K.sortIndex;return ae!==0?ae:k.id-K.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();l.unstable_now=function(){return h.now()-m}}var g=[],y=[],_=1,x=null,E=3,N=!1,D=!1,q=!1,G=!1,V=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function I(k){for(var K=s(y);K!==null;){if(K.callback===null)r(y);else if(K.startTime<=k)r(y),K.sortIndex=K.expirationTime,n(g,K);else break;K=s(y)}}function me(k){if(q=!1,I(k),!D)if(s(g)!==null)D=!0,re||(re=!0,He());else{var K=s(y);K!==null&&Ee(me,K.startTime-k)}}var re=!1,Z=-1,_e=5,Ae=-1;function Bt(){return G?!0:!(l.unstable_now()-Ae<_e)}function ht(){if(G=!1,re){var k=l.unstable_now();Ae=k;var K=!0;try{e:{D=!1,q&&(q=!1,Q(Z),Z=-1),N=!0;var ae=E;try{t:{for(I(k),x=s(g);x!==null&&!(x.expirationTime>k&&Bt());){var we=x.callback;if(typeof we=="function"){x.callback=null,E=x.priorityLevel;var O=we(x.expirationTime<=k);if(k=l.unstable_now(),typeof O=="function"){x.callback=O,I(k),K=!0;break t}x===s(g)&&r(g),I(k)}else r(g);x=s(g)}if(x!==null)K=!0;else{var p=s(y);p!==null&&Ee(me,p.startTime-k),K=!1}}break e}finally{x=null,E=ae,N=!1}K=void 0}}finally{K?He():re=!1}}}var He;if(typeof H=="function")He=function(){H(ht)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,Ge=yt.port2;yt.port1.onmessage=ht,He=function(){Ge.postMessage(null)}}else He=function(){V(ht,0)};function Ee(k,K){Z=V(function(){k(l.unstable_now())},K)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(k){k.callback=null},l.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<k?Math.floor(1e3/k):5},l.unstable_getCurrentPriorityLevel=function(){return E},l.unstable_next=function(k){switch(E){case 1:case 2:case 3:var K=3;break;default:K=E}var ae=E;E=K;try{return k()}finally{E=ae}},l.unstable_requestPaint=function(){G=!0},l.unstable_runWithPriority=function(k,K){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ae=E;E=k;try{return K()}finally{E=ae}},l.unstable_scheduleCallback=function(k,K,ae){var we=l.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?we+ae:we):ae=we,k){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ae+O,k={id:_++,callback:K,priorityLevel:k,startTime:ae,expirationTime:O,sortIndex:-1},ae>we?(k.sortIndex=ae,n(y,k),s(g)===null&&k===s(y)&&(q?(Q(Z),Z=-1):q=!0,Ee(me,ae-we))):(k.sortIndex=O,n(g,k),D||N||(D=!0,re||(re=!0,He()))),k},l.unstable_shouldYield=Bt,l.unstable_wrapCallback=function(k){var K=E;return function(){var ae=E;E=K;try{return k.apply(this,arguments)}finally{E=ae}}}})(zo)),zo}var om;function Og(){return om||(om=1,Do.exports=Ag()),Do.exports}var Lo={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function Ng(){if(cm)return mt;cm=1;var l=ac();function n(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)y+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,y,_){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:y,implementation:_}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(g,y){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return f(g,y,null,_)},mt.flushSync=function(g){var y=h.T,_=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=y,r.p=_,r.d.f()}},mt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},mt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},mt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var _=y.as,x=m(_,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;_==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:E,fetchPriority:N}):_==="script"&&r.d.X(g,{crossOrigin:x,integrity:E,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},mt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var _=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},mt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var _=y.as,x=m(_,y.crossOrigin);r.d.L(g,_,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},mt.preloadModule=function(g,y){if(typeof g=="string")if(y){var _=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},mt.requestFormReset=function(g){r.d.r(g)},mt.unstable_batchedUpdates=function(g,y){return g(y)},mt.useFormState=function(g,y,_){return h.H.useFormState(g,y,_)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.4",mt}var fm;function jg(){if(fm)return Lo.exports;fm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Lo.exports=Ng(),Lo.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Rg(){if(hm)return xs;hm=1;var l=Og(),n=ac(),s=jg();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(r(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var a=e,i=t;;){var u=a.return;if(u===null)break;var o=u.alternate;if(o===null){if(i=u.return,i!==null){a=i;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===a)return g(u),e;if(o===i)return g(u),t;o=o.sibling}throw Error(r(188))}if(a.return!==i.return)a=u,i=o;else{for(var d=!1,v=u.child;v;){if(v===a){d=!0,a=u,i=o;break}if(v===i){d=!0,i=u,a=o;break}v=v.sibling}if(!d){for(v=o.child;v;){if(v===a){d=!0,a=o,i=u;break}if(v===i){d=!0,i=o,a=u;break}v=v.sibling}if(!d)throw Error(r(189))}}if(a.alternate!==i)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,E=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),Bt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function He(e){return e===null||typeof e!="object"?null:(e=ht&&e[ht]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Symbol.for("react.client.reference");function Ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===yt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case q:return"Fragment";case V:return"Profiler";case G:return"StrictMode";case me:return"Suspense";case re:return"SuspenseList";case Ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case D:return"Portal";case H:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return t=e.displayName||null,t!==null?t:Ge(e.type)||"Memo";case _e:t=e._payload,e=e._init;try{return Ge(e(t))}catch{}}return null}var Ee=Array.isArray,k=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},we=[],O=-1;function p(e){return{current:e}}function T(e){0>O||(e.current=we[O],we[O]=null,O--)}function M(e,t){O++,we[O]=e.current,e.current=t}var $=p(null),Y=p(null),J=p(null),X=p(null);function ne(e,t){switch(M(J,t),M(Y,e),M($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Od(t),e=Nd(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T($),M($,e)}function ue(){T($),T(Y),T(J)}function Ce(e){e.memoizedState!==null&&M(X,e);var t=$.current,a=Nd(t,e.type);t!==a&&(M(Y,e),M($,a))}function Oe(e){Y.current===e&&(T($),T(Y)),X.current===e&&(T(X),vs._currentValue=ae)}var ze,Xe;function he(e){if(ze===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ze=t&&t[1]||"",Xe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ze+e+Xe}var at=!1;function pt(e,t){if(!e||at)return"";at=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(U){var C=U}Reflect.construct(e,[],B)}else{try{B.call()}catch(U){C=U}e.call(B.prototype)}}else{try{throw Error()}catch(U){C=U}(B=e())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(U){if(U&&C&&typeof U.stack=="string")return[U.stack,C.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),d=o[0],v=o[1];if(d&&v){var w=d.split(`
`),R=v.split(`
`);for(u=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(i===w.length||u===R.length)for(i=w.length-1,u=R.length-1;1<=i&&0<=u&&w[i]!==R[u];)u--;for(;1<=i&&0<=u;i--,u--)if(w[i]!==R[u]){if(i!==1||u!==1)do if(i--,u--,0>u||w[i]!==R[u]){var z=`
`+w[i].replace(" at new "," at ");return e.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",e.displayName)),z}while(1<=i&&0<=u);break}}}finally{at=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?he(a):""}function At(e,t){switch(e.tag){case 26:case 27:case 5:return he(e.type);case 16:return he("Lazy");case 13:return e.child!==t&&t!==null?he("Suspense Fallback"):he("Suspense");case 19:return he("SuspenseList");case 0:case 15:return pt(e.type,!1);case 11:return pt(e.type.render,!1);case 1:return pt(e.type,!0);case 31:return he("Activity");default:return""}}function qt(e){try{var t="",a=null;do t+=At(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Pt=Object.prototype.hasOwnProperty,vt=l.unstable_scheduleCallback,Oi=l.unstable_cancelCallback,pr=l.unstable_shouldYield,gr=l.unstable_requestPaint,dt=l.unstable_now,yr=l.unstable_getCurrentPriorityLevel,Ni=l.unstable_ImmediatePriority,Ls=l.unstable_UserBlockingPriority,Rn=l.unstable_NormalPriority,$s=l.unstable_LowPriority,ji=l.unstable_IdlePriority,Ri=l.log,vr=l.unstable_setDisableYieldValue,an=null,Ot=null;function Na(e){if(typeof Ri=="function"&&vr(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(an,e)}catch{}}var Nt=Math.clz32?Math.clz32:u0,l0=Math.log,r0=Math.LN2;function u0(e){return e>>>=0,e===0?32:31-(l0(e)/r0|0)|0}var Bs=256,qs=262144,Hs=4194304;function nn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gs(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var u=0,o=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var v=i&134217727;return v!==0?(i=v&~o,i!==0?u=nn(i):(d&=v,d!==0?u=nn(d):a||(a=v&~e,a!==0&&(u=nn(a))))):(v=i&~o,v!==0?u=nn(v):d!==0?u=nn(d):a||(a=i&~e,a!==0&&(u=nn(a)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,a=t&-t,o>=a||o===32&&(a&4194048)!==0)?t:u}function Ci(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function o0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rc(){var e=Hs;return Hs<<=1,(Hs&62914560)===0&&(Hs=4194304),e}function br(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ki(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function c0(e,t,a,i,u,o){var d=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,R=e.hiddenUpdates;for(a=d&~a;0<a;){var z=31-Nt(a),B=1<<z;v[z]=0,w[z]=-1;var C=R[z];if(C!==null)for(R[z]=null,z=0;z<C.length;z++){var U=C[z];U!==null&&(U.lane&=-536870913)}a&=~B}i!==0&&uc(e,i,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(d&~t))}function uc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Nt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function oc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-Nt(a),u=1<<i;u&t|e[i]&t&&(e[i]|=t),a&=~u}}function cc(e,t){var a=t&-t;return a=(a&42)!==0?1:_r(a),(a&(e.suspendedLanes|t))!==0?0:a}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fc(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:Pd(e.type))}function hc(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var ja=Math.random().toString(36).slice(2),st="__reactFiber$"+ja,bt="__reactProps$"+ja,Cn="__reactContainer$"+ja,Sr="__reactEvents$"+ja,f0="__reactListeners$"+ja,h0="__reactHandles$"+ja,dc="__reactResources$"+ja,Ui="__reactMarker$"+ja;function xr(e){delete e[st],delete e[bt],delete e[Sr],delete e[f0],delete e[h0]}function kn(e){var t=e[st];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Cn]||a[st]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Dd(e);e!==null;){if(a=e[st])return a;e=Dd(e)}return t}e=a,a=e.parentNode}return null}function Un(e){if(e=e[st]||e[Cn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Mi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Mn(e){var t=e[dc];return t||(t=e[dc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ui]=!0}var mc=new Set,pc={};function sn(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(pc[e]=t,e=0;e<t.length;e++)mc.add(t[e])}var d0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},yc={};function m0(e){return Pt.call(yc,e)?!0:Pt.call(gc,e)?!1:d0.test(e)?yc[e]=!0:(gc[e]=!0,!1)}function Vs(e,t,a){if(m0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Ys(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ua(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p0(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,o=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){a=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Er(e){if(!e._valueTracker){var t=vc(e)?"checked":"value";e._valueTracker=p0(e,t,""+e[t])}}function bc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=vc(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var g0=/[\n"\\]/g;function Gt(e){return e.replace(g0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Tr(e,t,a,i,u,o,d,v){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Ar(e,d,Ht(t)):a!=null?Ar(e,d,Ht(a)):i!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ht(v):e.removeAttribute("name")}function _c(e,t,a,i,u,o,d,v){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||a!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){Er(e);return}a=a!=null?""+Ht(a):"",t=t!=null?""+Ht(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}i=i??u,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=v?e.checked:!!i,e.defaultChecked=!!i,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Er(e)}function Ar(e,t,a){t==="number"&&Is(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function zn(e,t,a,i){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&i&&(e[a].defaultSelected=!0)}else{for(a=""+Ht(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,i&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function wc(e,t,a){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ht(a):""}function Sc(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(r(92));if(Ee(i)){if(1<i.length)throw Error(r(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=Ht(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),Er(e)}function Ln(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var y0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xc(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||y0.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ec(e,t,a){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var u in t)i=t[u],t.hasOwnProperty(u)&&a[u]!==i&&xc(e,u,i)}else for(var o in t)t.hasOwnProperty(o)&&xc(e,o,t[o])}function Or(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var v0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ks(e){return b0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function oa(){}var Nr=null;function jr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $n=null,Bn=null;function Tc(e){var t=Un(e);if(t&&(e=t.stateNode)){var a=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Tr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var u=i[bt]||null;if(!u)throw Error(r(90));Tr(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&bc(i)}break e;case"textarea":wc(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&zn(e,!!a.multiple,t,!1)}}}var Rr=!1;function Ac(e,t,a){if(Rr)return e(t,a);Rr=!0;try{var i=e(t);return i}finally{if(Rr=!1,($n!==null||Bn!==null)&&(Ul(),$n&&(t=$n,e=Bn,Bn=$n=null,Tc(t),e)))for(t=0;t<e.length;t++)Tc(e[t])}}function Di(e,t){var a=e.stateNode;if(a===null)return null;var i=a[bt]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,t,typeof a));return a}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(ca)try{var zi={};Object.defineProperty(zi,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",zi,zi),window.removeEventListener("test",zi,zi)}catch{Cr=!1}var Ra=null,kr=null,Qs=null;function Oc(){if(Qs)return Qs;var e,t=kr,a=t.length,i,u="value"in Ra?Ra.value:Ra.textContent,o=u.length;for(e=0;e<a&&t[e]===u[e];e++);var d=a-e;for(i=1;i<=d&&t[a-i]===u[o-i];i++);return Qs=u.slice(e,1<i?1-i:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Js(){return!0}function Nc(){return!1}function _t(e){function t(a,i,u,o,d){this._reactName=a,this._targetInst=u,this.type=i,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(o):o[v]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Js:Nc,this.isPropagationStopped=Nc,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=_t(ln),Li=x({},ln,{view:0,detail:0}),_0=_t(Li),Ur,Mr,$i,Ps=x({},Li,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$i&&($i&&e.type==="mousemove"?(Ur=e.screenX-$i.screenX,Mr=e.screenY-$i.screenY):Mr=Ur=0,$i=e),Ur)},movementY:function(e){return"movementY"in e?e.movementY:Mr}}),jc=_t(Ps),w0=x({},Ps,{dataTransfer:0}),S0=_t(w0),x0=x({},Li,{relatedTarget:0}),Dr=_t(x0),E0=x({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),T0=_t(E0),A0=x({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),O0=_t(A0),N0=x({},ln,{data:0}),Rc=_t(N0),j0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C0[e])?!!t[e]:!1}function zr(){return k0}var U0=x({},Li,{key:function(e){if(e.key){var t=j0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zr,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),M0=_t(U0),D0=x({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cc=_t(D0),z0=x({},Li,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zr}),L0=_t(z0),$0=x({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=_t($0),q0=x({},Ps,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=_t(q0),G0=x({},ln,{newState:0,oldState:0}),V0=_t(G0),Y0=[9,13,27,32],Lr=ca&&"CompositionEvent"in window,Bi=null;ca&&"documentMode"in document&&(Bi=document.documentMode);var I0=ca&&"TextEvent"in window&&!Bi,kc=ca&&(!Lr||Bi&&8<Bi&&11>=Bi),Uc=" ",Mc=!1;function Dc(e,t){switch(e){case"keyup":return Y0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function K0(e,t){switch(e){case"compositionend":return zc(t);case"keypress":return t.which!==32?null:(Mc=!0,Uc);case"textInput":return e=t.data,e===Uc&&Mc?null:e;default:return null}}function Q0(e,t){if(qn)return e==="compositionend"||!Lr&&Dc(e,t)?(e=Oc(),Qs=kr=Ra=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kc&&t.locale!=="ko"?null:t.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!X0[e.type]:t==="textarea"}function $c(e,t,a,i){$n?Bn?Bn.push(i):Bn=[i]:$n=i,t=ql(t,"onChange"),0<t.length&&(a=new Zs("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var qi=null,Hi=null;function J0(e){wd(e,0)}function Ws(e){var t=Mi(e);if(bc(t))return e}function Bc(e,t){if(e==="change")return t}var qc=!1;if(ca){var $r;if(ca){var Br="oninput"in document;if(!Br){var Hc=document.createElement("div");Hc.setAttribute("oninput","return;"),Br=typeof Hc.oninput=="function"}$r=Br}else $r=!1;qc=$r&&(!document.documentMode||9<document.documentMode)}function Gc(){qi&&(qi.detachEvent("onpropertychange",Vc),Hi=qi=null)}function Vc(e){if(e.propertyName==="value"&&Ws(Hi)){var t=[];$c(t,Hi,e,jr(e)),Ac(J0,t)}}function Z0(e,t,a){e==="focusin"?(Gc(),qi=t,Hi=a,qi.attachEvent("onpropertychange",Vc)):e==="focusout"&&Gc()}function P0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ws(Hi)}function W0(e,t){if(e==="click")return Ws(t)}function F0(e,t){if(e==="input"||e==="change")return Ws(t)}function ep(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:ep;function Gi(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var u=a[i];if(!Pt.call(t,u)||!jt(e[u],t[u]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ic(e,t){var a=Yc(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yc(a)}}function Kc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Is(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Is(e.document)}return t}function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var tp=ca&&"documentMode"in document&&11>=document.documentMode,Hn=null,Hr=null,Vi=null,Gr=!1;function Xc(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gr||Hn==null||Hn!==Is(i)||(i=Hn,"selectionStart"in i&&qr(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vi&&Gi(Vi,i)||(Vi=i,i=ql(Hr,"onSelect"),0<i.length&&(t=new Zs("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Hn)))}function rn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Gn={animationend:rn("Animation","AnimationEnd"),animationiteration:rn("Animation","AnimationIteration"),animationstart:rn("Animation","AnimationStart"),transitionrun:rn("Transition","TransitionRun"),transitionstart:rn("Transition","TransitionStart"),transitioncancel:rn("Transition","TransitionCancel"),transitionend:rn("Transition","TransitionEnd")},Vr={},Jc={};ca&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function un(e){if(Vr[e])return Vr[e];if(!Gn[e])return e;var t=Gn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Jc)return Vr[e]=t[a];return e}var Zc=un("animationend"),Pc=un("animationiteration"),Wc=un("animationstart"),ap=un("transitionrun"),np=un("transitionstart"),ip=un("transitioncancel"),Fc=un("transitionend"),ef=new Map,Yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yr.push("scrollEnd");function Wt(e,t){ef.set(e,t),sn(t,[e])}var Fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Vt=[],Vn=0,Ir=0;function el(){for(var e=Vn,t=Ir=Vn=0;t<e;){var a=Vt[t];Vt[t++]=null;var i=Vt[t];Vt[t++]=null;var u=Vt[t];Vt[t++]=null;var o=Vt[t];if(Vt[t++]=null,i!==null&&u!==null){var d=i.pending;d===null?u.next=u:(u.next=d.next,d.next=u),i.pending=u}o!==0&&tf(a,u,o)}}function tl(e,t,a,i){Vt[Vn++]=e,Vt[Vn++]=t,Vt[Vn++]=a,Vt[Vn++]=i,Ir|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Kr(e,t,a,i){return tl(e,t,a,i),al(e)}function on(e,t){return tl(e,null,null,t),al(e)}function tf(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var u=!1,o=e.return;o!==null;)o.childLanes|=a,i=o.alternate,i!==null&&(i.childLanes|=a),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Nt(a),e=o.hiddenUpdates,i=e[u],i===null?e[u]=[t]:i.push(t),t.lane=a|536870912),o):null}function al(e){if(50<fs)throw fs=0,to=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yn={};function sp(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,a,i){return new sp(e,t,a,i)}function Qr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fa(e,t){var a=e.alternate;return a===null?(a=Rt(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function af(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nl(e,t,a,i,u,o){var d=0;if(i=e,typeof e=="function")Qr(e)&&(d=1);else if(typeof e=="string")d=cg(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ae:return e=Rt(31,a,t,u),e.elementType=Ae,e.lanes=o,e;case q:return cn(a.children,u,o,t);case G:d=8,u|=24;break;case V:return e=Rt(12,a,t,u|2),e.elementType=V,e.lanes=o,e;case me:return e=Rt(13,a,t,u),e.elementType=me,e.lanes=o,e;case re:return e=Rt(19,a,t,u),e.elementType=re,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case H:d=10;break e;case Q:d=9;break e;case I:d=11;break e;case Z:d=14;break e;case _e:d=16,i=null;break e}d=29,a=Error(r(130,e===null?"null":typeof e,"")),i=null}return t=Rt(d,a,t,u),t.elementType=e,t.type=i,t.lanes=o,t}function cn(e,t,a,i){return e=Rt(7,e,i,t),e.lanes=a,e}function Xr(e,t,a){return e=Rt(6,e,null,t),e.lanes=a,e}function nf(e){var t=Rt(18,null,null,0);return t.stateNode=e,t}function Jr(e,t,a){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sf=new WeakMap;function Yt(e,t){if(typeof e=="object"&&e!==null){var a=sf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:qt(t)},sf.set(e,t),t)}return{value:e,source:t,stack:qt(t)}}var In=[],Kn=0,il=null,Yi=0,It=[],Kt=0,Ca=null,ia=1,sa="";function ha(e,t){In[Kn++]=Yi,In[Kn++]=il,il=e,Yi=t}function lf(e,t,a){It[Kt++]=ia,It[Kt++]=sa,It[Kt++]=Ca,Ca=e;var i=ia;e=sa;var u=32-Nt(i)-1;i&=~(1<<u),a+=1;var o=32-Nt(t)+u;if(30<o){var d=u-u%5;o=(i&(1<<d)-1).toString(32),i>>=d,u-=d,ia=1<<32-Nt(t)+u|a<<u|i,sa=o+e}else ia=1<<o|a<<u|i,sa=e}function Zr(e){e.return!==null&&(ha(e,1),lf(e,1,0))}function Pr(e){for(;e===il;)il=In[--Kn],In[Kn]=null,Yi=In[--Kn],In[Kn]=null;for(;e===Ca;)Ca=It[--Kt],It[Kt]=null,sa=It[--Kt],It[Kt]=null,ia=It[--Kt],It[Kt]=null}function rf(e,t){It[Kt++]=ia,It[Kt++]=sa,It[Kt++]=Ca,ia=t.id,sa=t.overflow,Ca=e}var lt=null,$e=null,be=!1,ka=null,Qt=!1,Wr=Error(r(519));function Ua(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ii(Yt(t,e)),Wr}function uf(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[st]=e,t[bt]=i,a){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(a=0;a<ds.length;a++)ge(ds[a],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),_c(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),Sc(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||Td(t.textContent,a)?(i.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),i.onScroll!=null&&ge("scroll",t),i.onScrollEnd!=null&&ge("scrollend",t),i.onClick!=null&&(t.onclick=oa),t=!0):t=!1,t||Ua(e,!0)}function of(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:lt=lt.return}}function Qn(e){if(e!==lt)return!1;if(!be)return of(e),be=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||yo(e.type,e.memoizedProps)),a=!a),a&&$e&&Ua(e),of(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$e=Md(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));$e=Md(e)}else t===27?(t=$e,Qa(e.type)?(e=So,So=null,$e=e):$e=t):$e=lt?Jt(e.stateNode.nextSibling):null;return!0}function fn(){$e=lt=null,be=!1}function Fr(){var e=ka;return e!==null&&(Et===null?Et=e:Et.push.apply(Et,e),ka=null),e}function Ii(e){ka===null?ka=[e]:ka.push(e)}var eu=p(null),hn=null,da=null;function Ma(e,t,a){M(eu,t._currentValue),t._currentValue=a}function ma(e){e._currentValue=eu.current,T(eu)}function tu(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function au(e,t,a,i){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var d=u.child;o=o.firstContext;e:for(;o!==null;){var v=o;o=u;for(var w=0;w<t.length;w++)if(v.context===t[w]){o.lanes|=a,v=o.alternate,v!==null&&(v.lanes|=a),tu(o.return,a,e),i||(d=null);break e}o=v.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=a,o=d.alternate,o!==null&&(o.lanes|=a),tu(d,a,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function Xn(e,t,a,i){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var v=u.type;jt(u.pendingProps.value,d.value)||(e!==null?e.push(v):e=[v])}}else if(u===X.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(vs):e=[vs])}u=u.return}e!==null&&au(t,e,a,i),t.flags|=262144}function sl(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function dn(e){hn=e,da=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return cf(hn,e)}function ll(e,t){return hn===null&&dn(e),cf(e,t)}function cf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},da===null){if(e===null)throw Error(r(308));da=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else da=da.next=t;return a}var lp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},rp=l.unstable_scheduleCallback,up=l.unstable_NormalPriority,Je={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new lp,data:new Map,refCount:0}}function Ki(e){e.refCount--,e.refCount===0&&rp(up,function(){e.controller.abort()})}var Qi=null,iu=0,Jn=0,Zn=null;function op(e,t){if(Qi===null){var a=Qi=[];iu=0,Jn=ro(),Zn={status:"pending",value:void 0,then:function(i){a.push(i)}}}return iu++,t.then(ff,ff),t}function ff(){if(--iu===0&&Qi!==null){Zn!==null&&(Zn.status="fulfilled");var e=Qi;Qi=null,Jn=0,Zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function cp(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(i.status="rejected",i.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),i}var hf=k.S;k.S=function(e,t){Jh=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&op(e,t),hf!==null&&hf(e,t)};var mn=p(null);function su(){var e=mn.current;return e!==null?e:De.pooledCache}function rl(e,t){t===null?M(mn,mn.current):M(mn,t.pool)}function df(){var e=su();return e===null?null:{parent:Je._currentValue,pool:e}}var Pn=Error(r(460)),lu=Error(r(474)),ul=Error(r(542)),ol={then:function(){}};function mf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function pf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(oa,oa),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yf(e),e;default:if(typeof t.status=="string")t.then(oa,oa);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=i}},function(i){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,yf(e),e}throw gn=t,Pn}}function pn(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(gn=a,Pn):a}}var gn=null;function gf(){if(gn===null)throw Error(r(459));var e=gn;return gn=null,e}function yf(e){if(e===Pn||e===ul)throw Error(r(483))}var Wn=null,Xi=0;function cl(e){var t=Xi;return Xi+=1,Wn===null&&(Wn=[]),pf(Wn,e,t)}function Ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fl(e,t){throw t.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function vf(e){function t(A,S){if(e){var j=A.deletions;j===null?(A.deletions=[S],A.flags|=16):j.push(S)}}function a(A,S){if(!e)return null;for(;S!==null;)t(A,S),S=S.sibling;return null}function i(A){for(var S=new Map;A!==null;)A.key!==null?S.set(A.key,A):S.set(A.index,A),A=A.sibling;return S}function u(A,S){return A=fa(A,S),A.index=0,A.sibling=null,A}function o(A,S,j){return A.index=j,e?(j=A.alternate,j!==null?(j=j.index,j<S?(A.flags|=67108866,S):j):(A.flags|=67108866,S)):(A.flags|=1048576,S)}function d(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function v(A,S,j,L){return S===null||S.tag!==6?(S=Xr(j,A.mode,L),S.return=A,S):(S=u(S,j),S.return=A,S)}function w(A,S,j,L){var te=j.type;return te===q?z(A,S,j.props.children,L,j.key):S!==null&&(S.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===_e&&pn(te)===S.type)?(S=u(S,j.props),Ji(S,j),S.return=A,S):(S=nl(j.type,j.key,j.props,null,A.mode,L),Ji(S,j),S.return=A,S)}function R(A,S,j,L){return S===null||S.tag!==4||S.stateNode.containerInfo!==j.containerInfo||S.stateNode.implementation!==j.implementation?(S=Jr(j,A.mode,L),S.return=A,S):(S=u(S,j.children||[]),S.return=A,S)}function z(A,S,j,L,te){return S===null||S.tag!==7?(S=cn(j,A.mode,L,te),S.return=A,S):(S=u(S,j),S.return=A,S)}function B(A,S,j){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Xr(""+S,A.mode,j),S.return=A,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case N:return j=nl(S.type,S.key,S.props,null,A.mode,j),Ji(j,S),j.return=A,j;case D:return S=Jr(S,A.mode,j),S.return=A,S;case _e:return S=pn(S),B(A,S,j)}if(Ee(S)||He(S))return S=cn(S,A.mode,j,null),S.return=A,S;if(typeof S.then=="function")return B(A,cl(S),j);if(S.$$typeof===H)return B(A,ll(A,S),j);fl(A,S)}return null}function C(A,S,j,L){var te=S!==null?S.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return te!==null?null:v(A,S,""+j,L);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return j.key===te?w(A,S,j,L):null;case D:return j.key===te?R(A,S,j,L):null;case _e:return j=pn(j),C(A,S,j,L)}if(Ee(j)||He(j))return te!==null?null:z(A,S,j,L,null);if(typeof j.then=="function")return C(A,S,cl(j),L);if(j.$$typeof===H)return C(A,S,ll(A,j),L);fl(A,j)}return null}function U(A,S,j,L,te){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return A=A.get(j)||null,v(S,A,""+L,te);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return A=A.get(L.key===null?j:L.key)||null,w(S,A,L,te);case D:return A=A.get(L.key===null?j:L.key)||null,R(S,A,L,te);case _e:return L=pn(L),U(A,S,j,L,te)}if(Ee(L)||He(L))return A=A.get(j)||null,z(S,A,L,te,null);if(typeof L.then=="function")return U(A,S,j,cl(L),te);if(L.$$typeof===H)return U(A,S,j,ll(S,L),te);fl(S,L)}return null}function P(A,S,j,L){for(var te=null,Se=null,W=S,de=S=0,ve=null;W!==null&&de<j.length;de++){W.index>de?(ve=W,W=null):ve=W.sibling;var xe=C(A,W,j[de],L);if(xe===null){W===null&&(W=ve);break}e&&W&&xe.alternate===null&&t(A,W),S=o(xe,S,de),Se===null?te=xe:Se.sibling=xe,Se=xe,W=ve}if(de===j.length)return a(A,W),be&&ha(A,de),te;if(W===null){for(;de<j.length;de++)W=B(A,j[de],L),W!==null&&(S=o(W,S,de),Se===null?te=W:Se.sibling=W,Se=W);return be&&ha(A,de),te}for(W=i(W);de<j.length;de++)ve=U(W,A,de,j[de],L),ve!==null&&(e&&ve.alternate!==null&&W.delete(ve.key===null?de:ve.key),S=o(ve,S,de),Se===null?te=ve:Se.sibling=ve,Se=ve);return e&&W.forEach(function(Wa){return t(A,Wa)}),be&&ha(A,de),te}function ie(A,S,j,L){if(j==null)throw Error(r(151));for(var te=null,Se=null,W=S,de=S=0,ve=null,xe=j.next();W!==null&&!xe.done;de++,xe=j.next()){W.index>de?(ve=W,W=null):ve=W.sibling;var Wa=C(A,W,xe.value,L);if(Wa===null){W===null&&(W=ve);break}e&&W&&Wa.alternate===null&&t(A,W),S=o(Wa,S,de),Se===null?te=Wa:Se.sibling=Wa,Se=Wa,W=ve}if(xe.done)return a(A,W),be&&ha(A,de),te;if(W===null){for(;!xe.done;de++,xe=j.next())xe=B(A,xe.value,L),xe!==null&&(S=o(xe,S,de),Se===null?te=xe:Se.sibling=xe,Se=xe);return be&&ha(A,de),te}for(W=i(W);!xe.done;de++,xe=j.next())xe=U(W,A,de,xe.value,L),xe!==null&&(e&&xe.alternate!==null&&W.delete(xe.key===null?de:xe.key),S=o(xe,S,de),Se===null?te=xe:Se.sibling=xe,Se=xe);return e&&W.forEach(function(wg){return t(A,wg)}),be&&ha(A,de),te}function Me(A,S,j,L){if(typeof j=="object"&&j!==null&&j.type===q&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case N:e:{for(var te=j.key;S!==null;){if(S.key===te){if(te=j.type,te===q){if(S.tag===7){a(A,S.sibling),L=u(S,j.props.children),L.return=A,A=L;break e}}else if(S.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===_e&&pn(te)===S.type){a(A,S.sibling),L=u(S,j.props),Ji(L,j),L.return=A,A=L;break e}a(A,S);break}else t(A,S);S=S.sibling}j.type===q?(L=cn(j.props.children,A.mode,L,j.key),L.return=A,A=L):(L=nl(j.type,j.key,j.props,null,A.mode,L),Ji(L,j),L.return=A,A=L)}return d(A);case D:e:{for(te=j.key;S!==null;){if(S.key===te)if(S.tag===4&&S.stateNode.containerInfo===j.containerInfo&&S.stateNode.implementation===j.implementation){a(A,S.sibling),L=u(S,j.children||[]),L.return=A,A=L;break e}else{a(A,S);break}else t(A,S);S=S.sibling}L=Jr(j,A.mode,L),L.return=A,A=L}return d(A);case _e:return j=pn(j),Me(A,S,j,L)}if(Ee(j))return P(A,S,j,L);if(He(j)){if(te=He(j),typeof te!="function")throw Error(r(150));return j=te.call(j),ie(A,S,j,L)}if(typeof j.then=="function")return Me(A,S,cl(j),L);if(j.$$typeof===H)return Me(A,S,ll(A,j),L);fl(A,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,S!==null&&S.tag===6?(a(A,S.sibling),L=u(S,j),L.return=A,A=L):(a(A,S),L=Xr(j,A.mode,L),L.return=A,A=L),d(A)):a(A,S)}return function(A,S,j,L){try{Xi=0;var te=Me(A,S,j,L);return Wn=null,te}catch(W){if(W===Pn||W===ul)throw W;var Se=Rt(29,W,null,A.mode);return Se.lanes=L,Se.return=A,Se}finally{}}}var yn=vf(!0),bf=vf(!1),Da=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function La(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Te&2)!==0){var u=i.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),i.pending=t,t=al(e),tf(e,null,a),t}return tl(e,i,t,a),al(e)}function Zi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,oc(e,a)}}function ou(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var u=null,o=null;if(a=a.firstBaseUpdate,a!==null){do{var d={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};o===null?u=o=d:o=o.next=d,a=a.next}while(a!==null);o===null?u=o=t:o=o.next=t}else u=o=t;a={baseState:i.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var cu=!1;function Pi(){if(cu){var e=Zn;if(e!==null)throw e}}function Wi(e,t,a,i){cu=!1;var u=e.updateQueue;Da=!1;var o=u.firstBaseUpdate,d=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var w=v,R=w.next;w.next=null,d===null?o=R:d.next=R,d=w;var z=e.alternate;z!==null&&(z=z.updateQueue,v=z.lastBaseUpdate,v!==d&&(v===null?z.firstBaseUpdate=R:v.next=R,z.lastBaseUpdate=w))}if(o!==null){var B=u.baseState;d=0,z=R=w=null,v=o;do{var C=v.lane&-536870913,U=C!==v.lane;if(U?(ye&C)===C:(i&C)===C){C!==0&&C===Jn&&(cu=!0),z!==null&&(z=z.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var P=e,ie=v;C=t;var Me=a;switch(ie.tag){case 1:if(P=ie.payload,typeof P=="function"){B=P.call(Me,B,C);break e}B=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=ie.payload,C=typeof P=="function"?P.call(Me,B,C):P,C==null)break e;B=x({},B,C);break e;case 2:Da=!0}}C=v.callback,C!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[C]:U.push(C))}else U={lane:C,tag:v.tag,payload:v.payload,callback:v.callback,next:null},z===null?(R=z=U,w=B):z=z.next=U,d|=C;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;U=v,v=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);z===null&&(w=B),u.baseState=w,u.firstBaseUpdate=R,u.lastBaseUpdate=z,o===null&&(u.shared.lanes=0),Ga|=d,e.lanes=d,e.memoizedState=B}}function _f(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function wf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)_f(a[e],t)}var Fn=p(null),hl=p(0);function Sf(e,t){e=xa,M(hl,e),M(Fn,t),xa=e|t.baseLanes}function fu(){M(hl,xa),M(Fn,Fn.current)}function hu(){xa=hl.current,T(Fn),T(hl)}var Ct=p(null),Xt=null;function $a(e){var t=e.alternate;M(Ke,Ke.current&1),M(Ct,e),Xt===null&&(t===null||Fn.current!==null||t.memoizedState!==null)&&(Xt=e)}function du(e){M(Ke,Ke.current),M(Ct,e),Xt===null&&(Xt=e)}function xf(e){e.tag===22?(M(Ke,Ke.current),M(Ct,e),Xt===null&&(Xt=e)):Ba()}function Ba(){M(Ke,Ke.current),M(Ct,Ct.current)}function kt(e){T(Ct),Xt===e&&(Xt=null),T(Ke)}var Ke=p(0);function dl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_o(a)||wo(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pa=0,fe=null,ke=null,Ze=null,ml=!1,ei=!1,vn=!1,pl=0,Fi=0,ti=null,fp=0;function Ve(){throw Error(r(321))}function mu(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!jt(e[a],t[a]))return!1;return!0}function pu(e,t,a,i,u,o){return pa=o,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?lh:Ru,vn=!1,o=a(i,u),vn=!1,ei&&(o=Tf(t,a,i,u)),Ef(e),o}function Ef(e){k.H=as;var t=ke!==null&&ke.next!==null;if(pa=0,Ze=ke=fe=null,ml=!1,Fi=0,ti=null,t)throw Error(r(300));e===null||Pe||(e=e.dependencies,e!==null&&sl(e)&&(Pe=!0))}function Tf(e,t,a,i){fe=e;var u=0;do{if(ei&&(ti=null),Fi=0,ei=!1,25<=u)throw Error(r(301));if(u+=1,Ze=ke=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}k.H=rh,o=t(a,i)}while(ei);return o}function hp(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?es(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(fe.flags|=1024),t}function gu(){var e=pl!==0;return pl=0,e}function yu(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function vu(e){if(ml){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ml=!1}pa=0,Ze=ke=fe=null,ei=!1,Fi=pl=0,ti=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?fe.memoizedState=Ze=e:Ze=Ze.next=e,Ze}function Qe(){if(ke===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Ze===null?fe.memoizedState:Ze.next;if(t!==null)Ze=t,ke=e;else{if(e===null)throw fe.alternate===null?Error(r(467)):Error(r(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Ze===null?fe.memoizedState=Ze=e:Ze=Ze.next=e}return Ze}function gl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function es(e){var t=Fi;return Fi+=1,ti===null&&(ti=[]),e=pf(ti,e,t),t=fe,(Ze===null?t.memoizedState:Ze.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?lh:Ru),e}function yl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return es(e);if(e.$$typeof===H)return rt(e)}throw Error(r(438,String(e)))}function bu(e){var t=null,a=fe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=fe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=gl(),fe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=Bt;return t.index++,a}function ga(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=Qe();return _u(t,ke,e)}function _u(e,t,a){var i=e.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=a;var u=e.baseQueue,o=i.pending;if(o!==null){if(u!==null){var d=u.next;u.next=o.next,o.next=d}t.baseQueue=u=o,i.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var v=d=null,w=null,R=t,z=!1;do{var B=R.lane&-536870913;if(B!==R.lane?(ye&B)===B:(pa&B)===B){var C=R.revertLane;if(C===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),B===Jn&&(z=!0);else if((pa&C)===C){R=R.next,C===Jn&&(z=!0);continue}else B={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(v=w=B,d=o):w=w.next=B,fe.lanes|=C,Ga|=C;B=R.action,vn&&a(o,B),o=R.hasEagerState?R.eagerState:a(o,B)}else C={lane:B,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(v=w=C,d=o):w=w.next=C,fe.lanes|=B,Ga|=B;R=R.next}while(R!==null&&R!==t);if(w===null?d=o:w.next=v,!jt(o,e.memoizedState)&&(Pe=!0,z&&(a=Zn,a!==null)))throw a;e.memoizedState=o,e.baseState=d,e.baseQueue=w,i.lastRenderedState=o}return u===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function wu(e){var t=Qe(),a=t.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var i=a.dispatch,u=a.pending,o=t.memoizedState;if(u!==null){a.pending=null;var d=u=u.next;do o=e(o,d.action),d=d.next;while(d!==u);jt(o,t.memoizedState)||(Pe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),a.lastRenderedState=o}return[o,i]}function Af(e,t,a){var i=fe,u=Qe(),o=be;if(o){if(a===void 0)throw Error(r(407));a=a()}else a=t();var d=!jt((ke||u).memoizedState,a);if(d&&(u.memoizedState=a,Pe=!0),u=u.queue,Eu(jf.bind(null,i,u,e),[e]),u.getSnapshot!==t||d||Ze!==null&&Ze.memoizedState.tag&1){if(i.flags|=2048,ai(9,{destroy:void 0},Nf.bind(null,i,u,a,t),null),De===null)throw Error(r(349));o||(pa&127)!==0||Of(i,t,a)}return a}function Of(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=fe.updateQueue,t===null?(t=gl(),fe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Nf(e,t,a,i){t.value=a,t.getSnapshot=i,Rf(t)&&Cf(e)}function jf(e,t,a){return a(function(){Rf(t)&&Cf(e)})}function Rf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!jt(e,a)}catch{return!0}}function Cf(e){var t=on(e,2);t!==null&&Tt(t,e,2)}function Su(e){var t=gt();if(typeof e=="function"){var a=e;if(e=a(),vn){Na(!0);try{a()}finally{Na(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t}function kf(e,t,a,i){return e.baseState=a,_u(e,ke,typeof i=="function"?i:ga)}function dp(e,t,a,i,u){if(wl(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){o.listeners.push(d)}};k.T!==null?a(!0):o.isTransition=!1,i(o),a=t.pending,a===null?(o.next=t.pending=o,Uf(t,o)):(o.next=a.next,t.pending=a.next=o)}}function Uf(e,t){var a=t.action,i=t.payload,u=e.state;if(t.isTransition){var o=k.T,d={};k.T=d;try{var v=a(u,i),w=k.S;w!==null&&w(d,v),Mf(e,t,v)}catch(R){xu(e,t,R)}finally{o!==null&&d.types!==null&&(o.types=d.types),k.T=o}}else try{o=a(u,i),Mf(e,t,o)}catch(R){xu(e,t,R)}}function Mf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Df(e,t,i)},function(i){return xu(e,t,i)}):Df(e,t,a)}function Df(e,t,a){t.status="fulfilled",t.value=a,zf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Uf(e,a)))}function xu(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,zf(t),t=t.next;while(t!==i)}e.action=null}function zf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lf(e,t){return t}function $f(e,t){if(be){var a=De.formState;if(a!==null){e:{var i=fe;if(be){if($e){t:{for(var u=$e,o=Qt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Jt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){$e=Jt(u.nextSibling),i=u.data==="F!";break e}}Ua(i)}i=!1}i&&(t=a[0])}}return a=gt(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:t},a.queue=i,a=nh.bind(null,fe,i),i.dispatch=a,i=Su(!1),o=ju.bind(null,fe,!1,i.queue),i=gt(),u={state:t,dispatch:null,action:e,pending:null},i.queue=u,a=dp.bind(null,fe,u,o,a),u.dispatch=a,i.memoizedState=e,[t,a,!1]}function Bf(e){var t=Qe();return qf(t,ke,e)}function qf(e,t,a){if(t=_u(e,t,Lf)[0],e=vl(ga)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=es(t)}catch(d){throw d===Pn?ul:d}else i=t;t=Qe();var u=t.queue,o=u.dispatch;return a!==t.memoizedState&&(fe.flags|=2048,ai(9,{destroy:void 0},mp.bind(null,u,a),null)),[i,o,e]}function mp(e,t){e.action=t}function Hf(e){var t=Qe(),a=ke;if(a!==null)return qf(t,a,e);Qe(),t=t.memoizedState,a=Qe();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function ai(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=fe.updateQueue,t===null&&(t=gl(),fe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Gf(){return Qe().memoizedState}function bl(e,t,a,i){var u=gt();fe.flags|=e,u.memoizedState=ai(1|t,{destroy:void 0},a,i===void 0?null:i)}function _l(e,t,a,i){var u=Qe();i=i===void 0?null:i;var o=u.memoizedState.inst;ke!==null&&i!==null&&mu(i,ke.memoizedState.deps)?u.memoizedState=ai(t,o,a,i):(fe.flags|=e,u.memoizedState=ai(1|t,o,a,i))}function Vf(e,t){bl(8390656,8,e,t)}function Eu(e,t){_l(2048,8,e,t)}function pp(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=gl(),fe.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Yf(e){var t=Qe().memoizedState;return pp({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function If(e,t){return _l(4,2,e,t)}function Kf(e,t){return _l(4,4,e,t)}function Qf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xf(e,t,a){a=a!=null?a.concat([e]):null,_l(4,4,Qf.bind(null,t,e),a)}function Tu(){}function Jf(e,t){var a=Qe();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&mu(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Zf(e,t){var a=Qe();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&mu(t,i[1]))return i[0];if(i=e(),vn){Na(!0);try{e()}finally{Na(!1)}}return a.memoizedState=[i,t],i}function Au(e,t,a){return a===void 0||(pa&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Ph(),fe.lanes|=e,Ga|=e,a)}function Pf(e,t,a,i){return jt(a,t)?a:Fn.current!==null?(e=Au(e,a,i),jt(e,t)||(Pe=!0),e):(pa&42)===0||(pa&1073741824)!==0&&(ye&261930)===0?(Pe=!0,e.memoizedState=a):(e=Ph(),fe.lanes|=e,Ga|=e,t)}function Wf(e,t,a,i,u){var o=K.p;K.p=o!==0&&8>o?o:8;var d=k.T,v={};k.T=v,ju(e,!1,t,a);try{var w=u(),R=k.S;if(R!==null&&R(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var z=cp(w,i);ts(e,t,z,Dt(e))}else ts(e,t,i,Dt(e))}catch(B){ts(e,t,{then:function(){},status:"rejected",reason:B},Dt())}finally{K.p=o,d!==null&&v.types!==null&&(d.types=v.types),k.T=d}}function gp(){}function Ou(e,t,a,i){if(e.tag!==5)throw Error(r(476));var u=Ff(e).queue;Wf(e,u,t,ae,a===null?gp:function(){return eh(e),a(i)})}function Ff(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function eh(e){var t=Ff(e);t.next===null&&(t=e.alternate.memoizedState),ts(e,t.next.queue,{},Dt())}function Nu(){return rt(vs)}function th(){return Qe().memoizedState}function ah(){return Qe().memoizedState}function yp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Dt();e=za(a);var i=La(t,e,a);i!==null&&(Tt(i,t,a),Zi(i,t,a)),t={cache:nu()},e.payload=t;return}t=t.return}}function vp(e,t,a){var i=Dt();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wl(e)?ih(t,a):(a=Kr(e,t,a,i),a!==null&&(Tt(a,e,i),sh(a,t,i)))}function nh(e,t,a){var i=Dt();ts(e,t,a,i)}function ts(e,t,a,i){var u={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wl(e))ih(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,v=o(d,a);if(u.hasEagerState=!0,u.eagerState=v,jt(v,d))return tl(e,t,u,0),De===null&&el(),!1}catch{}finally{}if(a=Kr(e,t,u,i),a!==null)return Tt(a,e,i),sh(a,t,i),!0}return!1}function ju(e,t,a,i){if(i={lane:2,revertLane:ro(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},wl(e)){if(t)throw Error(r(479))}else t=Kr(e,a,i,2),t!==null&&Tt(t,e,2)}function wl(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function ih(e,t){ei=ml=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function sh(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,oc(e,a)}}var as={readContext:rt,use:yl,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};as.useEffectEvent=Ve;var lh={readContext:rt,use:yl,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Vf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,bl(4194308,4,Qf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){bl(4,2,e,t)},useMemo:function(e,t){var a=gt();t=t===void 0?null:t;var i=e();if(vn){Na(!0);try{e()}finally{Na(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=gt();if(a!==void 0){var u=a(t);if(vn){Na(!0);try{a(t)}finally{Na(!1)}}}else u=t;return i.memoizedState=i.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},i.queue=e,e=e.dispatch=vp.bind(null,fe,e),[i.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Su(e);var t=e.queue,a=nh.bind(null,fe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Tu,useDeferredValue:function(e,t){var a=gt();return Au(a,e,t)},useTransition:function(){var e=Su(!1);return e=Wf.bind(null,fe,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=fe,u=gt();if(be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=t(),De===null)throw Error(r(349));(ye&127)!==0||Of(i,t,a)}u.memoizedState=a;var o={value:a,getSnapshot:t};return u.queue=o,Vf(jf.bind(null,i,o,e),[e]),i.flags|=2048,ai(9,{destroy:void 0},Nf.bind(null,i,o,a,t),null),a},useId:function(){var e=gt(),t=De.identifierPrefix;if(be){var a=sa,i=ia;a=(i&~(1<<32-Nt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=pl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=fp++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Nu,useFormState:$f,useActionState:$f,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ju.bind(null,fe,!0,a),a.dispatch=t,[e,t]},useMemoCache:bu,useCacheRefresh:function(){return gt().memoizedState=yp.bind(null,fe)},useEffectEvent:function(e){var t=gt(),a={impl:e};return t.memoizedState=a,function(){if((Te&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Ru={readContext:rt,use:yl,useCallback:Jf,useContext:rt,useEffect:Eu,useImperativeHandle:Xf,useInsertionEffect:If,useLayoutEffect:Kf,useMemo:Zf,useReducer:vl,useRef:Gf,useState:function(){return vl(ga)},useDebugValue:Tu,useDeferredValue:function(e,t){var a=Qe();return Pf(a,ke.memoizedState,e,t)},useTransition:function(){var e=vl(ga)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:es(e),t]},useSyncExternalStore:Af,useId:th,useHostTransitionStatus:Nu,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,t){var a=Qe();return kf(a,ke,e,t)},useMemoCache:bu,useCacheRefresh:ah};Ru.useEffectEvent=Yf;var rh={readContext:rt,use:yl,useCallback:Jf,useContext:rt,useEffect:Eu,useImperativeHandle:Xf,useInsertionEffect:If,useLayoutEffect:Kf,useMemo:Zf,useReducer:wu,useRef:Gf,useState:function(){return wu(ga)},useDebugValue:Tu,useDeferredValue:function(e,t){var a=Qe();return ke===null?Au(a,e,t):Pf(a,ke.memoizedState,e,t)},useTransition:function(){var e=wu(ga)[0],t=Qe().memoizedState;return[typeof e=="boolean"?e:es(e),t]},useSyncExternalStore:Af,useId:th,useHostTransitionStatus:Nu,useFormState:Hf,useActionState:Hf,useOptimistic:function(e,t){var a=Qe();return ke!==null?kf(a,ke,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bu,useCacheRefresh:ah};rh.useEffectEvent=Yf;function Cu(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:x({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ku={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=Dt(),u=za(i);u.payload=t,a!=null&&(u.callback=a),t=La(e,u,i),t!==null&&(Tt(t,e,i),Zi(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=Dt(),u=za(i);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=La(e,u,i),t!==null&&(Tt(t,e,i),Zi(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Dt(),i=za(a);i.tag=2,t!=null&&(i.callback=t),t=La(e,i,a),t!==null&&(Tt(t,e,a),Zi(t,e,a))}};function uh(e,t,a,i,u,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,d):t.prototype&&t.prototype.isPureReactComponent?!Gi(a,i)||!Gi(u,o):!0}function oh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&ku.enqueueReplaceState(t,t.state,null)}function bn(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=x({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function ch(e){Fs(e)}function fh(e){console.error(e)}function hh(e){Fs(e)}function Sl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function dh(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Uu(e,t,a){return a=za(a),a.tag=3,a.payload={element:null},a.callback=function(){Sl(e,t)},a}function mh(e){return e=za(e),e.tag=3,e}function ph(e,t,a,i){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var o=i.value;e.payload=function(){return u(o)},e.callback=function(){dh(t,a,i)}}var d=a.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){dh(t,a,i),typeof u!="function"&&(Va===null?Va=new Set([this]):Va.add(this));var v=i.stack;this.componentDidCatch(i.value,{componentStack:v!==null?v:""})})}function bp(e,t,a,i,u){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&Xn(t,a,u,!0),a=Ct.current,a!==null){switch(a.tag){case 31:case 13:return Xt===null?Ml():a.alternate===null&&Ye===0&&(Ye=3),a.flags&=-257,a.flags|=65536,a.lanes=u,i===ol?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),io(e,i,u)),!1;case 22:return a.flags|=65536,i===ol?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),io(e,i,u)),!1}throw Error(r(435,a.tag))}return io(e,i,u),Ml(),!1}if(be)return t=Ct.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,i!==Wr&&(e=Error(r(422),{cause:i}),Ii(Yt(e,a)))):(i!==Wr&&(t=Error(r(423),{cause:i}),Ii(Yt(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,i=Yt(i,a),u=Uu(e.stateNode,i,u),ou(e,u),Ye!==4&&(Ye=2)),!1;var o=Error(r(520),{cause:i});if(o=Yt(o,a),cs===null?cs=[o]:cs.push(o),Ye!==4&&(Ye=2),t===null)return!0;i=Yt(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Uu(a.stateNode,i,e),ou(a,e),!1;case 1:if(t=a.type,o=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Va===null||!Va.has(o))))return a.flags|=65536,u&=-u,a.lanes|=u,u=mh(u),ph(u,e,a,i),ou(a,u),!1}a=a.return}while(a!==null);return!1}var Mu=Error(r(461)),Pe=!1;function ut(e,t,a,i){t.child=e===null?bf(t,null,a,i):yn(t,e.child,a,i)}function gh(e,t,a,i,u){a=a.render;var o=t.ref;if("ref"in i){var d={};for(var v in i)v!=="ref"&&(d[v]=i[v])}else d=i;return dn(t),i=pu(e,t,a,d,o,u),v=gu(),e!==null&&!Pe?(yu(e,t,u),ya(e,t,u)):(be&&v&&Zr(t),t.flags|=1,ut(e,t,i,u),t.child)}function yh(e,t,a,i,u){if(e===null){var o=a.type;return typeof o=="function"&&!Qr(o)&&o.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=o,vh(e,t,o,i,u)):(e=nl(a.type,null,i,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Gu(e,u)){var d=o.memoizedProps;if(a=a.compare,a=a!==null?a:Gi,a(d,i)&&e.ref===t.ref)return ya(e,t,u)}return t.flags|=1,e=fa(o,i),e.ref=t.ref,e.return=t,t.child=e}function vh(e,t,a,i,u){if(e!==null){var o=e.memoizedProps;if(Gi(o,i)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=i=o,Gu(e,u))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,ya(e,t,u)}return Du(e,t,a,i,u)}function bh(e,t,a,i){var u=i.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|a:a,e!==null){for(i=t.child=e.child,u=0;i!==null;)u=u|i.lanes|i.childLanes,i=i.sibling;i=u&~o}else i=0,t.child=null;return _h(e,t,o,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rl(t,o!==null?o.cachePool:null),o!==null?Sf(t,o):fu(),xf(t);else return i=t.lanes=536870912,_h(e,t,o!==null?o.baseLanes|a:a,a,i)}else o!==null?(rl(t,o.cachePool),Sf(t,o),Ba(),t.memoizedState=null):(e!==null&&rl(t,null),fu(),Ba());return ut(e,t,u,a),t.child}function ns(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _h(e,t,a,i,u){var o=su();return o=o===null?null:{parent:Je._currentValue,pool:o},t.memoizedState={baseLanes:a,cachePool:o},e!==null&&rl(t,null),fu(),xf(t),e!==null&&Xn(e,t,i,!0),t.childLanes=u,null}function xl(e,t){return t=Tl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function wh(e,t,a){return yn(t,e.child,null,a),e=xl(t,t.pendingProps),e.flags|=2,kt(t),t.memoizedState=null,e}function _p(e,t,a){var i=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(be){if(i.mode==="hidden")return e=xl(t,i),t.lanes=536870912,ns(null,e);if(du(t),(e=$e)?(e=Ud(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},a=nf(e),a.return=t,t.child=a,lt=t,$e=null)):e=null,e===null)throw Ua(t);return t.lanes=536870912,null}return xl(t,i)}var o=e.memoizedState;if(o!==null){var d=o.dehydrated;if(du(t),u)if(t.flags&256)t.flags&=-257,t=wh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Pe||Xn(e,t,a,!1),u=(a&e.childLanes)!==0,Pe||u){if(i=De,i!==null&&(d=cc(i,a),d!==0&&d!==o.retryLane))throw o.retryLane=d,on(e,d),Tt(i,e,d),Mu;Ml(),t=wh(e,t,a)}else e=o.treeContext,$e=Jt(d.nextSibling),lt=t,be=!0,ka=null,Qt=!1,e!==null&&rf(t,e),t=xl(t,i),t.flags|=4096;return t}return e=fa(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function El(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Du(e,t,a,i,u){return dn(t),a=pu(e,t,a,i,void 0,u),i=gu(),e!==null&&!Pe?(yu(e,t,u),ya(e,t,u)):(be&&i&&Zr(t),t.flags|=1,ut(e,t,a,u),t.child)}function Sh(e,t,a,i,u,o){return dn(t),t.updateQueue=null,a=Tf(t,i,a,u),Ef(e),i=gu(),e!==null&&!Pe?(yu(e,t,o),ya(e,t,o)):(be&&i&&Zr(t),t.flags|=1,ut(e,t,a,o),t.child)}function xh(e,t,a,i,u){if(dn(t),t.stateNode===null){var o=Yn,d=a.contextType;typeof d=="object"&&d!==null&&(o=rt(d)),o=new a(i,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=ku,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=i,o.state=t.memoizedState,o.refs={},ru(t),d=a.contextType,o.context=typeof d=="object"&&d!==null?rt(d):Yn,o.state=t.memoizedState,d=a.getDerivedStateFromProps,typeof d=="function"&&(Cu(t,a,d,i),o.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(d=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&ku.enqueueReplaceState(o,o.state,null),Wi(t,i,o,u),Pi(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){o=t.stateNode;var v=t.memoizedProps,w=bn(a,v);o.props=w;var R=o.context,z=a.contextType;d=Yn,typeof z=="object"&&z!==null&&(d=rt(z));var B=a.getDerivedStateFromProps;z=typeof B=="function"||typeof o.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,z||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(v||R!==d)&&oh(t,o,i,d),Da=!1;var C=t.memoizedState;o.state=C,Wi(t,i,o,u),Pi(),R=t.memoizedState,v||C!==R||Da?(typeof B=="function"&&(Cu(t,a,B,i),R=t.memoizedState),(w=Da||uh(t,a,w,i,C,R,d))?(z||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),o.props=i,o.state=R,o.context=d,i=w):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,uu(e,t),d=t.memoizedProps,z=bn(a,d),o.props=z,B=t.pendingProps,C=o.context,R=a.contextType,w=Yn,typeof R=="object"&&R!==null&&(w=rt(R)),v=a.getDerivedStateFromProps,(R=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==B||C!==w)&&oh(t,o,i,w),Da=!1,C=t.memoizedState,o.state=C,Wi(t,i,o,u),Pi();var U=t.memoizedState;d!==B||C!==U||Da||e!==null&&e.dependencies!==null&&sl(e.dependencies)?(typeof v=="function"&&(Cu(t,a,v,i),U=t.memoizedState),(z=Da||uh(t,a,z,i,C,U,w)||e!==null&&e.dependencies!==null&&sl(e.dependencies))?(R||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,U,w),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,U,w)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=U),o.props=i,o.state=U,o.context=w,i=z):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,El(e,t),i=(t.flags&128)!==0,o||i?(o=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&i?(t.child=yn(t,e.child,null,u),t.child=yn(t,null,a,u)):ut(e,t,a,u),t.memoizedState=o.state,e=t.child):e=ya(e,t,u),e}function Eh(e,t,a,i){return fn(),t.flags|=256,ut(e,t,a,i),t.child}var zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lu(e){return{baseLanes:e,cachePool:df()}}function $u(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Mt),e}function Th(e,t,a){var i=t.pendingProps,u=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(be){if(u?$a(t):Ba(),(e=$e)?(e=Ud(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ca!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},a=nf(e),a.return=t,t.child=a,lt=t,$e=null)):e=null,e===null)throw Ua(t);return wo(e)?t.lanes=32:t.lanes=536870912,null}var v=i.children;return i=i.fallback,u?(Ba(),u=t.mode,v=Tl({mode:"hidden",children:v},u),i=cn(i,u,a,null),v.return=t,i.return=t,v.sibling=i,t.child=v,i=t.child,i.memoizedState=Lu(a),i.childLanes=$u(e,d,a),t.memoizedState=zu,ns(null,i)):($a(t),Bu(t,v))}var w=e.memoizedState;if(w!==null&&(v=w.dehydrated,v!==null)){if(o)t.flags&256?($a(t),t.flags&=-257,t=qu(e,t,a)):t.memoizedState!==null?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),v=i.fallback,u=t.mode,i=Tl({mode:"visible",children:i.children},u),v=cn(v,u,a,null),v.flags|=2,i.return=t,v.return=t,i.sibling=v,t.child=i,yn(t,e.child,null,a),i=t.child,i.memoizedState=Lu(a),i.childLanes=$u(e,d,a),t.memoizedState=zu,t=ns(null,i));else if($a(t),wo(v)){if(d=v.nextSibling&&v.nextSibling.dataset,d)var R=d.dgst;d=R,i=Error(r(419)),i.stack="",i.digest=d,Ii({value:i,source:null,stack:null}),t=qu(e,t,a)}else if(Pe||Xn(e,t,a,!1),d=(a&e.childLanes)!==0,Pe||d){if(d=De,d!==null&&(i=cc(d,a),i!==0&&i!==w.retryLane))throw w.retryLane=i,on(e,i),Tt(d,e,i),Mu;_o(v)||Ml(),t=qu(e,t,a)}else _o(v)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,$e=Jt(v.nextSibling),lt=t,be=!0,ka=null,Qt=!1,e!==null&&rf(t,e),t=Bu(t,i.children),t.flags|=4096);return t}return u?(Ba(),v=i.fallback,u=t.mode,w=e.child,R=w.sibling,i=fa(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,R!==null?v=fa(R,v):(v=cn(v,u,a,null),v.flags|=2),v.return=t,i.return=t,i.sibling=v,t.child=i,ns(null,i),i=t.child,v=e.child.memoizedState,v===null?v=Lu(a):(u=v.cachePool,u!==null?(w=Je._currentValue,u=u.parent!==w?{parent:w,pool:w}:u):u=df(),v={baseLanes:v.baseLanes|a,cachePool:u}),i.memoizedState=v,i.childLanes=$u(e,d,a),t.memoizedState=zu,ns(e.child,i)):($a(t),a=e.child,e=a.sibling,a=fa(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=a,t.memoizedState=null,a)}function Bu(e,t){return t=Tl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Tl(e,t){return e=Rt(22,e,null,t),e.lanes=0,e}function qu(e,t,a){return yn(t,e.child,null,a),e=Bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ah(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),tu(e.return,t,a)}function Hu(e,t,a,i,u,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:u,treeForkCount:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=a,d.tailMode=u,d.treeForkCount=o)}function Oh(e,t,a){var i=t.pendingProps,u=i.revealOrder,o=i.tail;i=i.children;var d=Ke.current,v=(d&2)!==0;if(v?(d=d&1|2,t.flags|=128):d&=1,M(Ke,d),ut(e,t,i,a),i=be?Yi:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ah(e,a,t);else if(e.tag===19)Ah(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&dl(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),Hu(t,!1,u,a,o,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&dl(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}Hu(t,!0,a,null,o,i);break;case"together":Hu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function ya(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ga|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Xn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,a=fa(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=fa(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&sl(e)))}function wp(e,t,a){switch(t.tag){case 3:ne(t,t.stateNode.containerInfo),Ma(t,Je,e.memoizedState.cache),fn();break;case 27:case 5:Ce(t);break;case 4:ne(t,t.stateNode.containerInfo);break;case 10:Ma(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,du(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?($a(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Th(e,t,a):($a(t),e=ya(e,t,a),e!==null?e.sibling:null);$a(t);break;case 19:var u=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(Xn(e,t,a,!1),i=(a&t.childLanes)!==0),u){if(i)return Oh(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),M(Ke,Ke.current),i)break;return null;case 22:return t.lanes=0,bh(e,t,a,t.pendingProps);case 24:Ma(t,Je,e.memoizedState.cache)}return ya(e,t,a)}function Nh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!Gu(e,a)&&(t.flags&128)===0)return Pe=!1,wp(e,t,a);Pe=(e.flags&131072)!==0}else Pe=!1,be&&(t.flags&1048576)!==0&&lf(t,Yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=pn(t.elementType),t.type=e,typeof e=="function")Qr(e)?(i=bn(e,i),t.tag=1,t=xh(null,t,e,i,a)):(t.tag=0,t=Du(null,t,e,i,a));else{if(e!=null){var u=e.$$typeof;if(u===I){t.tag=11,t=gh(null,t,e,i,a);break e}else if(u===Z){t.tag=14,t=yh(null,t,e,i,a);break e}}throw t=Ge(e)||e,Error(r(306,t,""))}}return t;case 0:return Du(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,u=bn(i,t.pendingProps),xh(e,t,i,u,a);case 3:e:{if(ne(t,t.stateNode.containerInfo),e===null)throw Error(r(387));i=t.pendingProps;var o=t.memoizedState;u=o.element,uu(e,t),Wi(t,i,null,a);var d=t.memoizedState;if(i=d.cache,Ma(t,Je,i),i!==o.cache&&au(t,[Je],a,!0),Pi(),i=d.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=Eh(e,t,i,a);break e}else if(i!==u){u=Yt(Error(r(424)),t),Ii(u),t=Eh(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Jt(e.firstChild),lt=t,be=!0,ka=null,Qt=!0,a=bf(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fn(),i===u){t=ya(e,t,a);break e}ut(e,t,i,a)}t=t.child}return t;case 26:return El(e,t),e===null?(a=Bd(t.type,null,t.pendingProps,null))?t.memoizedState=a:be||(a=t.type,e=t.pendingProps,i=Hl(J.current).createElement(a),i[st]=t,i[bt]=e,ot(i,a,e),nt(i),t.stateNode=i):t.memoizedState=Bd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ce(t),e===null&&be&&(i=t.stateNode=zd(t.type,t.pendingProps,J.current),lt=t,Qt=!0,u=$e,Qa(t.type)?(So=u,$e=Jt(i.firstChild)):$e=u),ut(e,t,t.pendingProps.children,a),El(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&be&&((u=i=$e)&&(i=Pp(i,t.type,t.pendingProps,Qt),i!==null?(t.stateNode=i,lt=t,$e=Jt(i.firstChild),Qt=!1,u=!0):u=!1),u||Ua(t)),Ce(t),u=t.type,o=t.pendingProps,d=e!==null?e.memoizedProps:null,i=o.children,yo(u,o)?i=null:d!==null&&yo(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=pu(e,t,hp,null,null,a),vs._currentValue=u),El(e,t),ut(e,t,i,a),t.child;case 6:return e===null&&be&&((e=a=$e)&&(a=Wp(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,lt=t,$e=null,e=!0):e=!1),e||Ua(t)),null;case 13:return Th(e,t,a);case 4:return ne(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=yn(t,null,i,a):ut(e,t,i,a),t.child;case 11:return gh(e,t,t.type,t.pendingProps,a);case 7:return ut(e,t,t.pendingProps,a),t.child;case 8:return ut(e,t,t.pendingProps.children,a),t.child;case 12:return ut(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,Ma(t,t.type,i.value),ut(e,t,i.children,a),t.child;case 9:return u=t.type._context,i=t.pendingProps.children,dn(t),u=rt(u),i=i(u),t.flags|=1,ut(e,t,i,a),t.child;case 14:return yh(e,t,t.type,t.pendingProps,a);case 15:return vh(e,t,t.type,t.pendingProps,a);case 19:return Oh(e,t,a);case 31:return _p(e,t,a);case 22:return bh(e,t,a,t.pendingProps);case 24:return dn(t),i=rt(Je),e===null?(u=su(),u===null&&(u=De,o=nu(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=a),u=o),t.memoizedState={parent:i,cache:u},ru(t),Ma(t,Je,u)):((e.lanes&a)!==0&&(uu(e,t),Wi(t,null,null,a),Pi()),u=e.memoizedState,o=t.memoizedState,u.parent!==i?(u={parent:i,cache:i},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ma(t,Je,i)):(i=o.cache,Ma(t,Je,i),i!==u.cache&&au(t,[Je],a,!0))),ut(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function va(e){e.flags|=4}function Vu(e,t,a,i,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(td())e.flags|=8192;else throw gn=ol,lu}else e.flags&=-16777217}function jh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Yd(t))if(td())e.flags|=8192;else throw gn=ol,lu}function Al(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rc():536870912,e.lanes|=t,li|=t)}function is(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags&65011712,i|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,i|=u.subtreeFlags,i|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function Sp(e,t,a){var i=t.pendingProps;switch(Pr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),ma(Je),ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qn(t)?va(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Fr())),Be(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(va(t),o!==null?(Be(t),jh(t,o)):(Be(t),Vu(t,u,null,i,a))):o?o!==e.memoizedState?(va(t),Be(t),jh(t,o)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&va(t),Be(t),Vu(t,u,e,i,a)),null;case 27:if(Oe(t),a=J.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&va(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Be(t),null}e=$.current,Qn(t)?uf(t):(e=zd(u,i,a),t.stateNode=e,va(t))}return Be(t),null;case 5:if(Oe(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&va(t);else{if(!i){if(t.stateNode===null)throw Error(r(166));return Be(t),null}if(o=$.current,Qn(t))uf(t);else{var d=Hl(J.current);switch(o){case 1:o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=d.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof i.is=="string"?d.createElement("select",{is:i.is}):d.createElement("select"),i.multiple?o.multiple=!0:i.size&&(o.size=i.size);break;default:o=typeof i.is=="string"?d.createElement(u,{is:i.is}):d.createElement(u)}}o[st]=t,o[bt]=i;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=o;e:switch(ot(o,u,i),u){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&va(t)}}return Be(t),Vu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&va(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(r(166));if(e=J.current,Qn(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,u=lt,u!==null)switch(u.tag){case 27:case 5:i=u.memoizedProps}e[st]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||Td(e.nodeValue,a)),e||Ua(t,!0)}else e=Hl(e).createTextNode(i),e[st]=t,t.stateNode=e}return Be(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=Qn(t),a!==null){if(e===null){if(!i)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[st]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else a=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(kt(t),t):(kt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return Be(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Qn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[st]=t}else fn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),u=!1}else u=Fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(kt(t),t):(kt(t),null)}return kt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,u=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(u=i.alternate.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==u&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Al(t,t.updateQueue),Be(t),null);case 4:return ue(),e===null&&fo(t.stateNode.containerInfo),Be(t),null;case 10:return ma(t.type),Be(t),null;case 19:if(T(Ke),i=t.memoizedState,i===null)return Be(t),null;if(u=(t.flags&128)!==0,o=i.rendering,o===null)if(u)is(i,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=dl(e),o!==null){for(t.flags|=128,is(i,!1),e=o.updateQueue,t.updateQueue=e,Al(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)af(a,e),a=a.sibling;return M(Ke,Ke.current&1|2),be&&ha(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&dt()>Cl&&(t.flags|=128,u=!0,is(i,!1),t.lanes=4194304)}else{if(!u)if(e=dl(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Al(t,e),is(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!be)return Be(t),null}else 2*dt()-i.renderingStartTime>Cl&&a!==536870912&&(t.flags|=128,u=!0,is(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(e=i.last,e!==null?e.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=dt(),e.sibling=null,a=Ke.current,M(Ke,u?a&1|2:a&1),be&&ha(t,i.treeForkCount),e):(Be(t),null);case 22:case 23:return kt(t),hu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),a=t.updateQueue,a!==null&&Al(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&T(mn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ma(Je),Be(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function xp(e,t){switch(Pr(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(Je),ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Oe(t),null;case 31:if(t.memoizedState!==null){if(kt(t),t.alternate===null)throw Error(r(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return T(Ke),null;case 4:return ue(),null;case 10:return ma(t.type),null;case 22:case 23:return kt(t),hu(),e!==null&&T(mn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ma(Je),null;case 25:return null;default:return null}}function Rh(e,t){switch(Pr(t),t.tag){case 3:ma(Je),ue();break;case 26:case 27:case 5:Oe(t);break;case 4:ue();break;case 31:t.memoizedState!==null&&kt(t);break;case 13:kt(t);break;case 19:T(Ke);break;case 10:ma(t.type);break;case 22:case 23:kt(t),hu(),e!==null&&T(mn);break;case 24:ma(Je)}}function ss(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var u=i.next;a=u;do{if((a.tag&e)===e){i=void 0;var o=a.create,d=a.inst;i=o(),d.destroy=i}a=a.next}while(a!==u)}}catch(v){je(t,t.return,v)}}function qa(e,t,a){try{var i=t.updateQueue,u=i!==null?i.lastEffect:null;if(u!==null){var o=u.next;i=o;do{if((i.tag&e)===e){var d=i.inst,v=d.destroy;if(v!==void 0){d.destroy=void 0,u=t;var w=a,R=v;try{R()}catch(z){je(u,w,z)}}}i=i.next}while(i!==o)}}catch(z){je(t,t.return,z)}}function Ch(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{wf(t,a)}catch(i){je(e,e.return,i)}}}function kh(e,t,a){a.props=bn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){je(e,t,i)}}function ls(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(u){je(e,t,u)}}function la(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(u){je(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){je(e,t,u)}else a.current=null}function Uh(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(u){je(e,e.return,u)}}function Yu(e,t,a){try{var i=e.stateNode;Ip(i,e.type,a,t),i[bt]=t}catch(u){je(e,e.return,u)}}function Mh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qa(e.type)||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ku(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=oa));else if(i!==4&&(i===27&&Qa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Ku(e,t,a),e=e.sibling;e!==null;)Ku(e,t,a),e=e.sibling}function Ol(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Qa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ol(e,t,a),e=e.sibling;e!==null;)Ol(e,t,a),e=e.sibling}function Dh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);ot(t,i,a),t[st]=e,t[bt]=a}catch(o){je(e,e.return,o)}}var ba=!1,We=!1,Qu=!1,zh=typeof WeakSet=="function"?WeakSet:Set,it=null;function Ep(e,t){if(e=e.containerInfo,po=Xl,e=Qc(e),qr(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var u=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{a.nodeType,o.nodeType}catch{a=null;break e}var d=0,v=-1,w=-1,R=0,z=0,B=e,C=null;t:for(;;){for(var U;B!==a||u!==0&&B.nodeType!==3||(v=d+u),B!==o||i!==0&&B.nodeType!==3||(w=d+i),B.nodeType===3&&(d+=B.nodeValue.length),(U=B.firstChild)!==null;)C=B,B=U;for(;;){if(B===e)break t;if(C===a&&++R===u&&(v=d),C===o&&++z===i&&(w=d),(U=B.nextSibling)!==null)break;B=C,C=B.parentNode}B=U}a=v===-1||w===-1?null:{start:v,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(go={focusedElem:e,selectionRange:a},Xl=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){switch(t=it,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,a=t,u=o.memoizedProps,o=o.memoizedState,i=a.stateNode;try{var P=bn(a.type,u);e=i.getSnapshotBeforeUpdate(P,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(ie){je(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)bo(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}}function Lh(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:wa(e,a),i&4&&ss(5,a);break;case 1:if(wa(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(d){je(a,a.return,d)}else{var u=bn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){je(a,a.return,d)}}i&64&&Ch(a),i&512&&ls(a,a.return);break;case 3:if(wa(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{wf(e,t)}catch(d){je(a,a.return,d)}}break;case 27:t===null&&i&4&&Dh(a);case 26:case 5:wa(e,a),t===null&&i&4&&Uh(a),i&512&&ls(a,a.return);break;case 12:wa(e,a);break;case 31:wa(e,a),i&4&&qh(e,a);break;case 13:wa(e,a),i&4&&Hh(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Up.bind(null,a),Fp(e,a))));break;case 22:if(i=a.memoizedState!==null||ba,!i){t=t!==null&&t.memoizedState!==null||We,u=ba;var o=We;ba=i,(We=t)&&!o?Sa(e,a,(a.subtreeFlags&8772)!==0):wa(e,a),ba=u,We=o}break;case 30:break;default:wa(e,a)}}function $h(e){var t=e.alternate;t!==null&&(e.alternate=null,$h(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,wt=!1;function _a(e,t,a){for(a=a.child;a!==null;)Bh(e,t,a),a=a.sibling}function Bh(e,t,a){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(an,a)}catch{}switch(a.tag){case 26:We||la(a,t),_a(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||la(a,t);var i=qe,u=wt;Qa(a.type)&&(qe=a.stateNode,wt=!1),_a(e,t,a),ps(a.stateNode),qe=i,wt=u;break;case 5:We||la(a,t);case 6:if(i=qe,u=wt,qe=null,_a(e,t,a),qe=i,wt=u,qe!==null)if(wt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(a.stateNode)}catch(o){je(a,t,o)}else try{qe.removeChild(a.stateNode)}catch(o){je(a,t,o)}break;case 18:qe!==null&&(wt?(e=qe,Cd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),mi(e)):Cd(qe,a.stateNode));break;case 4:i=qe,u=wt,qe=a.stateNode.containerInfo,wt=!0,_a(e,t,a),qe=i,wt=u;break;case 0:case 11:case 14:case 15:qa(2,a,t),We||qa(4,a,t),_a(e,t,a);break;case 1:We||(la(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&kh(a,t,i)),_a(e,t,a);break;case 21:_a(e,t,a);break;case 22:We=(i=We)||a.memoizedState!==null,_a(e,t,a),We=i;break;default:_a(e,t,a)}}function qh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{mi(e)}catch(a){je(t,t.return,a)}}}function Hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{mi(e)}catch(a){je(t,t.return,a)}}function Tp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new zh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new zh),t;default:throw Error(r(435,e.tag))}}function Nl(e,t){var a=Tp(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var u=Mp.bind(null,e,i);i.then(u,u)}})}function St(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var u=a[i],o=e,d=t,v=d;e:for(;v!==null;){switch(v.tag){case 27:if(Qa(v.type)){qe=v.stateNode,wt=!1;break e}break;case 5:qe=v.stateNode,wt=!1;break e;case 3:case 4:qe=v.stateNode.containerInfo,wt=!0;break e}v=v.return}if(qe===null)throw Error(r(160));Bh(o,d,u),qe=null,wt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Gh(t,e),t=t.sibling}var Ft=null;function Gh(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),xt(e),i&4&&(qa(3,e,e.return),ss(3,e),qa(5,e,e.return));break;case 1:St(t,e),xt(e),i&512&&(We||a===null||la(a,a.return)),i&64&&ba&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var u=Ft;if(St(t,e),xt(e),i&512&&(We||a===null||la(a,a.return)),i&4){var o=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(i){case"title":o=u.getElementsByTagName("title")[0],(!o||o[Ui]||o[st]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(i),u.head.insertBefore(o,u.querySelector("head > title"))),ot(o,i,a),o[st]=e,nt(o),i=o;break e;case"link":var d=Gd("link","href",u).get(i+(a.href||""));if(d){for(var v=0;v<d.length;v++)if(o=d[v],o.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&o.getAttribute("rel")===(a.rel==null?null:a.rel)&&o.getAttribute("title")===(a.title==null?null:a.title)&&o.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){d.splice(v,1);break t}}o=u.createElement(i),ot(o,i,a),u.head.appendChild(o);break;case"meta":if(d=Gd("meta","content",u).get(i+(a.content||""))){for(v=0;v<d.length;v++)if(o=d[v],o.getAttribute("content")===(a.content==null?null:""+a.content)&&o.getAttribute("name")===(a.name==null?null:a.name)&&o.getAttribute("property")===(a.property==null?null:a.property)&&o.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&o.getAttribute("charset")===(a.charSet==null?null:a.charSet)){d.splice(v,1);break t}}o=u.createElement(i),ot(o,i,a),u.head.appendChild(o);break;default:throw Error(r(468,i))}o[st]=e,nt(o),i=o}e.stateNode=i}else Vd(u,e.type,e.stateNode);else e.stateNode=Hd(u,i,e.memoizedProps);else o!==i?(o===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):o.count--,i===null?Vd(u,e.type,e.stateNode):Hd(u,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Yu(e,e.memoizedProps,a.memoizedProps)}break;case 27:St(t,e),xt(e),i&512&&(We||a===null||la(a,a.return)),a!==null&&i&4&&Yu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(St(t,e),xt(e),i&512&&(We||a===null||la(a,a.return)),e.flags&32){u=e.stateNode;try{Ln(u,"")}catch(P){je(e,e.return,P)}}i&4&&e.stateNode!=null&&(u=e.memoizedProps,Yu(e,u,a!==null?a.memoizedProps:u)),i&1024&&(Qu=!0);break;case 6:if(St(t,e),xt(e),i&4){if(e.stateNode===null)throw Error(r(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(P){je(e,e.return,P)}}break;case 3:if(Yl=null,u=Ft,Ft=Gl(t.containerInfo),St(t,e),Ft=u,xt(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{mi(t.containerInfo)}catch(P){je(e,e.return,P)}Qu&&(Qu=!1,Vh(e));break;case 4:i=Ft,Ft=Gl(e.stateNode.containerInfo),St(t,e),xt(e),Ft=i;break;case 12:St(t,e),xt(e);break;case 31:St(t,e),xt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nl(e,i)));break;case 13:St(t,e),xt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rl=dt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nl(e,i)));break;case 22:u=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,R=ba,z=We;if(ba=R||u,We=z||w,St(t,e),We=z,ba=R,xt(e),i&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||w||ba||We||_n(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){w=a=t;try{if(o=w.stateNode,u)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=w.stateNode;var B=w.memoizedProps.style,C=B!=null&&B.hasOwnProperty("display")?B.display:null;v.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(P){je(w,w.return,P)}}}else if(t.tag===6){if(a===null){w=t;try{w.stateNode.nodeValue=u?"":w.memoizedProps}catch(P){je(w,w.return,P)}}}else if(t.tag===18){if(a===null){w=t;try{var U=w.stateNode;u?kd(U,!0):kd(w.stateNode,!1)}catch(P){je(w,w.return,P)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Nl(e,a))));break;case 19:St(t,e),xt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Nl(e,i)));break;case 30:break;case 21:break;default:St(t,e),xt(e)}}function xt(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Mh(i)){a=i;break}i=i.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,o=Iu(e);Ol(e,o,u);break;case 5:var d=a.stateNode;a.flags&32&&(Ln(d,""),a.flags&=-33);var v=Iu(e);Ol(e,v,d);break;case 3:case 4:var w=a.stateNode.containerInfo,R=Iu(e);Ku(e,R,w);break;default:throw Error(r(161))}}catch(z){je(e,e.return,z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function wa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lh(e,t.alternate,t),t=t.sibling}function _n(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:qa(4,t,t.return),_n(t);break;case 1:la(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&kh(t,t.return,a),_n(t);break;case 27:ps(t.stateNode);case 26:case 5:la(t,t.return),_n(t);break;case 22:t.memoizedState===null&&_n(t);break;case 30:_n(t);break;default:_n(t)}e=e.sibling}}function Sa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,u=e,o=t,d=o.flags;switch(o.tag){case 0:case 11:case 15:Sa(u,o,a),ss(4,o);break;case 1:if(Sa(u,o,a),i=o,u=i.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){je(i,i.return,R)}if(i=o,u=i.updateQueue,u!==null){var v=i.stateNode;try{var w=u.shared.hiddenCallbacks;if(w!==null)for(u.shared.hiddenCallbacks=null,u=0;u<w.length;u++)_f(w[u],v)}catch(R){je(i,i.return,R)}}a&&d&64&&Ch(o),ls(o,o.return);break;case 27:Dh(o);case 26:case 5:Sa(u,o,a),a&&i===null&&d&4&&Uh(o),ls(o,o.return);break;case 12:Sa(u,o,a);break;case 31:Sa(u,o,a),a&&d&4&&qh(u,o);break;case 13:Sa(u,o,a),a&&d&4&&Hh(u,o);break;case 22:o.memoizedState===null&&Sa(u,o,a),ls(o,o.return);break;case 30:break;default:Sa(u,o,a)}t=t.sibling}}function Xu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ki(a))}function Ju(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e))}function ea(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yh(e,t,a,i),t=t.sibling}function Yh(e,t,a,i){var u=t.flags;switch(t.tag){case 0:case 11:case 15:ea(e,t,a,i),u&2048&&ss(9,t);break;case 1:ea(e,t,a,i);break;case 3:ea(e,t,a,i),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ki(e)));break;case 12:if(u&2048){ea(e,t,a,i),e=t.stateNode;try{var o=t.memoizedProps,d=o.id,v=o.onPostCommit;typeof v=="function"&&v(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){je(t,t.return,w)}}else ea(e,t,a,i);break;case 31:ea(e,t,a,i);break;case 13:ea(e,t,a,i);break;case 23:break;case 22:o=t.stateNode,d=t.alternate,t.memoizedState!==null?o._visibility&2?ea(e,t,a,i):rs(e,t):o._visibility&2?ea(e,t,a,i):(o._visibility|=2,ni(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),u&2048&&Xu(d,t);break;case 24:ea(e,t,a,i),u&2048&&Ju(t.alternate,t);break;default:ea(e,t,a,i)}}function ni(e,t,a,i,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,d=t,v=a,w=i,R=d.flags;switch(d.tag){case 0:case 11:case 15:ni(o,d,v,w,u),ss(8,d);break;case 23:break;case 22:var z=d.stateNode;d.memoizedState!==null?z._visibility&2?ni(o,d,v,w,u):rs(o,d):(z._visibility|=2,ni(o,d,v,w,u)),u&&R&2048&&Xu(d.alternate,d);break;case 24:ni(o,d,v,w,u),u&&R&2048&&Ju(d.alternate,d);break;default:ni(o,d,v,w,u)}t=t.sibling}}function rs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,u=i.flags;switch(i.tag){case 22:rs(a,i),u&2048&&Xu(i.alternate,i);break;case 24:rs(a,i),u&2048&&Ju(i.alternate,i);break;default:rs(a,i)}t=t.sibling}}var us=8192;function ii(e,t,a){if(e.subtreeFlags&us)for(e=e.child;e!==null;)Ih(e,t,a),e=e.sibling}function Ih(e,t,a){switch(e.tag){case 26:ii(e,t,a),e.flags&us&&e.memoizedState!==null&&fg(a,Ft,e.memoizedState,e.memoizedProps);break;case 5:ii(e,t,a);break;case 3:case 4:var i=Ft;Ft=Gl(e.stateNode.containerInfo),ii(e,t,a),Ft=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=us,us=16777216,ii(e,t,a),us=i):ii(e,t,a));break;default:ii(e,t,a)}}function Kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function os(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];it=i,Xh(i,e)}Kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qh(e),e=e.sibling}function Qh(e){switch(e.tag){case 0:case 11:case 15:os(e),e.flags&2048&&qa(9,e,e.return);break;case 3:os(e);break;case 12:os(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,jl(e)):os(e);break;default:os(e)}}function jl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];it=i,Xh(i,e)}Kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:qa(8,t,t.return),jl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,jl(t));break;default:jl(t)}e=e.sibling}}function Xh(e,t){for(;it!==null;){var a=it;switch(a.tag){case 0:case 11:case 15:qa(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Ki(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,it=i;else e:for(a=e;it!==null;){i=it;var u=i.sibling,o=i.return;if($h(i),i===a){it=null;break e}if(u!==null){u.return=o,it=u;break e}it=o}}}var Ap={getCacheForType:function(e){var t=rt(Je),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return rt(Je).controller.signal}},Op=typeof WeakMap=="function"?WeakMap:Map,Te=0,De=null,pe=null,ye=0,Ne=0,Ut=null,Ha=!1,si=!1,Zu=!1,xa=0,Ye=0,Ga=0,wn=0,Pu=0,Mt=0,li=0,cs=null,Et=null,Wu=!1,Rl=0,Jh=0,Cl=1/0,kl=null,Va=null,et=0,Ya=null,ri=null,Ea=0,Fu=0,eo=null,Zh=null,fs=0,to=null;function Dt(){return(Te&2)!==0&&ye!==0?ye&-ye:k.T!==null?ro():fc()}function Ph(){if(Mt===0)if((ye&536870912)===0||be){var e=qs;qs<<=1,(qs&3932160)===0&&(qs=262144),Mt=e}else Mt=536870912;return e=Ct.current,e!==null&&(e.flags|=32),Mt}function Tt(e,t,a){(e===De&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(ui(e,0),Ia(e,ye,Mt,!1)),ki(e,a),((Te&2)===0||e!==De)&&(e===De&&((Te&2)===0&&(wn|=a),Ye===4&&Ia(e,ye,Mt,!1)),ra(e))}function Wh(e,t,a){if((Te&6)!==0)throw Error(r(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Ci(e,t),u=i?Rp(e,t):no(e,t,!0),o=i;do{if(u===0){si&&!i&&Ia(e,t,0,!1);break}else{if(a=e.current.alternate,o&&!Np(a)){u=no(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var v=e;u=cs;var w=v.current.memoizedState.isDehydrated;if(w&&(ui(v,d).flags|=256),d=no(v,d,!1),d!==2){if(Zu&&!w){v.errorRecoveryDisabledLanes|=o,wn|=o,u=4;break e}o=Et,Et=u,o!==null&&(Et===null?Et=o:Et.push.apply(Et,o))}u=d}if(o=!1,u!==2)continue}}if(u===1){ui(e,0),Ia(e,t,0,!0);break}e:{switch(i=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ia(i,t,Mt,!Ha);break e;case 2:Et=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=Rl+300-dt(),10<u)){if(Ia(i,t,Mt,!Ha),Gs(i,0,!0)!==0)break e;Ea=t,i.timeoutHandle=jd(Fh.bind(null,i,a,Et,kl,Wu,t,Mt,wn,li,Ha,o,"Throttled",-0,0),u);break e}Fh(i,a,Et,kl,Wu,t,Mt,wn,li,Ha,o,null,-0,0)}}break}while(!0);ra(e)}function Fh(e,t,a,i,u,o,d,v,w,R,z,B,C,U){if(e.timeoutHandle=-1,B=t.subtreeFlags,B&8192||(B&16785408)===16785408){B={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:oa},Ih(t,o,B);var P=(o&62914560)===o?Rl-dt():(o&4194048)===o?Jh-dt():0;if(P=hg(B,P),P!==null){Ea=o,e.cancelPendingCommit=P(rd.bind(null,e,t,o,a,i,u,d,v,w,z,B,null,C,U)),Ia(e,o,d,!R);return}}rd(e,t,o,a,i,u,d,v,w)}function Np(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var u=a[i],o=u.getSnapshot;u=u.value;try{if(!jt(o(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ia(e,t,a,i){t&=~Pu,t&=~wn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var u=t;0<u;){var o=31-Nt(u),d=1<<o;i[o]=-1,u&=~d}a!==0&&uc(e,a,t)}function Ul(){return(Te&6)===0?(hs(0),!1):!0}function ao(){if(pe!==null){if(Ne===0)var e=pe.return;else e=pe,da=hn=null,vu(e),Wn=null,Xi=0,e=pe;for(;e!==null;)Rh(e.alternate,e),e=e.return;pe=null}}function ui(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Xp(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ea=0,ao(),De=e,pe=a=fa(e.current,null),ye=t,Ne=0,Ut=null,Ha=!1,si=Ci(e,t),Zu=!1,li=Mt=Pu=wn=Ga=Ye=0,Et=cs=null,Wu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var u=31-Nt(i),o=1<<u;t|=e[u],i&=~o}return xa=t,el(),a}function ed(e,t){fe=null,k.H=as,t===Pn||t===ul?(t=gf(),Ne=3):t===lu?(t=gf(),Ne=4):Ne=t===Mu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,pe===null&&(Ye=1,Sl(e,Yt(t,e.current)))}function td(){var e=Ct.current;return e===null?!0:(ye&4194048)===ye?Xt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Xt:!1}function ad(){var e=k.H;return k.H=as,e===null?as:e}function nd(){var e=k.A;return k.A=Ap,e}function Ml(){Ye=4,Ha||(ye&4194048)!==ye&&Ct.current!==null||(si=!0),(Ga&134217727)===0&&(wn&134217727)===0||De===null||Ia(De,ye,Mt,!1)}function no(e,t,a){var i=Te;Te|=2;var u=ad(),o=nd();(De!==e||ye!==t)&&(kl=null,ui(e,t)),t=!1;var d=Ye;e:do try{if(Ne!==0&&pe!==null){var v=pe,w=Ut;switch(Ne){case 8:ao(),d=6;break e;case 3:case 2:case 9:case 6:Ct.current===null&&(t=!0);var R=Ne;if(Ne=0,Ut=null,oi(e,v,w,R),a&&si){d=0;break e}break;default:R=Ne,Ne=0,Ut=null,oi(e,v,w,R)}}jp(),d=Ye;break}catch(z){ed(e,z)}while(!0);return t&&e.shellSuspendCounter++,da=hn=null,Te=i,k.H=u,k.A=o,pe===null&&(De=null,ye=0,el()),d}function jp(){for(;pe!==null;)id(pe)}function Rp(e,t){var a=Te;Te|=2;var i=ad(),u=nd();De!==e||ye!==t?(kl=null,Cl=dt()+500,ui(e,t)):si=Ci(e,t);e:do try{if(Ne!==0&&pe!==null){t=pe;var o=Ut;t:switch(Ne){case 1:Ne=0,Ut=null,oi(e,t,o,1);break;case 2:case 9:if(mf(o)){Ne=0,Ut=null,sd(t);break}t=function(){Ne!==2&&Ne!==9||De!==e||(Ne=7),ra(e)},o.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:mf(o)?(Ne=0,Ut=null,sd(t)):(Ne=0,Ut=null,oi(e,t,o,7));break;case 5:var d=null;switch(pe.tag){case 26:d=pe.memoizedState;case 5:case 27:var v=pe;if(d?Yd(d):v.stateNode.complete){Ne=0,Ut=null;var w=v.sibling;if(w!==null)pe=w;else{var R=v.return;R!==null?(pe=R,Dl(R)):pe=null}break t}}Ne=0,Ut=null,oi(e,t,o,5);break;case 6:Ne=0,Ut=null,oi(e,t,o,6);break;case 8:ao(),Ye=6;break e;default:throw Error(r(462))}}Cp();break}catch(z){ed(e,z)}while(!0);return da=hn=null,k.H=i,k.A=u,Te=a,pe!==null?0:(De=null,ye=0,el(),Ye)}function Cp(){for(;pe!==null&&!pr();)id(pe)}function id(e){var t=Nh(e.alternate,e,xa);e.memoizedProps=e.pendingProps,t===null?Dl(e):pe=t}function sd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Sh(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=Sh(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:vu(t);default:Rh(a,t),t=pe=af(t,xa),t=Nh(a,t,xa)}e.memoizedProps=e.pendingProps,t===null?Dl(e):pe=t}function oi(e,t,a,i){da=hn=null,vu(t),Wn=null,Xi=0;var u=t.return;try{if(bp(e,u,t,a,ye)){Ye=1,Sl(e,Yt(a,e.current)),pe=null;return}}catch(o){if(u!==null)throw pe=u,o;Ye=1,Sl(e,Yt(a,e.current)),pe=null;return}t.flags&32768?(be||i===1?e=!0:si||(ye&536870912)!==0?e=!1:(Ha=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ct.current,i!==null&&i.tag===13&&(i.flags|=16384))),ld(t,e)):Dl(t)}function Dl(e){var t=e;do{if((t.flags&32768)!==0){ld(t,Ha);return}e=t.return;var a=Sp(t.alternate,t,xa);if(a!==null){pe=a;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Ye===0&&(Ye=5)}function ld(e,t){do{var a=xp(e.alternate,e);if(a!==null){a.flags&=32767,pe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=a}while(e!==null);Ye=6,pe=null}function rd(e,t,a,i,u,o,d,v,w){e.cancelPendingCommit=null;do zl();while(et!==0);if((Te&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Ir,c0(e,a,o,d,v,w),e===De&&(pe=De=null,ye=0),ri=t,Ya=e,Ea=a,Fu=o,eo=u,Zh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dp(Rn,function(){return hd(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=k.T,k.T=null,u=K.p,K.p=2,d=Te,Te|=4;try{Ep(e,t,a)}finally{Te=d,K.p=u,k.T=i}}et=1,ud(),od(),cd()}}function ud(){if(et===1){et=0;var e=Ya,t=ri,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=k.T,k.T=null;var i=K.p;K.p=2;var u=Te;Te|=4;try{Gh(t,e);var o=go,d=Qc(e.containerInfo),v=o.focusedElem,w=o.selectionRange;if(d!==v&&v&&v.ownerDocument&&Kc(v.ownerDocument.documentElement,v)){if(w!==null&&qr(v)){var R=w.start,z=w.end;if(z===void 0&&(z=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(z,v.value.length);else{var B=v.ownerDocument||document,C=B&&B.defaultView||window;if(C.getSelection){var U=C.getSelection(),P=v.textContent.length,ie=Math.min(w.start,P),Me=w.end===void 0?ie:Math.min(w.end,P);!U.extend&&ie>Me&&(d=Me,Me=ie,ie=d);var A=Ic(v,ie),S=Ic(v,Me);if(A&&S&&(U.rangeCount!==1||U.anchorNode!==A.node||U.anchorOffset!==A.offset||U.focusNode!==S.node||U.focusOffset!==S.offset)){var j=B.createRange();j.setStart(A.node,A.offset),U.removeAllRanges(),ie>Me?(U.addRange(j),U.extend(S.node,S.offset)):(j.setEnd(S.node,S.offset),U.addRange(j))}}}}for(B=[],U=v;U=U.parentNode;)U.nodeType===1&&B.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<B.length;v++){var L=B[v];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}Xl=!!po,go=po=null}finally{Te=u,K.p=i,k.T=a}}e.current=t,et=2}}function od(){if(et===2){et=0;var e=Ya,t=ri,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=k.T,k.T=null;var i=K.p;K.p=2;var u=Te;Te|=4;try{Lh(e,t.alternate,t)}finally{Te=u,K.p=i,k.T=a}}et=3}}function cd(){if(et===4||et===3){et=0,gr();var e=Ya,t=ri,a=Ea,i=Zh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?et=5:(et=0,ri=Ya=null,fd(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Va=null),wr(a),t=t.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(an,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=k.T,u=K.p,K.p=2,k.T=null;try{for(var o=e.onRecoverableError,d=0;d<i.length;d++){var v=i[d];o(v.value,{componentStack:v.stack})}}finally{k.T=t,K.p=u}}(Ea&3)!==0&&zl(),ra(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===to?fs++:(fs=0,to=e):fs=0,hs(0)}}function fd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ki(t)))}function zl(){return ud(),od(),cd(),hd()}function hd(){if(et!==5)return!1;var e=Ya,t=Fu;Fu=0;var a=wr(Ea),i=k.T,u=K.p;try{K.p=32>a?32:a,k.T=null,a=eo,eo=null;var o=Ya,d=Ea;if(et=0,ri=Ya=null,Ea=0,(Te&6)!==0)throw Error(r(331));var v=Te;if(Te|=4,Qh(o.current),Yh(o,o.current,d,a),Te=v,hs(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(an,o)}catch{}return!0}finally{K.p=u,k.T=i,fd(e,t)}}function dd(e,t,a){t=Yt(a,t),t=Uu(e.stateNode,t,2),e=La(e,t,2),e!==null&&(ki(e,2),ra(e))}function je(e,t,a){if(e.tag===3)dd(e,e,a);else for(;t!==null;){if(t.tag===3){dd(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Va===null||!Va.has(i))){e=Yt(a,e),a=mh(2),i=La(t,a,2),i!==null&&(ph(a,i,t,e),ki(i,2),ra(i));break}}t=t.return}}function io(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Op;var u=new Set;i.set(t,u)}else u=i.get(t),u===void 0&&(u=new Set,i.set(t,u));u.has(a)||(Zu=!0,u.add(a),e=kp.bind(null,e,t,a),t.then(e,e))}function kp(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,De===e&&(ye&a)===a&&(Ye===4||Ye===3&&(ye&62914560)===ye&&300>dt()-Rl?(Te&2)===0&&ui(e,0):Pu|=a,li===ye&&(li=0)),ra(e)}function md(e,t){t===0&&(t=rc()),e=on(e,t),e!==null&&(ki(e,t),ra(e))}function Up(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),md(e,a)}function Mp(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}i!==null&&i.delete(t),md(e,a)}function Dp(e,t){return vt(e,t)}var Ll=null,ci=null,so=!1,$l=!1,lo=!1,Ka=0;function ra(e){e!==ci&&e.next===null&&(ci===null?Ll=ci=e:ci=ci.next=e),$l=!0,so||(so=!0,Lp())}function hs(e,t){if(!lo&&$l){lo=!0;do for(var a=!1,i=Ll;i!==null;){if(e!==0){var u=i.pendingLanes;if(u===0)var o=0;else{var d=i.suspendedLanes,v=i.pingedLanes;o=(1<<31-Nt(42|e)+1)-1,o&=u&~(d&~v),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(a=!0,vd(i,o))}else o=ye,o=Gs(i,i===De?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(o&3)===0||Ci(i,o)||(a=!0,vd(i,o));i=i.next}while(a);lo=!1}}function zp(){pd()}function pd(){$l=so=!1;var e=0;Ka!==0&&Qp()&&(e=Ka);for(var t=dt(),a=null,i=Ll;i!==null;){var u=i.next,o=gd(i,t);o===0?(i.next=null,a===null?Ll=u:a.next=u,u===null&&(ci=a)):(a=i,(e!==0||(o&3)!==0)&&($l=!0)),i=u}et!==0&&et!==5||hs(e),Ka!==0&&(Ka=0)}function gd(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var d=31-Nt(o),v=1<<d,w=u[d];w===-1?((v&a)===0||(v&i)!==0)&&(u[d]=o0(v,t)):w<=t&&(e.expiredLanes|=v),o&=~v}if(t=De,a=ye,a=Gs(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Oi(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ci(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Oi(i),wr(a)){case 2:case 8:a=Ls;break;case 32:a=Rn;break;case 268435456:a=ji;break;default:a=Rn}return i=yd.bind(null,e),a=vt(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Oi(i),e.callbackPriority=2,e.callbackNode=null,2}function yd(e,t){if(et!==0&&et!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(zl()&&e.callbackNode!==a)return null;var i=ye;return i=Gs(e,e===De?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Wh(e,i,t),gd(e,dt()),e.callbackNode!=null&&e.callbackNode===a?yd.bind(null,e):null)}function vd(e,t){if(zl())return null;Wh(e,t,!0)}function Lp(){Jp(function(){(Te&6)!==0?vt(Ni,zp):pd()})}function ro(){if(Ka===0){var e=Jn;e===0&&(e=Bs,Bs<<=1,(Bs&261888)===0&&(Bs=256)),Ka=e}return Ka}function bd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ks(""+e)}function _d(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function $p(e,t,a,i,u){if(t==="submit"&&a&&a.stateNode===u){var o=bd((u[bt]||null).action),d=i.submitter;d&&(t=(t=d[bt]||null)?bd(t.formAction):d.getAttribute("formAction"),t!==null&&(o=t,d=null));var v=new Zs("action","action",null,i,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Ka!==0){var w=d?_d(u,d):new FormData(u);Ou(a,{pending:!0,data:w,method:u.method,action:o},null,w)}}else typeof o=="function"&&(v.preventDefault(),w=d?_d(u,d):new FormData(u),Ou(a,{pending:!0,data:w,method:u.method,action:o},o,w))},currentTarget:u}]})}}for(var uo=0;uo<Yr.length;uo++){var oo=Yr[uo],Bp=oo.toLowerCase(),qp=oo[0].toUpperCase()+oo.slice(1);Wt(Bp,"on"+qp)}Wt(Zc,"onAnimationEnd"),Wt(Pc,"onAnimationIteration"),Wt(Wc,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(ap,"onTransitionRun"),Wt(np,"onTransitionStart"),Wt(ip,"onTransitionCancel"),Wt(Fc,"onTransitionEnd"),Dn("onMouseEnter",["mouseout","mouseover"]),Dn("onMouseLeave",["mouseout","mouseover"]),Dn("onPointerEnter",["pointerout","pointerover"]),Dn("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ds));function wd(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],u=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var d=i.length-1;0<=d;d--){var v=i[d],w=v.instance,R=v.currentTarget;if(v=v.listener,w!==o&&u.isPropagationStopped())break e;o=v,u.currentTarget=R;try{o(u)}catch(z){Fs(z)}u.currentTarget=null,o=w}else for(d=0;d<i.length;d++){if(v=i[d],w=v.instance,R=v.currentTarget,v=v.listener,w!==o&&u.isPropagationStopped())break e;o=v,u.currentTarget=R;try{o(u)}catch(z){Fs(z)}u.currentTarget=null,o=w}}}}function ge(e,t){var a=t[Sr];a===void 0&&(a=t[Sr]=new Set);var i=e+"__bubble";a.has(i)||(Sd(t,e,2,!1),a.add(i))}function co(e,t,a){var i=0;t&&(i|=4),Sd(a,e,i,t)}var Bl="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[Bl]){e[Bl]=!0,mc.forEach(function(a){a!=="selectionchange"&&(Hp.has(a)||co(a,!1,e),co(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bl]||(t[Bl]=!0,co("selectionchange",!1,t))}}function Sd(e,t,a,i){switch(Pd(t)){case 2:var u=pg;break;case 8:u=gg;break;default:u=Oo}a=u.bind(null,t,a,e),u=void 0,!Cr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),i?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function ho(e,t,a,i,u){var o=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var d=i.tag;if(d===3||d===4){var v=i.stateNode.containerInfo;if(v===u)break;if(d===4)for(d=i.return;d!==null;){var w=d.tag;if((w===3||w===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;v!==null;){if(d=kn(v),d===null)return;if(w=d.tag,w===5||w===6||w===26||w===27){i=o=d;continue e}v=v.parentNode}}i=i.return}Ac(function(){var R=o,z=jr(a),B=[];e:{var C=ef.get(e);if(C!==void 0){var U=Zs,P=e;switch(e){case"keypress":if(Xs(a)===0)break e;case"keydown":case"keyup":U=M0;break;case"focusin":P="focus",U=Dr;break;case"focusout":P="blur",U=Dr;break;case"beforeblur":case"afterblur":U=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=jc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=S0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=L0;break;case Zc:case Pc:case Wc:U=T0;break;case Fc:U=B0;break;case"scroll":case"scrollend":U=_0;break;case"wheel":U=H0;break;case"copy":case"cut":case"paste":U=O0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Cc;break;case"toggle":case"beforetoggle":U=V0}var ie=(t&4)!==0,Me=!ie&&(e==="scroll"||e==="scrollend"),A=ie?C!==null?C+"Capture":null:C;ie=[];for(var S=R,j;S!==null;){var L=S;if(j=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||j===null||A===null||(L=Di(S,A),L!=null&&ie.push(ms(S,L,j))),Me)break;S=S.return}0<ie.length&&(C=new U(C,P,null,a,z),B.push({event:C,listeners:ie}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",C&&a!==Nr&&(P=a.relatedTarget||a.fromElement)&&(kn(P)||P[Cn]))break e;if((U||C)&&(C=z.window===z?z:(C=z.ownerDocument)?C.defaultView||C.parentWindow:window,U?(P=a.relatedTarget||a.toElement,U=R,P=P?kn(P):null,P!==null&&(Me=f(P),ie=P.tag,P!==Me||ie!==5&&ie!==27&&ie!==6)&&(P=null)):(U=null,P=R),U!==P)){if(ie=jc,L="onMouseLeave",A="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Cc,L="onPointerLeave",A="onPointerEnter",S="pointer"),Me=U==null?C:Mi(U),j=P==null?C:Mi(P),C=new ie(L,S+"leave",U,a,z),C.target=Me,C.relatedTarget=j,L=null,kn(z)===R&&(ie=new ie(A,S+"enter",P,a,z),ie.target=j,ie.relatedTarget=Me,L=ie),Me=L,U&&P)t:{for(ie=Gp,A=U,S=P,j=0,L=A;L;L=ie(L))j++;L=0;for(var te=S;te;te=ie(te))L++;for(;0<j-L;)A=ie(A),j--;for(;0<L-j;)S=ie(S),L--;for(;j--;){if(A===S||S!==null&&A===S.alternate){ie=A;break t}A=ie(A),S=ie(S)}ie=null}else ie=null;U!==null&&xd(B,C,U,ie,!1),P!==null&&Me!==null&&xd(B,Me,P,ie,!0)}}e:{if(C=R?Mi(R):window,U=C.nodeName&&C.nodeName.toLowerCase(),U==="select"||U==="input"&&C.type==="file")var Se=Bc;else if(Lc(C))if(qc)Se=F0;else{Se=P0;var W=Z0}else U=C.nodeName,!U||U.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?R&&Or(R.elementType)&&(Se=Bc):Se=W0;if(Se&&(Se=Se(e,R))){$c(B,Se,a,z);break e}W&&W(e,C,R),e==="focusout"&&R&&C.type==="number"&&R.memoizedProps.value!=null&&Ar(C,"number",C.value)}switch(W=R?Mi(R):window,e){case"focusin":(Lc(W)||W.contentEditable==="true")&&(Hn=W,Hr=R,Vi=null);break;case"focusout":Vi=Hr=Hn=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,Xc(B,a,z);break;case"selectionchange":if(tp)break;case"keydown":case"keyup":Xc(B,a,z)}var de;if(Lr)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else qn?Dc(e,a)&&(ve="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(kc&&a.locale!=="ko"&&(qn||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&qn&&(de=Oc()):(Ra=z,kr="value"in Ra?Ra.value:Ra.textContent,qn=!0)),W=ql(R,ve),0<W.length&&(ve=new Rc(ve,e,null,a,z),B.push({event:ve,listeners:W}),de?ve.data=de:(de=zc(a),de!==null&&(ve.data=de)))),(de=I0?K0(e,a):Q0(e,a))&&(ve=ql(R,"onBeforeInput"),0<ve.length&&(W=new Rc("onBeforeInput","beforeinput",null,a,z),B.push({event:W,listeners:ve}),W.data=de)),$p(B,e,R,a,z)}wd(B,t)})}function ms(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ql(e,t){for(var a=t+"Capture",i=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Di(e,a),u!=null&&i.unshift(ms(e,u,o)),u=Di(e,t),u!=null&&i.push(ms(e,u,o))),e.tag===3)return i;e=e.return}return[]}function Gp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xd(e,t,a,i,u){for(var o=t._reactName,d=[];a!==null&&a!==i;){var v=a,w=v.alternate,R=v.stateNode;if(v=v.tag,w!==null&&w===i)break;v!==5&&v!==26&&v!==27||R===null||(w=R,u?(R=Di(a,o),R!=null&&d.unshift(ms(a,R,w))):u||(R=Di(a,o),R!=null&&d.push(ms(a,R,w)))),a=a.return}d.length!==0&&e.push({event:t,listeners:d})}var Vp=/\r\n?/g,Yp=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(Vp,`
`).replace(Yp,"")}function Td(e,t){return t=Ed(t),Ed(e)===t}function Ue(e,t,a,i,u,o){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ln(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ln(e,""+i);break;case"className":Ys(e,"class",i);break;case"tabIndex":Ys(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,a,i);break;case"style":Ec(e,i,o);break;case"data":if(t!=="object"){Ys(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ks(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",u.name,u,null),Ue(e,t,"formEncType",u.formEncType,u,null),Ue(e,t,"formMethod",u.formMethod,u,null),Ue(e,t,"formTarget",u.formTarget,u,null)):(Ue(e,t,"encType",u.encType,u,null),Ue(e,t,"method",u.method,u,null),Ue(e,t,"target",u.target,u,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=Ks(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=oa);break;case"onScroll":i!=null&&ge("scroll",e);break;case"onScrollEnd":i!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=Ks(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":ge("beforetoggle",e),ge("toggle",e),Vs(e,"popover",i);break;case"xlinkActuate":ua(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ua(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ua(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ua(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ua(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ua(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ua(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ua(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ua(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Vs(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=v0.get(a)||a,Vs(e,a,i))}}function mo(e,t,a,i,u,o){switch(a){case"style":Ec(e,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(r(61));if(a=i.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Ln(e,i):(typeof i=="number"||typeof i=="bigint")&&Ln(e,""+i);break;case"onScroll":i!=null&&ge("scroll",e);break;case"onScrollEnd":i!=null&&ge("scrollend",e);break;case"onClick":i!=null&&(e.onclick=oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),o=e[bt]||null,o=o!=null?o[a]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof i=="function")){typeof o!="function"&&o!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,u);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Vs(e,a,i)}}}function ot(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var i=!1,u=!1,o;for(o in a)if(a.hasOwnProperty(o)){var d=a[o];if(d!=null)switch(o){case"src":i=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,o,d,a,null)}}u&&Ue(e,t,"srcSet",a.srcSet,a,null),i&&Ue(e,t,"src",a.src,a,null);return;case"input":ge("invalid",e);var v=o=d=u=null,w=null,R=null;for(i in a)if(a.hasOwnProperty(i)){var z=a[i];if(z!=null)switch(i){case"name":u=z;break;case"type":d=z;break;case"checked":w=z;break;case"defaultChecked":R=z;break;case"value":o=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:Ue(e,t,i,z,a,null)}}_c(e,o,v,w,R,d,u,!1);return;case"select":ge("invalid",e),i=d=o=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":o=v;break;case"defaultValue":d=v;break;case"multiple":i=v;default:Ue(e,t,u,v,a,null)}t=o,a=d,e.multiple=!!i,t!=null?zn(e,!!i,t,!1):a!=null&&zn(e,!!i,a,!0);return;case"textarea":ge("invalid",e),o=u=i=null;for(d in a)if(a.hasOwnProperty(d)&&(v=a[d],v!=null))switch(d){case"value":i=v;break;case"defaultValue":u=v;break;case"children":o=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:Ue(e,t,d,v,a,null)}Sc(e,i,u,o);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(i=a[w],i!=null))switch(w){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ue(e,t,w,i,a,null)}return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(i=0;i<ds.length;i++)ge(ds[i],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in a)if(a.hasOwnProperty(R)&&(i=a[R],i!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:Ue(e,t,R,i,a,null)}return;default:if(Or(t)){for(z in a)a.hasOwnProperty(z)&&(i=a[z],i!==void 0&&mo(e,t,z,i,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(i=a[v],i!=null&&Ue(e,t,v,i,a,null))}function Ip(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,d=null,v=null,w=null,R=null,z=null;for(U in a){var B=a[U];if(a.hasOwnProperty(U)&&B!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=B;default:i.hasOwnProperty(U)||Ue(e,t,U,null,i,B)}}for(var C in i){var U=i[C];if(B=a[C],i.hasOwnProperty(C)&&(U!=null||B!=null))switch(C){case"type":o=U;break;case"name":u=U;break;case"checked":R=U;break;case"defaultChecked":z=U;break;case"value":d=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(137,t));break;default:U!==B&&Ue(e,t,C,U,i,B)}}Tr(e,d,v,w,R,z,o,u);return;case"select":U=d=v=C=null;for(o in a)if(w=a[o],a.hasOwnProperty(o)&&w!=null)switch(o){case"value":break;case"multiple":U=w;default:i.hasOwnProperty(o)||Ue(e,t,o,null,i,w)}for(u in i)if(o=i[u],w=a[u],i.hasOwnProperty(u)&&(o!=null||w!=null))switch(u){case"value":C=o;break;case"defaultValue":v=o;break;case"multiple":d=o;default:o!==w&&Ue(e,t,u,o,i,w)}t=v,a=d,i=U,C!=null?zn(e,!!a,C,!1):!!i!=!!a&&(t!=null?zn(e,!!a,t,!0):zn(e,!!a,a?[]:"",!1));return;case"textarea":U=C=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!i.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ue(e,t,v,null,i,u)}for(d in i)if(u=i[d],o=a[d],i.hasOwnProperty(d)&&(u!=null||o!=null))switch(d){case"value":C=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&Ue(e,t,d,u,i,o)}wc(e,C,U);return;case"option":for(var P in a)if(C=a[P],a.hasOwnProperty(P)&&C!=null&&!i.hasOwnProperty(P))switch(P){case"selected":e.selected=!1;break;default:Ue(e,t,P,null,i,C)}for(w in i)if(C=i[w],U=a[w],i.hasOwnProperty(w)&&C!==U&&(C!=null||U!=null))switch(w){case"selected":e.selected=C&&typeof C!="function"&&typeof C!="symbol";break;default:Ue(e,t,w,C,i,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)C=a[ie],a.hasOwnProperty(ie)&&C!=null&&!i.hasOwnProperty(ie)&&Ue(e,t,ie,null,i,C);for(R in i)if(C=i[R],U=a[R],i.hasOwnProperty(R)&&C!==U&&(C!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:Ue(e,t,R,C,i,U)}return;default:if(Or(t)){for(var Me in a)C=a[Me],a.hasOwnProperty(Me)&&C!==void 0&&!i.hasOwnProperty(Me)&&mo(e,t,Me,void 0,i,C);for(z in i)C=i[z],U=a[z],!i.hasOwnProperty(z)||C===U||C===void 0&&U===void 0||mo(e,t,z,C,i,U);return}}for(var A in a)C=a[A],a.hasOwnProperty(A)&&C!=null&&!i.hasOwnProperty(A)&&Ue(e,t,A,null,i,C);for(B in i)C=i[B],U=a[B],!i.hasOwnProperty(B)||C===U||C==null&&U==null||Ue(e,t,B,C,i,U)}function Ad(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var u=a[i],o=u.transferSize,d=u.initiatorType,v=u.duration;if(o&&v&&Ad(d)){for(d=0,v=u.responseEnd,i+=1;i<a.length;i++){var w=a[i],R=w.startTime;if(R>v)break;var z=w.transferSize,B=w.initiatorType;z&&Ad(B)&&(w=w.responseEnd,d+=z*(w<v?1:(v-R)/(w-R)))}if(--i,t+=8*(o+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var po=null,go=null;function Hl(e){return e.nodeType===9?e:e.ownerDocument}function Od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Nd(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function yo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vo=null;function Qp(){var e=window.event;return e&&e.type==="popstate"?e===vo?!1:(vo=e,!0):(vo=null,!1)}var jd=typeof setTimeout=="function"?setTimeout:void 0,Xp=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,Jp=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(Zp)}:jd;function Zp(e){setTimeout(function(){throw e})}function Qa(e){return e==="head"}function Cd(e,t){var a=t,i=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(u),mi(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")ps(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ps(a);for(var o=a.firstChild;o;){var d=o.nextSibling,v=o.nodeName;o[Ui]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=d}}else a==="body"&&ps(e.ownerDocument.body);a=u}while(a);mi(t)}function kd(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function bo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":bo(a),xr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Pp(e,t,a,i){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ui])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Wp(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jt(e.nextSibling),e===null))return null;return e}function Ud(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Jt(e.nextSibling),e===null))return null;return e}function _o(e){return e.data==="$?"||e.data==="$~"}function wo(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fp(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var So=null;function Md(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Jt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Dd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function zd(e,t,a){switch(t=Hl(a),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function ps(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xr(e)}var Zt=new Map,Ld=new Set;function Gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ta=K.d;K.d={f:eg,r:tg,D:ag,C:ng,L:ig,m:sg,X:rg,S:lg,M:ug};function eg(){var e=Ta.f(),t=Ul();return e||t}function tg(e){var t=Un(e);t!==null&&t.tag===5&&t.type==="form"?eh(t):Ta.r(e)}var fi=typeof document>"u"?null:document;function $d(e,t,a){var i=fi;if(i&&typeof t=="string"&&t){var u=Gt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Ld.has(u)||(Ld.add(u),e={rel:e,crossOrigin:a,href:t},i.querySelector(u)===null&&(t=i.createElement("link"),ot(t,"link",e),nt(t),i.head.appendChild(t)))}}function ag(e){Ta.D(e),$d("dns-prefetch",e,null)}function ng(e,t){Ta.C(e,t),$d("preconnect",e,t)}function ig(e,t,a){Ta.L(e,t,a);var i=fi;if(i&&e&&t){var u='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Gt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Gt(a.imageSizes)+'"]')):u+='[href="'+Gt(e)+'"]';var o=u;switch(t){case"style":o=hi(e);break;case"script":o=di(e)}Zt.has(o)||(e=x({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Zt.set(o,e),i.querySelector(u)!==null||t==="style"&&i.querySelector(gs(o))||t==="script"&&i.querySelector(ys(o))||(t=i.createElement("link"),ot(t,"link",e),nt(t),i.head.appendChild(t)))}}function sg(e,t){Ta.m(e,t);var a=fi;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Gt(i)+'"][href="'+Gt(e)+'"]',o=u;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=di(e)}if(!Zt.has(o)&&(e=x({rel:"modulepreload",href:e},t),Zt.set(o,e),a.querySelector(u)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ys(o)))return}i=a.createElement("link"),ot(i,"link",e),nt(i),a.head.appendChild(i)}}}function lg(e,t,a){Ta.S(e,t,a);var i=fi;if(i&&e){var u=Mn(i).hoistableStyles,o=hi(e);t=t||"default";var d=u.get(o);if(!d){var v={loading:0,preload:null};if(d=i.querySelector(gs(o)))v.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Zt.get(o))&&xo(e,a);var w=d=i.createElement("link");nt(w),ot(w,"link",e),w._p=new Promise(function(R,z){w.onload=R,w.onerror=z}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Vl(d,t,i)}d={type:"stylesheet",instance:d,count:1,state:v},u.set(o,d)}}}function rg(e,t){Ta.X(e,t);var a=fi;if(a&&e){var i=Mn(a).hoistableScripts,u=di(e),o=i.get(u);o||(o=a.querySelector(ys(u)),o||(e=x({src:e,async:!0},t),(t=Zt.get(u))&&Eo(e,t),o=a.createElement("script"),nt(o),ot(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function ug(e,t){Ta.M(e,t);var a=fi;if(a&&e){var i=Mn(a).hoistableScripts,u=di(e),o=i.get(u);o||(o=a.querySelector(ys(u)),o||(e=x({src:e,async:!0,type:"module"},t),(t=Zt.get(u))&&Eo(e,t),o=a.createElement("script"),nt(o),ot(o,"link",e),a.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(u,o))}}function Bd(e,t,a,i){var u=(u=J.current)?Gl(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=hi(a.href),a=Mn(u).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=hi(a.href);var o=Mn(u).hoistableStyles,d=o.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,d),(o=u.querySelector(gs(e)))&&!o._p&&(d.instance=o,d.state.loading=5),Zt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Zt.set(e,a),o||og(u,e,a,d.state))),t&&i===null)throw Error(r(528,""));return d}if(t&&i!==null)throw Error(r(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=di(a),a=Mn(u).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function hi(e){return'href="'+Gt(e)+'"'}function gs(e){return'link[rel="stylesheet"]['+e+"]"}function qd(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function og(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ot(t,"link",a),nt(t),e.head.appendChild(t))}function di(e){return'[src="'+Gt(e)+'"]'}function ys(e){return"script[async]"+e}function Hd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Gt(a.href)+'"]');if(i)return t.instance=i,nt(i),i;var u=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),nt(i),ot(i,"style",u),Vl(i,a.precedence,e),t.instance=i;case"stylesheet":u=hi(a.href);var o=e.querySelector(gs(u));if(o)return t.state.loading|=4,t.instance=o,nt(o),o;i=qd(a),(u=Zt.get(u))&&xo(i,u),o=(e.ownerDocument||e).createElement("link"),nt(o);var d=o;return d._p=new Promise(function(v,w){d.onload=v,d.onerror=w}),ot(o,"link",i),t.state.loading|=4,Vl(o,a.precedence,e),t.instance=o;case"script":return o=di(a.src),(u=e.querySelector(ys(o)))?(t.instance=u,nt(u),u):(i=a,(u=Zt.get(o))&&(i=x({},a),Eo(i,u)),e=e.ownerDocument||e,u=e.createElement("script"),nt(u),ot(u,"link",i),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Vl(i,a.precedence,e));return t.instance}function Vl(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=i.length?i[i.length-1]:null,o=u,d=0;d<i.length;d++){var v=i[d];if(v.dataset.precedence===t)o=v;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function xo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Eo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yl=null;function Gd(e,t,a){if(Yl===null){var i=new Map,u=Yl=new Map;u.set(a,i)}else u=Yl,i=u.get(a),i||(i=new Map,u.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var o=a[u];if(!(o[Ui]||o[st]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var d=o.getAttribute(t)||"";d=e+d;var v=i.get(d);v?v.push(o):i.set(d,[o])}}return i}function Vd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function cg(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Yd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function fg(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=hi(i.href),o=t.querySelector(gs(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Il.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=o,nt(o);return}o=t.ownerDocument||t,i=qd(i),(u=Zt.get(u))&&xo(i,u),o=o.createElement("link"),nt(o);var d=o;d._p=new Promise(function(v,w){d.onload=v,d.onerror=w}),ot(o,"link",i),a.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Il.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var To=0;function hg(e,t){return e.stylesheets&&e.count===0&&Ql(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Ql(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&To===0&&(To=62500*Kp());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ql(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>To?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(u)}}:null}function Il(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ql(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kl=null;function Ql(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kl=new Map,t.forEach(dg,e),Kl=null,Il.call(e))}function dg(e,t){if(!(t.state.loading&4)){var a=Kl.get(e);if(a)var i=a.get(null);else{a=new Map,Kl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var d=u[o];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(a.set(d.dataset.precedence,d),i=d)}i&&a.set(null,i)}u=t.instance,d=u.getAttribute("data-precedence"),o=a.get(d)||i,o===i&&a.set(null,u),a.set(d,u),this.count++,i=Il.bind(this),u.addEventListener("load",i),u.addEventListener("error",i),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var vs={$$typeof:H,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function mg(e,t,a,i,u,o,d,v,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=i,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Id(e,t,a,i,u,o,d,v,w,R,z,B){return e=new mg(e,t,a,d,w,R,z,B,v),t=1,o===!0&&(t|=24),o=Rt(3,null,null,t),e.current=o,o.stateNode=e,t=nu(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:a,cache:t},ru(o),e}function Kd(e){return e?(e=Yn,e):Yn}function Qd(e,t,a,i,u,o){u=Kd(u),i.context===null?i.context=u:i.pendingContext=u,i=za(t),i.payload={element:a},o=o===void 0?null:o,o!==null&&(i.callback=o),a=La(e,i,t),a!==null&&(Tt(a,e,t),Zi(a,e,t))}function Xd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ao(e,t){Xd(e,t),(e=e.alternate)&&Xd(e,t)}function Jd(e){if(e.tag===13||e.tag===31){var t=on(e,67108864);t!==null&&Tt(t,e,67108864),Ao(e,67108864)}}function Zd(e){if(e.tag===13||e.tag===31){var t=Dt();t=_r(t);var a=on(e,t);a!==null&&Tt(a,e,t),Ao(e,t)}}var Xl=!0;function pg(e,t,a,i){var u=k.T;k.T=null;var o=K.p;try{K.p=2,Oo(e,t,a,i)}finally{K.p=o,k.T=u}}function gg(e,t,a,i){var u=k.T;k.T=null;var o=K.p;try{K.p=8,Oo(e,t,a,i)}finally{K.p=o,k.T=u}}function Oo(e,t,a,i){if(Xl){var u=No(i);if(u===null)ho(e,t,i,Jl,a),Wd(e,i);else if(vg(u,e,t,a,i))i.stopPropagation();else if(Wd(e,i),t&4&&-1<yg.indexOf(e)){for(;u!==null;){var o=Un(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var d=nn(o.pendingLanes);if(d!==0){var v=o;for(v.pendingLanes|=2,v.entangledLanes|=2;d;){var w=1<<31-Nt(d);v.entanglements[1]|=w,d&=~w}ra(o),(Te&6)===0&&(Cl=dt()+500,hs(0))}}break;case 31:case 13:v=on(o,2),v!==null&&Tt(v,o,2),Ul(),Ao(o,2)}if(o=No(i),o===null&&ho(e,t,i,Jl,a),o===u)break;u=o}u!==null&&i.stopPropagation()}else ho(e,t,i,null,a)}}function No(e){return e=jr(e),jo(e)}var Jl=null;function jo(e){if(Jl=null,e=kn(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Jl=e,null}function Pd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yr()){case Ni:return 2;case Ls:return 8;case Rn:case $s:return 32;case ji:return 268435456;default:return 32}default:return 32}}var Ro=!1,Xa=null,Ja=null,Za=null,bs=new Map,_s=new Map,Pa=[],yg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wd(e,t){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Ja=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function ws(e,t,a,i,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:o,targetContainers:[u]},t!==null&&(t=Un(t),t!==null&&Jd(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function vg(e,t,a,i,u){switch(t){case"focusin":return Xa=ws(Xa,e,t,a,i,u),!0;case"dragenter":return Ja=ws(Ja,e,t,a,i,u),!0;case"mouseover":return Za=ws(Za,e,t,a,i,u),!0;case"pointerover":var o=u.pointerId;return bs.set(o,ws(bs.get(o)||null,e,t,a,i,u)),!0;case"gotpointercapture":return o=u.pointerId,_s.set(o,ws(_s.get(o)||null,e,t,a,i,u)),!0}return!1}function Fd(e){var t=kn(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,hc(e.priority,function(){Zd(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,hc(e.priority,function(){Zd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=No(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);Nr=i,a.target.dispatchEvent(i),Nr=null}else return t=Un(a),t!==null&&Jd(t),e.blockedOn=a,!1;t.shift()}return!0}function em(e,t,a){Zl(e)&&a.delete(t)}function bg(){Ro=!1,Xa!==null&&Zl(Xa)&&(Xa=null),Ja!==null&&Zl(Ja)&&(Ja=null),Za!==null&&Zl(Za)&&(Za=null),bs.forEach(em),_s.forEach(em)}function Pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Ro||(Ro=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,bg)))}var Wl=null;function tm(e){Wl!==e&&(Wl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],u=e[t+2];if(typeof i!="function"){if(jo(i||a)===null)continue;break}var o=Un(a);o!==null&&(e.splice(t,3),t-=3,Ou(o,{pending:!0,data:u,method:a.method,action:i},i,u))}}))}function mi(e){function t(w){return Pl(w,e)}Xa!==null&&Pl(Xa,e),Ja!==null&&Pl(Ja,e),Za!==null&&Pl(Za,e),bs.forEach(t),_s.forEach(t);for(var a=0;a<Pa.length;a++){var i=Pa[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)Fd(a),a.blockedOn===null&&Pa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var u=a[i],o=a[i+1],d=u[bt]||null;if(typeof o=="function")d||tm(a);else if(d){var v=null;if(o&&o.hasAttribute("formAction")){if(u=o,d=o[bt]||null)v=d.formAction;else if(jo(u)!==null)continue}else v=d.action;typeof v=="function"?a[i+1]=v:(a.splice(i,3),i-=3),tm(a)}}}function am(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Co(e){this._internalRoot=e}Fl.prototype.render=Co.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var a=t.current,i=Dt();Qd(a,i,e,t,null,null)},Fl.prototype.unmount=Co.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qd(e.current,2,null,e,null,null),Ul(),t[Cn]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=fc();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pa.length&&t!==0&&t<Pa[a].priority;a++);Pa.splice(a,0,e),a===0&&Fd(e)}};var nm=n.version;if(nm!=="19.2.4")throw Error(r(527,nm,"19.2.4"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var _g={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!er.isDisabled&&er.supportsFiber)try{an=er.inject(_g),Ot=er}catch{}}return xs.createRoot=function(e,t){if(!c(e))throw Error(r(299));var a=!1,i="",u=ch,o=fh,d=hh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=Id(e,1,!1,null,null,a,i,null,u,o,d,am),e[Cn]=t.current,fo(e),new Co(t)},xs.hydrateRoot=function(e,t,a){if(!c(e))throw Error(r(299));var i=!1,u="",o=ch,d=fh,v=hh,w=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(o=a.onUncaughtError),a.onCaughtError!==void 0&&(d=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(w=a.formState)),t=Id(e,1,!0,t,a??null,i,u,w,o,d,v,am),t.context=Kd(null),a=t.current,i=Dt(),i=_r(i),u=za(i),u.callback=null,La(a,u,i),a=i,t.current.lanes=a,ki(t,a),ra(t),e[Cn]=t.current,fo(e),new Fl(t)},xs.version="19.2.4",xs}var dm;function Cg(){if(dm)return Mo.exports;dm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Mo.exports=Rg(),Mo.exports}var kg=Cg();const Ug=Hm(kg);var Re=(l=>(l.HOME="HOME",l.PLAYING="PLAYING",l.PAUSED="PAUSED",l.LEVEL_COMPLETE="LEVEL_COMPLETE",l.GAME_OVER="GAME_OVER",l.RANKING="RANKING",l.TRAINING="TRAINING",l.LEVEL_SELECT="LEVEL_SELECT",l))(Re||{});const Mg=()=>{const l=[],n=["Novato","Calouro","Jnior","Cadete","Agente","Piloto","Ninja","Samurai","Guerreiro","Sbio","Bruxo","Elite","Tit","Ciborgue","Fnix","Drago","Lorde","Alfa","mega","Galtico","Csmico","Quantum","Matrix","Orculo","Infinito","Eterno","Lenda","Mito","Deus","MASTER"];for(let s=1;s<=30;s++){let r=["+","-"];s>=4&&r.push("*"),s>=8&&r.push("/"),s>=12&&r.push("power"),s>=14&&r.push("sqrt"),s>=16&&r.push("percentage"),s>=18&&r.push("equation"),s>=22&&r.push("fraction");let c;s<=5?c=Math.max(25,35-s*2):s<=10?c=Math.max(18,25-(s-5)):s<=15?c=Math.max(14,20-(s-10)):s<=20?c=Math.max(12,16-(s-15)):s<=25?c=Math.max(10,13-(s-20)):c=Math.max(8,11-(s-25));let f;s<=5?f=8:s<=10||s<=15?f=10:s<=20||s<=25?f=12:f=15;const h=10+s*5;l.push({level:s,name:n[s-1],operations:r,range:[1,h],timePerQuestion:c,totalQuestions:f})}return l},tn=Mg(),mm=3,Dg=100,zg=l=>l<=5?1:l<=10?2:l<=15?3:l<=20?4:l<=25?5:6,ee=(l,n)=>Math.floor(Math.random()*(n-l+1))+l,An=l=>l[Math.floor(Math.random()*l.length)],pm=l=>{const n=[[1,20],[10,50],[20,100],[50,300],[100,500],[100,999]],[s,r]=n[l-1],c=ee(s,r),f=ee(s,r),h=c+f;return{text:`${c} + ${f}`,answer:h,values:[c,f],hint:"Arredonde para a dezena mais prxima e ajuste depois.",explanation:`ARREDONDAMENTO: Nmeros redondos so fceis de somar.|AO: Ajuste ${c} ou ${f} para a dezena mais prxima.|AJUSTE: Corrija a diferena do arredondamento.|SOLUO: ${c} + ${f} = ${h}.`}},Lg=l=>{const n=[[1,20],[10,50],[20,100],[50,300],[100,500],[100,999]],[s,r]=n[l-1],c=ee(s+Math.floor((r-s)/3),r),f=ee(s,c-1),h=c-f;return{text:`${c} - ${f}`,answer:h,values:[c,f],hint:`Quanto falta para ir de ${f} at ${c}?`,explanation:`DISTNCIA: Quanto falta de ${f} at ${c}?|PASSO 1: Suba de ${f} at a prxima dezena (${Math.ceil(f/10)*10}).|PASSO 2: Continue at ${c}.|SOLUO: ${c} - ${f} = ${h}.`}},$g=l=>{let n,s;switch(l){case 1:n=ee(2,5),s=ee(2,5);break;case 2:n=ee(2,9),s=ee(2,9);break;case 3:n=ee(2,12),s=ee(2,12);break;case 4:n=ee(10,25),s=ee(2,9);break;case 5:n=ee(10,50),s=ee(2,12);break;default:n=ee(10,99),s=ee(10,25);break}const r=n*s;return{text:`${n}  ${s}`,answer:r,values:[n,s],hint:`Decomponha ${n} em partes menores.`,explanation:`DECOMPOSIO: Quebre ${n} em partes fceis.|PASSO 1: Multiplique as dezenas de ${n} por ${s}.|PASSO 2: Multiplique as unidades de ${n} por ${s}.|PASSO 3: Some os resultados = ${r}.`}},Bg=l=>{let n,s;switch(l){case 1:n=ee(2,5),s=ee(1,10);break;case 2:n=ee(2,9),s=ee(2,12);break;case 3:n=ee(2,12),s=ee(2,15);break;case 4:n=ee(3,12),s=ee(5,20);break;case 5:n=ee(5,15),s=ee(5,30);break;default:n=ee(5,25),s=ee(10,50);break}const r=s*n;return{text:`${r}  ${n}`,answer:s,values:[r,n],hint:`Na tabuada do ${n}, qual  ${n} = ${r}?`,explanation:`INVERSO: Pense como multiplicao ao contrrio.|PERGUNTA: ${n}  ? = ${r}.|TESTE: Tente mltiplos de ${n} perto de ${r}.|RESPOSTA: ${n}  ${s} = ${r}.`}},qg=l=>{let n,s;l<=2?(n=ee(2,5),s=2):l<=3?(n=ee(2,9),s=2):l<=4?(n=ee(2,12),s=2):l<=5?Math.random()>.4?(n=ee(2,15),s=2):(n=ee(2,5),s=3):Math.random()>.5?(n=ee(5,20),s=2):(n=ee(2,8),s=3);const r=Math.pow(n,s),c=s===2?"":"";return{text:`${n}${c}`,answer:r,values:[n],hint:`${n}${c} = ${n}  ${n}${s===3?`  ${n}`:""}.`,explanation:`DEFINIO: O expoente ${s} significa multiplicar a base ${s} vezes.|AO: ${n}  ${n}${s===3?`  ${n}`:""} = ?|CLCULO: ${s===3?`${n}${n}=${n*n}, depois ${n}`:`${n}  ${n}`}.|RESULTADO: ${r}.`}},Hg=l=>{let n;l<=2?n=5:l<=3?n=9:l<=4?n=12:l<=5?n=15:n=20;const s=ee(2,n),r=s*s;return{text:`${r}`,answer:s,values:[r],hint:`Que nmero  ele mesmo = ${r}?`,explanation:`INVESTIGAO: Qual nmero = ${r}?|TESTE: ${s-1} = ${(s-1)*(s-1)}, ${s} = ${r}.|CONFIRMAO: ${s}  ${s} = ${r}.|RESPOSTA: ${r} = ${s}.`}},Gg=l=>{let n,s;switch(l){case 1:n=[10,50],s=10;break;case 2:n=[10,25,50],s=10;break;case 3:n=[10,20,25,50,75],s=20;break;case 4:n=[5,10,15,20,25,50,75],s=20;break;case 5:n=[5,10,15,20,25,30,40,50,75],s=40;break;default:n=[5,10,12,15,20,25,30,33,40,50,60,75],s=60;break}const r=An(n),c=100/nc(r,100),h=ee(1,Math.floor(s/c)||1)*c,m=r*h/100;let g;return r===50?g=`CONCEITO: 50% = metade.|OPERAO: ${h}  2.|RESPOSTA: ${m}.`:r===10?g=`TRUQUE: 10% = mover a vrgula uma casa.|AO: ${h}  10.|RESPOSTA: ${m}.`:r===25?g=`ESTRATGIA: 25% = metade da metade.|PASSO 1: ${h}  2 = ${h/2}.|PASSO 2: ${h/2}  2 = ${m}.`:r===75?g=`DICA: 75% = 50% + 25%.|PASSO 1: 50% de ${h} = ${h/2}.|PASSO 2: 25% de ${h} = ${h/4}.|SOMA: ${h/2} + ${h/4} = ${m}.`:g=`ANLISE: ${r}% = ${r}/100.|CLCULO: ${h}  ${r}  100.|DICA: Simplifique em partes (ex: 10% + 5%).|RESPOSTA: ${m}.`,{text:`${r}% de ${h}`,answer:m,values:[r,h],hint:`Decomponha ${r}% em porcentagens mais simples.`,explanation:g}},Vg=l=>{let n,s,r,c;if(l<=2){s=ee(1,15);const f=ee(1,10),h=s+f;n=`x + ${f} = ${h}`,r=[f,h],c=`OBJETIVO: Isolar X.|LGICA: X + ${f} = ${h}, ento X = ${h} - ${f}.|SOLUO: X = ${s}.`}else if(l<=3){s=ee(5,30);const f=ee(3,15);if(Math.random()>.5){const h=s+f;n=`x + ${f} = ${h}`,r=[f,h],c=`ISOLAR X: X = ${h} - ${f} = ${s}.`}else{const h=s-f;n=`x - ${f} = ${h}`,r=[f,h],c=`ISOLAR X: X = ${h} + ${f} = ${s}.`}}else if(l<=4){s=ee(2,12);const f=ee(2,9),h=s*f;n=`${f}x = ${h}`,r=[f,h],c=`ISOLAR X: Divida ambos os lados por ${f}.|CLCULO: ${h}  ${f} = ${s}.|SOLUO: X = ${s}.`}else if(l<=5){s=ee(2,15);const f=ee(2,6),h=ee(1,10),m=f*s+h;n=`${f}x + ${h} = ${m}`,r=[f,h,m],c=`PASSO 1: Subtraia ${h}: ${f}x = ${m-h}.|PASSO 2: Divida por ${f}: x = ${(m-h)/f}.|SOLUO: X = ${s}.`}else{s=ee(3,20);const f=ee(2,8),h=ee(2,15);if(Math.random()>.5){const m=f*s+h;n=`${f}x + ${h} = ${m}`,r=[f,h,m],c=`PASSO 1: ${f}x = ${m} - ${h} = ${m-h}.|PASSO 2: x = ${m-h}  ${f}.|SOLUO: X = ${s}.`}else{const m=f*s-h;n=`${f}x - ${h} = ${m}`,r=[f,h,m],c=`PASSO 1: ${f}x = ${m} + ${h} = ${m+h}.|PASSO 2: x = ${m+h}  ${f}.|SOLUO: X = ${s}.`}}return{text:n,answer:s,values:r,hint:"Isole o X do outro lado da equao.",explanation:c}},Yg=l=>{let n,s,r;switch(l){case 1:case 2:s=An([2,4,5]),n=1,r=s*ee(1,8);break;case 3:s=An([2,3,4,5,10]),n=1,r=s*ee(2,10);break;case 4:s=An([2,3,4,5,6,8,10]),n=l>3&&Math.random()>.5?ee(2,s-1):1,r=s*ee(2,12);break;case 5:s=An([2,3,4,5,6,8,10,12]),n=Math.random()>.4?ee(2,Math.min(s-1,5)):1,r=s*ee(3,15);break;default:s=An([2,3,4,5,6,7,8,9,10,12,15]),n=Math.random()>.3?ee(2,Math.min(s-1,7)):1,r=s*ee(3,20);break}const c=nc(n,s),f=n/c,h=s/c,m=n*r/s,g=f===1?`1/${h}`:`${f}/${h}`;return{text:`${g} de ${r}`,answer:m,values:[f,h,r],hint:`Divida ${r} por ${h}${f>1?`, depois multiplique por ${f}`:""}.`,explanation:`CONCEITO: ${g} de ${r} = dividir em ${h} partes${f>1?` e pegar ${f}`:""}.|PASSO 1: ${r}  ${h} = ${r/h}.${f>1?`|PASSO 2: ${r/h}  ${f} = ${m}.`:""}|RESPOSTA: ${m}.`}},nc=(l,n)=>n===0?l:nc(n,l%n),En=new Set,Ig=()=>{En.clear()},gm=(l,n,s)=>{let r;s!==void 0?r=Math.min(6,Math.floor(s/5)+1):r=zg(l.level);const c=n&&n.length>0?n:l.operations,f=c.length>0?c:["+"];let h=0;const m=50;let g;do{const y=An(f);let _;switch(y){case"+":_=pm(r);break;case"-":_=Lg(r);break;case"*":_=$g(r);break;case"/":_=Bg(r);break;case"power":_=qg(r);break;case"sqrt":_=Hg(r);break;case"percentage":_=Gg(r);break;case"equation":_=Vg(r);break;case"fraction":_=Yg(r);break;default:_=pm(r);break}if(g={..._,opType:y},h++,h>=m){En.clear();break}}while(En.has(g.text));if(En.add(g.text),En.size>100){const y=En.values().next().value;En.delete(y)}return g};class Kg{constructor(){this.context=null,this.enabled=!0}init(){this.context||(this.context=new(window.AudioContext||window.webkitAudioContext))}toggle(n){this.enabled=n!==void 0?n:!this.enabled}playSuccess(n=0){if(!this.enabled)return;this.init();const s=this.context,r=s.createOscillator(),c=s.createGain(),f=523.25,h=Math.min(12,n),m=Math.pow(2,h/12),g=f*m;r.type="sine",r.frequency.setValueAtTime(g,s.currentTime),r.frequency.exponentialRampToValueAtTime(g*2,s.currentTime+.1),c.gain.setValueAtTime(.1,s.currentTime),c.gain.exponentialRampToValueAtTime(.01,s.currentTime+.2),r.connect(c),c.connect(s.destination),r.start(),r.stop(s.currentTime+.2)}playError(){if(!this.enabled)return;this.init();const n=this.context,s=n.createOscillator(),r=n.createGain();s.type="sawtooth",s.frequency.setValueAtTime(150,n.currentTime),s.frequency.linearRampToValueAtTime(50,n.currentTime+.3),r.gain.setValueAtTime(.1,n.currentTime),r.gain.linearRampToValueAtTime(.01,n.currentTime+.3),s.connect(r),r.connect(n.destination),s.start(),s.stop(n.currentTime+.3)}playTick(){if(!this.enabled)return;this.init();const n=this.context,s=n.createOscillator(),r=n.createGain();s.type="sine",s.frequency.setValueAtTime(800,n.currentTime),r.gain.setValueAtTime(.05,n.currentTime),r.gain.exponentialRampToValueAtTime(.01,n.currentTime+.05),s.connect(r),r.connect(n.destination),s.start(),s.stop(n.currentTime+.05)}playTimeWarning(){if(!this.enabled)return;this.init();const n=this.context,s=n.createOscillator(),r=n.createGain();s.type="triangle",s.frequency.setValueAtTime(440,n.currentTime),s.frequency.setValueAtTime(554.37,n.currentTime+.1),r.gain.setValueAtTime(.08,n.currentTime),r.gain.exponentialRampToValueAtTime(.01,n.currentTime+.15),s.connect(r),r.connect(n.destination),s.start(),s.stop(n.currentTime+.15)}}const Os=new Kg;function fr(l,n){var s={};for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&n.indexOf(r)<0&&(s[r]=l[r]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(l);c<r.length;c++)n.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(l,r[c])&&(s[r[c]]=l[r[c]]);return s}function Qg(l,n,s,r){function c(f){return f instanceof s?f:new s(function(h){h(f)})}return new(s||(s=Promise))(function(f,h){function m(_){try{y(r.next(_))}catch(x){h(x)}}function g(_){try{y(r.throw(_))}catch(x){h(x)}}function y(_){_.done?f(_.value):c(_.value).then(m,g)}y((r=r.apply(l,n||[])).next())})}const Xg=l=>l?(...n)=>l(...n):(...n)=>fetch(...n);class ic extends Error{constructor(n,s="FunctionsError",r){super(n),this.name=s,this.context=r}}class Jg extends ic{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class ym extends ic{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class vm extends ic{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Ko;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Ko||(Ko={}));class Zg{constructor(n,{headers:s={},customFetch:r,region:c=Ko.Any}={}){this.url=n,this.headers=s,this.region=c,this.fetch=Xg(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Qg(this,arguments,void 0,function*(s,r={}){var c;let f,h;try{const{headers:m,method:g,body:y,signal:_,timeout:x}=r;let E={},{region:N}=r;N||(N=this.region);const D=new URL(`${this.url}/${s}`);N&&N!=="any"&&(E["x-region"]=N,D.searchParams.set("forceFunctionRegion",N));let q;y&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",q=y):typeof y=="string"?(E["Content-Type"]="text/plain",q=y):typeof FormData<"u"&&y instanceof FormData?q=y:(E["Content-Type"]="application/json",q=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?q=JSON.stringify(y):q=y;let G=_;x&&(h=new AbortController,f=setTimeout(()=>h.abort(),x),_?(G=h.signal,_.addEventListener("abort",()=>h.abort())):G=h.signal);const V=yield this.fetch(D.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),m),body:q,signal:G}).catch(me=>{throw new Jg(me)}),Q=V.headers.get("x-relay-error");if(Q&&Q==="true")throw new ym(V);if(!V.ok)throw new vm(V);let H=((c=V.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),I;return H==="application/json"?I=yield V.json():H==="application/octet-stream"||H==="application/pdf"?I=yield V.blob():H==="text/event-stream"?I=V:H==="multipart/form-data"?I=yield V.formData():I=yield V.text(),{data:I,error:null,response:V}}catch(m){return{data:null,error:m,response:m instanceof vm||m instanceof ym?m.context:void 0}}finally{f&&clearTimeout(f)}})}}var Pg=class extends Error{constructor(l){super(l.message),this.name="PostgrestError",this.details=l.details,this.hint=l.hint,this.code=l.code}},Wg=class{constructor(l){var n,s;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(n=l.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=l.signal,this.isMaybeSingle=(s=l.isMaybeSingle)!==null&&s!==void 0?s:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,n){return this.headers=new Headers(this.headers),this.headers.set(l,n),this}then(l,n){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let c=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let h=null,m=null,g=null,y=f.status,_=f.statusText;if(f.ok){var x,E;if(s.method!=="HEAD"){var N;const V=await f.text();V===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((N=s.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?m=V:m=JSON.parse(V))}const q=(x=s.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),G=(E=f.headers.get("content-range"))===null||E===void 0?void 0:E.split("/");q&&G&&G.length>1&&(g=parseInt(G[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,y=406,_="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var D;const q=await f.text();try{h=JSON.parse(q),Array.isArray(h)&&f.status===404&&(m=[],h=null,y=200,_="OK")}catch{f.status===404&&q===""?(y=204,_="No Content"):h={message:q}}if(h&&s.isMaybeSingle&&(!(h==null||(D=h.details)===null||D===void 0)&&D.includes("0 rows"))&&(h=null,y=200,_="OK"),h&&s.shouldThrowOnError)throw new Pg(h)}return{error:h,data:m,count:g,status:y,statusText:_}});return this.shouldThrowOnError||(c=c.catch(f=>{var h;let m="";const g=f==null?void 0:f.cause;if(g){var y,_,x,E;const D=(y=g==null?void 0:g.message)!==null&&y!==void 0?y:"",q=(_=g==null?void 0:g.code)!==null&&_!==void 0?_:"";m=`${(x=f==null?void 0:f.name)!==null&&x!==void 0?x:"FetchError"}: ${f==null?void 0:f.message}`,m+=`

Caused by: ${(E=g==null?void 0:g.name)!==null&&E!==void 0?E:"Error"}: ${D}`,q&&(m+=` (${q})`),g!=null&&g.stack&&(m+=`
${g.stack}`)}else{var N;m=(N=f==null?void 0:f.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:m,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(l,n)}returns(){return this}overrideTypes(){return this}},Fg=class extends Wg{select(l){let n=!1;const s=(l??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:n=!0,nullsFirst:s,foreignTable:r,referencedTable:c=r}={}){const f=c?`${c}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${l}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${l}`),this}range(l,n,{foreignTable:s,referencedTable:r=s}={}){const c=typeof r>"u"?"offset":`${r}.offset`,f=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(c,`${l}`),this.url.searchParams.set(f,`${n-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:n=!1,settings:s=!1,buffers:r=!1,wal:c=!1,format:f="text"}={}){var h;const m=[l?"analyze":null,n?"verbose":null,s?"settings":null,r?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${m};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};const bm=new RegExp("[,()]");var wi=class extends Fg{eq(l,n){return this.url.searchParams.append(l,`eq.${n}`),this}neq(l,n){return this.url.searchParams.append(l,`neq.${n}`),this}gt(l,n){return this.url.searchParams.append(l,`gt.${n}`),this}gte(l,n){return this.url.searchParams.append(l,`gte.${n}`),this}lt(l,n){return this.url.searchParams.append(l,`lt.${n}`),this}lte(l,n){return this.url.searchParams.append(l,`lte.${n}`),this}like(l,n){return this.url.searchParams.append(l,`like.${n}`),this}likeAllOf(l,n){return this.url.searchParams.append(l,`like(all).{${n.join(",")}}`),this}likeAnyOf(l,n){return this.url.searchParams.append(l,`like(any).{${n.join(",")}}`),this}ilike(l,n){return this.url.searchParams.append(l,`ilike.${n}`),this}ilikeAllOf(l,n){return this.url.searchParams.append(l,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(l,n){return this.url.searchParams.append(l,`ilike(any).{${n.join(",")}}`),this}regexMatch(l,n){return this.url.searchParams.append(l,`match.${n}`),this}regexIMatch(l,n){return this.url.searchParams.append(l,`imatch.${n}`),this}is(l,n){return this.url.searchParams.append(l,`is.${n}`),this}isDistinct(l,n){return this.url.searchParams.append(l,`isdistinct.${n}`),this}in(l,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&bm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(l,`in.(${s})`),this}notIn(l,n){const s=Array.from(new Set(n)).map(r=>typeof r=="string"&&bm.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(l,`not.in.(${s})`),this}contains(l,n){return typeof n=="string"?this.url.searchParams.append(l,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(l,`cs.{${n.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(n)}`),this}containedBy(l,n){return typeof n=="string"?this.url.searchParams.append(l,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(l,`cd.{${n.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(n)}`),this}rangeGt(l,n){return this.url.searchParams.append(l,`sr.${n}`),this}rangeGte(l,n){return this.url.searchParams.append(l,`nxl.${n}`),this}rangeLt(l,n){return this.url.searchParams.append(l,`sl.${n}`),this}rangeLte(l,n){return this.url.searchParams.append(l,`nxr.${n}`),this}rangeAdjacent(l,n){return this.url.searchParams.append(l,`adj.${n}`),this}overlaps(l,n){return typeof n=="string"?this.url.searchParams.append(l,`ov.${n}`):this.url.searchParams.append(l,`ov.{${n.join(",")}}`),this}textSearch(l,n,{config:s,type:r}={}){let c="";r==="plain"?c="pl":r==="phrase"?c="ph":r==="websearch"&&(c="w");const f=s===void 0?"":`(${s})`;return this.url.searchParams.append(l,`${c}fts${f}.${n}`),this}match(l){return Object.entries(l).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(l,n,s){return this.url.searchParams.append(l,`not.${n}.${s}`),this}or(l,{foreignTable:n,referencedTable:s=n}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${l})`),this}filter(l,n,s){return this.url.searchParams.append(l,`${n}.${s}`),this}},ey=class{constructor(l,{headers:n={},schema:s,fetch:r}){this.url=l,this.headers=new Headers(n),this.schema=s,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(l,n){const{head:s=!1,count:r}=n??{},c=s?"HEAD":"GET";let f=!1;const h=(l??"*").split("").map(y=>/\s/.test(y)&&!f?"":(y==='"'&&(f=!f),y)).join(""),{url:m,headers:g}=this.cloneRequestState();return m.searchParams.set("select",h),r&&g.append("Prefer",`count=${r}`),new wi({method:c,url:m,headers:g,schema:this.schema,fetch:this.fetch})}insert(l,{count:n,defaultToNull:s=!0}={}){var r;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(n&&h.append("Prefer",`count=${n}`),s||h.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);f.searchParams.set("columns",g.join(","))}}return new wi({method:c,url:f,headers:h,schema:this.schema,body:l,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(l,{onConflict:n,ignoreDuplicates:s=!1,count:r,defaultToNull:c=!0}={}){var f;const h="POST",{url:m,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&m.searchParams.set("on_conflict",n),r&&g.append("Prefer",`count=${r}`),c||g.append("Prefer","missing=default"),Array.isArray(l)){const y=l.reduce((_,x)=>_.concat(Object.keys(x)),[]);if(y.length>0){const _=[...new Set(y)].map(x=>`"${x}"`);m.searchParams.set("columns",_.join(","))}}return new wi({method:h,url:m,headers:g,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(l,{count:n}={}){var s;const r="PATCH",{url:c,headers:f}=this.cloneRequestState();return n&&f.append("Prefer",`count=${n}`),new wi({method:r,url:c,headers:f,schema:this.schema,body:l,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:l}={}){var n;const s="DELETE",{url:r,headers:c}=this.cloneRequestState();return l&&c.append("Prefer",`count=${l}`),new wi({method:s,url:r,headers:c,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},ty=class Gm{constructor(n,{headers:s={},schema:r,fetch:c}={}){this.url=n,this.headers=new Headers(s),this.schemaName=r,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new ey(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Gm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,s={},{head:r=!1,get:c=!1,count:f}={}){var h;let m;const g=new URL(`${this.url}/rpc/${n}`);let y;const _=N=>N!==null&&typeof N=="object"&&(!Array.isArray(N)||N.some(_)),x=r&&Object.values(s).some(_);x?(m="POST",y=s):r||c?(m=r?"HEAD":"GET",Object.entries(s).filter(([N,D])=>D!==void 0).map(([N,D])=>[N,Array.isArray(D)?`{${D.join(",")}}`:`${D}`]).forEach(([N,D])=>{g.searchParams.append(N,D)})):(m="POST",y=s);const E=new Headers(this.headers);return x?E.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&E.set("Prefer",`count=${f}`),new wi({method:m,url:g,headers:E,schema:this.schemaName,body:y,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class ay{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const c=r.node,f=parseInt(c.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let s=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(s+=`

Suggested solution: ${n.workaround}`),new Error(s)}static createWebSocket(n,s){const r=this.getWebSocketConstructor();return new r(n,s)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const ny="2.93.3",iy=`realtime-js/${ny}`,sy="1.0.0",Vm="2.0.0",_m=Vm,Qo=1e4,ly=1e3,ry=100;var Fa;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Fa||(Fa={}));var tt;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(tt||(tt={}));var na;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(na||(na={}));var Xo;(function(l){l.websocket="websocket"})(Xo||(Xo={}));var On;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(On||(On={}));class uy{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,s){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(n));let r=[n.join_ref,n.ref,n.topic,n.event,n.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(n){var s;return this._isArrayBuffer((s=n.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var s,r;const c=(r=(s=n.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},h=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,s,r){var c,f;const h=n.topic,m=(c=n.ref)!==null&&c!==void 0?c:"",g=(f=n.join_ref)!==null&&f!==void 0?f:"",y=n.payload.event,_=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(_).length===0?"":JSON.stringify(_);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+m.length+h.length+y.length+x.length,N=new ArrayBuffer(this.HEADER_LENGTH+E);let D=new DataView(N),q=0;D.setUint8(q++,this.KINDS.userBroadcastPush),D.setUint8(q++,g.length),D.setUint8(q++,m.length),D.setUint8(q++,h.length),D.setUint8(q++,y.length),D.setUint8(q++,x.length),D.setUint8(q++,s),Array.from(g,V=>D.setUint8(q++,V.charCodeAt(0))),Array.from(m,V=>D.setUint8(q++,V.charCodeAt(0))),Array.from(h,V=>D.setUint8(q++,V.charCodeAt(0))),Array.from(y,V=>D.setUint8(q++,V.charCodeAt(0))),Array.from(x,V=>D.setUint8(q++,V.charCodeAt(0)));var G=new Uint8Array(N.byteLength+r.byteLength);return G.set(new Uint8Array(N),0),G.set(new Uint8Array(r),N.byteLength),G.buffer}decode(n,s){if(this._isArrayBuffer(n)){let r=this._binaryDecode(n);return s(r)}if(typeof n=="string"){const r=JSON.parse(n),[c,f,h,m,g]=r;return s({join_ref:c,ref:f,topic:h,event:m,payload:g})}return s({})}_binaryDecode(n){const s=new DataView(n),r=s.getUint8(0),c=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,s,c)}}_decodeUserBroadcast(n,s,r){const c=s.getUint8(1),f=s.getUint8(2),h=s.getUint8(3),m=s.getUint8(4);let g=this.HEADER_LENGTH+4;const y=r.decode(n.slice(g,g+c));g=g+c;const _=r.decode(n.slice(g,g+f));g=g+f;const x=r.decode(n.slice(g,g+h));g=g+h;const E=n.slice(g,n.byteLength),N=m===this.JSON_ENCODING?JSON.parse(r.decode(E)):E,D={type:this.BROADCAST_EVENT,event:_,payload:N};return h>0&&(D.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:D}}_isArrayBuffer(n){var s;return n instanceof ArrayBuffer||((s=n==null?void 0:n.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(n,s){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([r])=>s.includes(r)))}}class Ym{constructor(n,s){this.callback=n,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Le||(Le={}));const wm=(l,n,s={})=>{var r;const c=(r=s.skipTypes)!==null&&r!==void 0?r:[];return n?Object.keys(n).reduce((f,h)=>(f[h]=oy(h,l,n,c),f),{}):{}},oy=(l,n,s,r)=>{const c=n.find(m=>m.name===l),f=c==null?void 0:c.type,h=s[l];return f&&!r.includes(f)?Im(f,h):Jo(h)},Im=(l,n)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return dy(n,s)}switch(l){case Le.bool:return cy(n);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return fy(n);case Le.json:case Le.jsonb:return hy(n);case Le.timestamp:return my(n);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Jo(n);default:return Jo(n)}},Jo=l=>l,cy=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},fy=l=>{if(typeof l=="string"){const n=parseFloat(l);if(!Number.isNaN(n))return n}return l},hy=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch{return l}return l},dy=(l,n)=>{if(typeof l!="string")return l;const s=l.length-1,r=l[s];if(l[0]==="{"&&r==="}"){let f;const h=l.slice(1,s);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(m=>Im(n,m))}return l},my=l=>typeof l=="string"?l.replace(" ","T"):l,Km=l=>{const n=new URL(l);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class $o{constructor(n,s,r={},c=Qo){this.channel=n,this.event=s,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,s){var r;return this._hasReceived(n)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:s}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(s))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var Sm;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Sm||(Sm={}));class Ns{constructor(n,s){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ns.syncState(this.state,c,f,h),this.pendingDiffs.forEach(g=>{this.state=Ns.syncDiff(this.state,g,f,h)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},c=>{const{onJoin:f,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Ns.syncDiff(this.state,c,f,h),m())}),this.onJoin((c,f,h)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:f,newPresences:h})}),this.onLeave((c,f,h)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,s,r,c){const f=this.cloneDeep(n),h=this.transformState(s),m={},g={};return this.map(f,(y,_)=>{h[y]||(g[y]=_)}),this.map(h,(y,_)=>{const x=f[y];if(x){const E=_.map(G=>G.presence_ref),N=x.map(G=>G.presence_ref),D=_.filter(G=>N.indexOf(G.presence_ref)<0),q=x.filter(G=>E.indexOf(G.presence_ref)<0);D.length>0&&(m[y]=D),q.length>0&&(g[y]=q)}else m[y]=_}),this.syncDiff(f,{joins:m,leaves:g},r,c)}static syncDiff(n,s,r,c){const{joins:f,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(f,(m,g)=>{var y;const _=(y=n[m])!==null&&y!==void 0?y:[];if(n[m]=this.cloneDeep(g),_.length>0){const x=n[m].map(N=>N.presence_ref),E=_.filter(N=>x.indexOf(N.presence_ref)<0);n[m].unshift(...E)}r(m,_,g)}),this.map(h,(m,g)=>{let y=n[m];if(!y)return;const _=g.map(x=>x.presence_ref);y=y.filter(x=>_.indexOf(x.presence_ref)<0),n[m]=y,c(m,y,g),y.length===0&&delete n[m]}),n}static map(n,s){return Object.getOwnPropertyNames(n).map(r=>s(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((s,r)=>{const c=n[r];return"metas"in c?s[r]=c.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):s[r]=c,s},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xm;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(xm||(xm={}));var js;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(js||(js={}));var Aa;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Aa||(Aa={}));class Ei{constructor(n,s={config:{}},r){var c,f;if(this.topic=n,this.params=s,this.socket=r,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new $o(this,na.join,this.params,this.timeout),this.rejoinTimer=new Ym(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new Ns(this),this.broadcastEndpointURL=Km(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,s=this.timeout){var r,c,f;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,y=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(N=>N.filter))!==null&&c!==void 0?c:[],_=!!this.bindings[js.PRESENCE]&&this.bindings[js.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,x={},E={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:_}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>n==null?void 0:n(Aa.CHANNEL_ERROR,N)),this._onClose(()=>n==null?void 0:n(Aa.CLOSED)),this.updateJoinPayload(Object.assign({config:E},x)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:N})=>{var D;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){n==null||n(Aa.SUBSCRIBED);return}else{const q=this.bindings.postgres_changes,G=(D=q==null?void 0:q.length)!==null&&D!==void 0?D:0,V=[];for(let Q=0;Q<G;Q++){const H=q[Q],{filter:{event:I,schema:me,table:re,filter:Z}}=H,_e=N&&N[Q];if(_e&&_e.event===I&&Ei.isFilterValueEqual(_e.schema,me)&&Ei.isFilterValueEqual(_e.table,re)&&Ei.isFilterValueEqual(_e.filter,Z))V.push(Object.assign(Object.assign({},H),{id:_e.id}));else{this.unsubscribe(),this.state=tt.errored,n==null||n(Aa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,n&&n(Aa.SUBSCRIBED);return}}).receive("error",N=>{this.state=tt.errored,n==null||n(Aa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(Aa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,s={}){return await this.send({type:"presence",event:"track",payload:n},s.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,s,r){return this.state===tt.joined&&n===js.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,s,r)}async httpSend(n,s,r={}){var c;if(s==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(c=r.timeout)!==null&&c!==void 0?c:this.timeout);if(m.status===202)return{success:!0};let g=m.statusText;try{const y=await m.json();g=y.error||y.message||g}catch{}return Promise.reject(new Error(g))}async send(n,s={}){var r,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=n,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=y.body)===null||c===void 0?void 0:c.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,m,g;const y=this._push(n.type,n,s.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&f("ok"),y.receive("ok",()=>f("ok")),y.receive("error",()=>f("error")),y.receive("timeout",()=>f("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=tt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new $o(this,na.leave,{},n),r.receive("ok",()=>{s(),c("ok")}).receive("timeout",()=>{s(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(n,s,r){const c=new AbortController,f=setTimeout(()=>c.abort(),r),h=await this.socket.fetch(n,Object.assign(Object.assign({},s),{signal:c.signal}));return clearTimeout(f),h}_push(n,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new $o(this,n,s,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>ry){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(n,s,r){return s}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,s,r){var c,f;const h=n.toLocaleLowerCase(),{close:m,error:g,leave:y,join:_}=na;if(r&&[m,g,y,_].indexOf(h)>=0&&r!==this._joinRef())return;let E=this._onMessage(h,s,r);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(N=>{var D,q,G;return((D=N.filter)===null||D===void 0?void 0:D.event)==="*"||((G=(q=N.filter)===null||q===void 0?void 0:q.event)===null||G===void 0?void 0:G.toLocaleLowerCase())===h}).map(N=>N.callback(E,r)):(f=this.bindings[h])===null||f===void 0||f.filter(N=>{var D,q,G,V,Q,H;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in N){const I=N.id,me=(D=N.filter)===null||D===void 0?void 0:D.event;return I&&((q=s.ids)===null||q===void 0?void 0:q.includes(I))&&(me==="*"||(me==null?void 0:me.toLocaleLowerCase())===((G=s.data)===null||G===void 0?void 0:G.type.toLocaleLowerCase()))}else{const I=(Q=(V=N==null?void 0:N.filter)===null||V===void 0?void 0:V.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return I==="*"||I===((H=s==null?void 0:s.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===h}).map(N=>{if(typeof E=="object"&&"ids"in E){const D=E.data,{schema:q,table:G,commit_timestamp:V,type:Q,errors:H}=D;E=Object.assign(Object.assign({},{schema:q,table:G,commit_timestamp:V,eventType:Q,new:{},old:{},errors:H}),this._getPayloadRecords(D))}N.callback(E,r)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,s,r){const c=n.toLocaleLowerCase(),f={type:c,filter:s,callback:r};return this.bindings[c]?this.bindings[c].push(f):this.bindings[c]=[f],this}_off(n,s){const r=n.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var f;return!(((f=c.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===r&&Ei.isEqual(c.filter,s))})),this}static isEqual(n,s){if(Object.keys(n).length!==Object.keys(s).length)return!1;for(const r in n)if(n[r]!==s[r])return!1;return!0}static isFilterValueEqual(n,s){return(n??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(na.close,{},n)}_onError(n){this._on(na.error,{},s=>n(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const s={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(s.new=wm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(s.old=wm(n.columns,n.old_record)),s}}const Bo=()=>{},tr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},py=[1e3,2e3,5e3,1e4],gy=1e4,yy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vy{constructor(n,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qo,this.transport=null,this.heartbeatIntervalMs=tr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bo,this.ref=0,this.reconnectTimer=null,this.vsn=_m,this.logger=Bo,this.conn=null,this.sendBuffer=[],this.serializer=new uy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=c=>c?(...f)=>c(...f):(...f)=>fetch(...f),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${n}/${Xo.websocket}`,this.httpEndpoint=Km(n),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ay.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const s=n.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const s=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const n=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,s,r){this.logger(n,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fa.connecting:return On.Connecting;case Fa.open:return On.Open;case Fa.closing:return On.Closing;default:return On.Closed}}isConnected(){return this.connectionState()===On.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,s={config:{}}){const r=`realtime:${n}`,c=this.getChannels().find(f=>f.topic===r);if(c)return c;{const f=new Ei(`realtime:${n}`,s,this);return this.channels.push(f),f}}push(n){const{topic:s,event:r,payload:c,ref:f}=n,h=()=>{this.encode(n,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${r} (${f})`,c),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(ly,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},tr.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let s=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${n}"`),s.unsubscribe())}_remove(n){this.channels=this.channels.filter(s=>s.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",y)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:c,payload:f,ref:h}=s,m=h?`(${h})`:"",g=f.status||"";this.log("receive",`${g} ${r} ${c} ${m}`.trim(),f),this.channels.filter(y=>y._isMember(r)).forEach(y=>y._trigger(c,f,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(n){var s;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===Fa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Fa.open||this.conn.readyState===Fa.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var s;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(n=>n._trigger(na.error))}_appendParams(n,s){if(Object.keys(s).length===0)return n;const r=n.match(/\?/)?"&":"?",c=new URLSearchParams(s);return`${n}${r}${c}`}_workerObjectUrl(n){let s;if(n)s=n;else{const r=new Blob([yy],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(n,s=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(n=null){let s,r=!1;if(n)s=n,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(c=>{const f={access_token:s,version:iy};s&&c.updateJoinPayload(f),c.joinedOnce&&c._isJoined()&&c._push(na.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${n}`,s)})}_triggerStateCallbacks(n,s){try{this.stateChangeCallbacks[n].forEach(r=>{try{r(s)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(r){this.log("error",`error triggering ${n} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ym(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},tr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var s,r,c,f,h,m,g,y,_,x,E,N;switch(this.transport=(s=n==null?void 0:n.transport)!==null&&s!==void 0?s:null,this.timeout=(r=n==null?void 0:n.timeout)!==null&&r!==void 0?r:Qo,this.heartbeatIntervalMs=(c=n==null?void 0:n.heartbeatIntervalMs)!==null&&c!==void 0?c:tr.HEARTBEAT_INTERVAL,this.worker=(f=n==null?void 0:n.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=n==null?void 0:n.heartbeatCallback)!==null&&m!==void 0?m:Bo,this.vsn=(g=n==null?void 0:n.vsn)!==null&&g!==void 0?g:_m,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=n==null?void 0:n.reconnectAfterMs)!==null&&y!==void 0?y:(D=>py[D-1]||gy),this.vsn){case sy:this.encode=(_=n==null?void 0:n.encode)!==null&&_!==void 0?_:((D,q)=>q(JSON.stringify(D))),this.decode=(x=n==null?void 0:n.decode)!==null&&x!==void 0?x:((D,q)=>q(JSON.parse(D)));break;case Vm:this.encode=(E=n==null?void 0:n.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(N=n==null?void 0:n.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Rs=class extends Error{constructor(l,n){var s;super(l),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((s=n.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function by(l,n,s){const r=new URL(n,l);if(s)for(const[c,f]of Object.entries(s))f!==void 0&&r.searchParams.set(c,f);return r.toString()}async function _y(l){return!l||l.type==="none"?{}:l.type==="bearer"?{Authorization:`Bearer ${l.token}`}:l.type==="header"?{[l.name]:l.value}:l.type==="custom"?await l.getHeaders():{}}function wy(l){const n=l.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:c,body:f,headers:h}){const m=by(l.baseUrl,r,c),g=await _y(l.auth),y=await n(m,{method:s,headers:{...f?{"Content-Type":"application/json"}:{},...g,...h},body:f?JSON.stringify(f):void 0}),_=await y.text(),x=(y.headers.get("content-type")||"").includes("application/json"),E=x&&_?JSON.parse(_):_;if(!y.ok){const N=x?E:void 0,D=N==null?void 0:N.error;throw new Rs((D==null?void 0:D.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:D==null?void 0:D.type,icebergCode:D==null?void 0:D.code,details:N})}return{status:y.status,headers:y.headers,data:E}}}}function ar(l){return l.join("")}var Sy=class{constructor(l,n=""){this.client=l,this.prefix=n}async listNamespaces(l){const n=l?{parent:ar(l.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(l,n){const s={namespace:l.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(l){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ar(l.namespace)}`})}async loadNamespaceMetadata(l){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ar(l.namespace)}`})).data.properties}}async namespaceExists(l){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ar(l.namespace)}`}),!0}catch(n){if(n instanceof Rs&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(l,n){try{return await this.createNamespace(l,n)}catch(s){if(s instanceof Rs&&s.status===409)return;throw s}}};function pi(l){return l.join("")}var xy=class{constructor(l,n="",s){this.client=l,this.prefix=n,this.accessDelegation=s}async listTables(l){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pi(l.namespace)}/tables`})).data.identifiers}async createTable(l,n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pi(l.namespace)}/tables`,body:n,headers:s})).data.metadata}async updateTable(l,n){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pi(l.namespace)}/tables/${l.name}`,body:n});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(l,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pi(l.namespace)}/tables/${l.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(l){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pi(l.namespace)}/tables/${l.name}`,headers:n})).data.metadata}async tableExists(l){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pi(l.namespace)}/tables/${l.name}`,headers:n}),!0}catch(s){if(s instanceof Rs&&s.status===404)return!1;throw s}}async createTableIfNotExists(l,n){try{return await this.createTable(l,n)}catch(s){if(s instanceof Rs&&s.status===409)return await this.loadTable({namespace:l.namespace,name:n.name});throw s}}},Ey=class{constructor(l){var r;let n="v1";l.catalogName&&(n+=`/${l.catalogName}`);const s=l.baseUrl.endsWith("/")?l.baseUrl:`${l.baseUrl}/`;this.client=wy({baseUrl:s,auth:l.auth,fetchImpl:l.fetch}),this.accessDelegation=(r=l.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Sy(this.client,n),this.tableOps=new xy(this.client,n,this.accessDelegation)}async listNamespaces(l){return this.namespaceOps.listNamespaces(l)}async createNamespace(l,n){return this.namespaceOps.createNamespace(l,n)}async dropNamespace(l){await this.namespaceOps.dropNamespace(l)}async loadNamespaceMetadata(l){return this.namespaceOps.loadNamespaceMetadata(l)}async listTables(l){return this.tableOps.listTables(l)}async createTable(l,n){return this.tableOps.createTable(l,n)}async updateTable(l,n){return this.tableOps.updateTable(l,n)}async dropTable(l,n){await this.tableOps.dropTable(l,n)}async loadTable(l){return this.tableOps.loadTable(l)}async namespaceExists(l){return this.namespaceOps.namespaceExists(l)}async tableExists(l){return this.tableOps.tableExists(l)}async createNamespaceIfNotExists(l,n){return this.namespaceOps.createNamespaceIfNotExists(l,n)}async createTableIfNotExists(l,n){return this.tableOps.createTableIfNotExists(l,n)}},hr=class extends Error{constructor(l,n="storage",s,r){super(l),this.__isStorageError=!0,this.namespace=n,this.name=n==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function dr(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}var nr=class extends hr{constructor(l,n,s,r="storage"){super(l,r,n,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Qm=class extends hr{constructor(l,n,s="storage"){super(l,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=n}};const Ty=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),Ay=l=>{if(typeof l!="object"||l===null)return!1;const n=Object.getPrototypeOf(l);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Zo=l=>{if(Array.isArray(l))return l.map(s=>Zo(s));if(typeof l=="function"||l!==Object(l))return l;const n={};return Object.entries(l).forEach(([s,r])=>{const c=s.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));n[c]=Zo(r)}),n},Oy=l=>!l||typeof l!="string"||l.length===0||l.length>100||l.trim()!==l||l.includes("/")||l.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(l);function Cs(l){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Cs(l)}function Ny(l,n){if(Cs(l)!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var r=s.call(l,n);if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function jy(l){var n=Ny(l,"string");return Cs(n)=="symbol"?n:n+""}function Ry(l,n,s){return(n=jy(n))in l?Object.defineProperty(l,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[n]=s,l}function Em(l,n){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),s.push.apply(s,r)}return s}function le(l){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Em(Object(s),!0).forEach(function(r){Ry(l,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):Em(Object(s)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(s,r))})}return l}const Tm=l=>{var n;return l.msg||l.message||l.error_description||(typeof l.error=="string"?l.error:(n=l.error)===null||n===void 0?void 0:n.message)||JSON.stringify(l)},Cy=async(l,n,s,r)=>{if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(s!=null&&s.noResolveJson)){const c=l,f=c.status||500;if(typeof c.json=="function")c.json().then(h=>{const m=(h==null?void 0:h.statusCode)||(h==null?void 0:h.code)||f+"";n(new nr(Tm(h),f,m,r))}).catch(()=>{if(r==="vectors"){const h=f+"";n(new nr(c.statusText||`HTTP ${f} error`,f,h,r))}else{const h=f+"";n(new nr(c.statusText||`HTTP ${f} error`,f,h,r))}});else{const h=f+"";n(new nr(c.statusText||`HTTP ${f} error`,f,h,r))}}else n(new Qm(Tm(l),l,r))},ky=(l,n,s,r)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"||l==="HEAD"||!r?le(le({},c),s):(Ay(r)?(c.headers=le({"Content-Type":"application/json"},n==null?void 0:n.headers),c.body=JSON.stringify(r)):c.body=r,n!=null&&n.duplex&&(c.duplex=n.duplex),le(le({},c),s))};async function Es(l,n,s,r,c,f,h){return new Promise((m,g)=>{l(s,ky(n,r,c,f)).then(y=>{if(!y.ok)throw y;if(r!=null&&r.noResolveJson)return y;if(h==="vectors"){const _=y.headers.get("content-type");if(y.headers.get("content-length")==="0"||y.status===204)return{};if(!_||!_.includes("application/json"))return{}}return y.json()}).then(y=>m(y)).catch(y=>Cy(y,g,r,h))})}function Xm(l="storage"){return{get:async(n,s,r,c)=>Es(n,"GET",s,r,c,void 0,l),post:async(n,s,r,c,f)=>Es(n,"POST",s,c,f,r,l),put:async(n,s,r,c,f)=>Es(n,"PUT",s,c,f,r,l),head:async(n,s,r,c)=>Es(n,"HEAD",s,le(le({},r),{},{noResolveJson:!0}),c,void 0,l),remove:async(n,s,r,c,f)=>Es(n,"DELETE",s,c,f,r,l)}}const Uy=Xm("storage"),{get:ks,post:aa,put:Po,head:My,remove:sc}=Uy,Lt=Xm("vectors");var Ai=class{constructor(l,n={},s,r="storage"){this.shouldThrowOnError=!1,this.url=l,this.headers=n,this.fetch=Ty(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(l){var n=this;try{return{data:await l(),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(dr(s))return{data:null,error:s};throw s}}},Dy=class{constructor(l,n){this.downloadFn=l,this.shouldThrowOnError=n}then(l,n){return this.execute().then(l,n)}async execute(){var l=this;try{return{data:(await l.downloadFn()).body,error:null}}catch(n){if(l.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}};let Jm;Jm=Symbol.toStringTag;var zy=class{constructor(l,n){this.downloadFn=l,this.shouldThrowOnError=n,this[Jm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Dy(this.downloadFn,this.shouldThrowOnError)}then(l,n){return this.getPromise().then(l,n)}catch(l){return this.getPromise().catch(l)}finally(l){return this.getPromise().finally(l)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var l=this;try{return{data:await(await l.downloadFn()).blob(),error:null}}catch(n){if(l.shouldThrowOnError)throw n;if(dr(n))return{data:null,error:n};throw n}}};const Ly={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Am={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $y=class extends Ai{constructor(l,n={},s,r){super(l,n,r,"storage"),this.bucketId=s}async uploadOrUpdate(l,n,s,r){var c=this;return c.handleOperation(async()=>{let f;const h=le(le({},Am),r);let m=le(le({},c.headers),l==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&s instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",c.encodeMetadata(g)),f.append("",s)):typeof FormData<"u"&&s instanceof FormData?(f=s,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),g&&!f.has("metadata")&&f.append("metadata",c.encodeMetadata(g))):(f=s,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=c.toBase64(c.encodeMetadata(g))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),r!=null&&r.headers&&(m=le(le({},m),r.headers));const y=c._removeEmptyFolders(n),_=c._getFinalPath(y),x=await(l=="PUT"?Po:aa)(c.fetch,`${c.url}/object/${_}`,f,le({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{path:y,id:x.Id,fullPath:x.Key}})}async upload(l,n,s){return this.uploadOrUpdate("POST",l,n,s)}async uploadToSignedUrl(l,n,s,r){var c=this;const f=c._removeEmptyFolders(l),h=c._getFinalPath(f),m=new URL(c.url+`/object/upload/sign/${h}`);return m.searchParams.set("token",n),c.handleOperation(async()=>{let g;const y=le({upsert:Am.upsert},r),_=le(le({},c.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",y.cacheControl)):(g=s,_["cache-control"]=`max-age=${y.cacheControl}`,_["content-type"]=y.contentType),{path:f,fullPath:(await Po(c.fetch,m.toString(),g,{headers:_})).Key}})}async createSignedUploadUrl(l,n){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(l);const c=le({},s.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const f=await aa(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:c}),h=new URL(s.url+f.url),m=h.searchParams.get("token");if(!m)throw new hr("No token returned by API");return{signedUrl:h.toString(),path:l,token:m}})}async update(l,n,s){return this.uploadOrUpdate("PUT",l,n,s)}async move(l,n,s){var r=this;return r.handleOperation(async()=>await aa(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:l,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(l,n,s){var r=this;return r.handleOperation(async()=>({path:(await aa(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:l,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(l,n,s){var r=this;return r.handleOperation(async()=>{let c=r._getFinalPath(l),f=await aa(r.fetch,`${r.url}/object/sign/${c}`,le({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const h=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${f.signedURL}${h}`)}})}async createSignedUrls(l,n,s){var r=this;return r.handleOperation(async()=>{const c=await aa(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:n,paths:l},{headers:r.headers}),f=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c.map(h=>le(le({},h),{},{signedUrl:h.signedURL?encodeURI(`${r.url}${h.signedURL}${f}`):null}))})}download(l,n){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=r?`?${r}`:"",f=this._getFinalPath(l),h=()=>ks(this.fetch,`${this.url}/${s}/${f}${c}`,{headers:this.headers,noResolveJson:!0});return new zy(h,this.shouldThrowOnError)}async info(l){var n=this;const s=n._getFinalPath(l);return n.handleOperation(async()=>Zo(await ks(n.fetch,`${n.url}/object/info/${s}`,{headers:n.headers})))}async exists(l){var n=this;const s=n._getFinalPath(l);try{return await My(n.fetch,`${n.url}/object/${s}`,{headers:n.headers}),{data:!0,error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(dr(r)&&r instanceof Qm){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}}getPublicUrl(l,n){const s=this._getFinalPath(l),r=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&r.push(c);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&r.push(h);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${s}${m}`)}}}async remove(l){var n=this;return n.handleOperation(async()=>await sc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:l},{headers:n.headers}))}async list(l,n,s){var r=this;return r.handleOperation(async()=>{const c=le(le(le({},Ly),n),{},{prefix:l||""});return await aa(r.fetch,`${r.url}/object/list/${r.bucketId}`,c,{headers:r.headers},s)})}async listV2(l,n){var s=this;return s.handleOperation(async()=>{const r=le({},l);return await aa(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},n)})}encodeMetadata(l){return JSON.stringify(l)}toBase64(l){return typeof Buffer<"u"?Buffer.from(l).toString("base64"):btoa(l)}_getFinalPath(l){return`${this.bucketId}/${l.replace(/^\/+/,"")}`}_removeEmptyFolders(l){return l.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(l){const n=[];return l.width&&n.push(`width=${l.width}`),l.height&&n.push(`height=${l.height}`),l.resize&&n.push(`resize=${l.resize}`),l.format&&n.push(`format=${l.format}`),l.quality&&n.push(`quality=${l.quality}`),n.join("&")}};const By="2.93.3",zs={"X-Client-Info":`storage-js/${By}`};var qy=class extends Ai{constructor(l,n={},s,r){const c=new URL(l);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase."));const f=c.href.replace(/\/$/,""),h=le(le({},zs),n);super(f,h,s,"storage")}async listBuckets(l){var n=this;return n.handleOperation(async()=>{const s=n.listBucketOptionsToQueryString(l);return await ks(n.fetch,`${n.url}/bucket${s}`,{headers:n.headers})})}async getBucket(l){var n=this;return n.handleOperation(async()=>await ks(n.fetch,`${n.url}/bucket/${l}`,{headers:n.headers}))}async createBucket(l,n={public:!1}){var s=this;return s.handleOperation(async()=>await aa(s.fetch,`${s.url}/bucket`,{id:l,name:l,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async updateBucket(l,n){var s=this;return s.handleOperation(async()=>await Po(s.fetch,`${s.url}/bucket/${l}`,{id:l,name:l,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(l){var n=this;return n.handleOperation(async()=>await aa(n.fetch,`${n.url}/bucket/${l}/empty`,{},{headers:n.headers}))}async deleteBucket(l){var n=this;return n.handleOperation(async()=>await sc(n.fetch,`${n.url}/bucket/${l}`,{},{headers:n.headers}))}listBucketOptionsToQueryString(l){const n={};return l&&("limit"in l&&(n.limit=String(l.limit)),"offset"in l&&(n.offset=String(l.offset)),l.search&&(n.search=l.search),l.sortColumn&&(n.sortColumn=l.sortColumn),l.sortOrder&&(n.sortOrder=l.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Hy=class extends Ai{constructor(l,n={},s){const r=l.replace(/\/$/,""),c=le(le({},zs),n);super(r,c,s,"storage")}async createBucket(l){var n=this;return n.handleOperation(async()=>await aa(n.fetch,`${n.url}/bucket`,{name:l},{headers:n.headers}))}async listBuckets(l){var n=this;return n.handleOperation(async()=>{const s=new URLSearchParams;(l==null?void 0:l.limit)!==void 0&&s.set("limit",l.limit.toString()),(l==null?void 0:l.offset)!==void 0&&s.set("offset",l.offset.toString()),l!=null&&l.sortColumn&&s.set("sortColumn",l.sortColumn),l!=null&&l.sortOrder&&s.set("sortOrder",l.sortOrder),l!=null&&l.search&&s.set("search",l.search);const r=s.toString(),c=r?`${n.url}/bucket?${r}`:`${n.url}/bucket`;return await ks(n.fetch,c,{headers:n.headers})})}async deleteBucket(l){var n=this;return n.handleOperation(async()=>await sc(n.fetch,`${n.url}/bucket/${l}`,{},{headers:n.headers}))}from(l){var n=this;if(!Oy(l))throw new hr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new Ey({baseUrl:this.url,catalogName:l,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(c,f){const h=c[f];return typeof h!="function"?h:async(...m)=>{try{return{data:await h.apply(c,m),error:null}}catch(g){if(r)throw g;return{data:null,error:g}}}}})}},Gy=class extends Ai{constructor(l,n={},s){const r=l.replace(/\/$/,""),c=le(le({},zs),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async createIndex(l){var n=this;return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/CreateIndex`,l,{headers:n.headers})||{})}async getIndex(l,n){var s=this;return s.handleOperation(async()=>await Lt.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:l,indexName:n},{headers:s.headers}))}async listIndexes(l){var n=this;return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/ListIndexes`,l,{headers:n.headers}))}async deleteIndex(l,n){var s=this;return s.handleOperation(async()=>await Lt.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:l,indexName:n},{headers:s.headers})||{})}},Vy=class extends Ai{constructor(l,n={},s){const r=l.replace(/\/$/,""),c=le(le({},zs),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async putVectors(l){var n=this;if(l.vectors.length<1||l.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/PutVectors`,l,{headers:n.headers})||{})}async getVectors(l){var n=this;return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/GetVectors`,l,{headers:n.headers}))}async listVectors(l){var n=this;if(l.segmentCount!==void 0){if(l.segmentCount<1||l.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(l.segmentIndex!==void 0&&(l.segmentIndex<0||l.segmentIndex>=l.segmentCount))throw new Error(`segmentIndex must be between 0 and ${l.segmentCount-1}`)}return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/ListVectors`,l,{headers:n.headers}))}async queryVectors(l){var n=this;return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/QueryVectors`,l,{headers:n.headers}))}async deleteVectors(l){var n=this;if(l.keys.length<1||l.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/DeleteVectors`,l,{headers:n.headers})||{})}},Yy=class extends Ai{constructor(l,n={},s){const r=l.replace(/\/$/,""),c=le(le({},zs),{},{"Content-Type":"application/json"},n);super(r,c,s,"vectors")}async createBucket(l){var n=this;return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:l},{headers:n.headers})||{})}async getBucket(l){var n=this;return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:l},{headers:n.headers}))}async listBuckets(l={}){var n=this;return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/ListVectorBuckets`,l,{headers:n.headers}))}async deleteBucket(l){var n=this;return n.handleOperation(async()=>await Lt.post(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:l},{headers:n.headers})||{})}},Iy=class extends Yy{constructor(l,n={}){super(l,n.headers||{},n.fetch)}from(l){return new Ky(this.url,this.headers,l,this.fetch)}async createBucket(l){var n=()=>super.createBucket,s=this;return n().call(s,l)}async getBucket(l){var n=()=>super.getBucket,s=this;return n().call(s,l)}async listBuckets(l={}){var n=()=>super.listBuckets,s=this;return n().call(s,l)}async deleteBucket(l){var n=()=>super.deleteBucket,s=this;return n().call(s,l)}},Ky=class extends Gy{constructor(l,n,s,r){super(l,n,r),this.vectorBucketName=s}async createIndex(l){var n=()=>super.createIndex,s=this;return n().call(s,le(le({},l),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(l={}){var n=()=>super.listIndexes,s=this;return n().call(s,le(le({},l),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(l){var n=()=>super.getIndex,s=this;return n().call(s,s.vectorBucketName,l)}async deleteIndex(l){var n=()=>super.deleteIndex,s=this;return n().call(s,s.vectorBucketName,l)}index(l){return new Qy(this.url,this.headers,this.vectorBucketName,l,this.fetch)}},Qy=class extends Vy{constructor(l,n,s,r,c){super(l,n,c),this.vectorBucketName=s,this.indexName=r}async putVectors(l){var n=()=>super.putVectors,s=this;return n().call(s,le(le({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(l){var n=()=>super.getVectors,s=this;return n().call(s,le(le({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(l={}){var n=()=>super.listVectors,s=this;return n().call(s,le(le({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(l){var n=()=>super.queryVectors,s=this;return n().call(s,le(le({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(l){var n=()=>super.deleteVectors,s=this;return n().call(s,le(le({},l),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},Xy=class extends qy{constructor(l,n={},s,r){super(l,n,s,r)}from(l){return new $y(this.url,this.headers,l,this.fetch)}get vectors(){return new Iy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Hy(this.url+"/iceberg",this.headers,this.fetch)}};const Zm="2.93.3",Si=30*1e3,Wo=3,qo=Wo*Si,Jy="http://localhost:9999",Zy="supabase.auth.token",Py={"X-Client-Info":`gotrue-js/${Zm}`},Fo="X-Supabase-Api-Version",Pm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Wy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Fy=600*1e3;class Us extends Error{constructor(n,s,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function F(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class ev extends Us{constructor(n,s,r){super(n,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function tv(l){return F(l)&&l.name==="AuthApiError"}class Nn extends Us{constructor(n,s){super(n),this.name="AuthUnknownError",this.originalError=s}}class Oa extends Us{constructor(n,s,r,c){super(n,r,c),this.name=s,this.status=r}}class zt extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ho(l){return F(l)&&l.name==="AuthSessionMissingError"}class gi extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ir extends Oa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class sr extends Oa{constructor(n,s=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function av(l){return F(l)&&l.name==="AuthImplicitGrantRedirectError"}class Om extends Oa{constructor(n,s=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nv extends Oa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ec extends Oa{constructor(n,s){super(n,"AuthRetryableFetchError",s,void 0)}}function Go(l){return F(l)&&l.name==="AuthRetryableFetchError"}class Nm extends Oa{constructor(n,s,r){super(n,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class tc extends Oa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const ur="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jm=` 	
\r=`.split(""),iv=(()=>{const l=new Array(128);for(let n=0;n<l.length;n+=1)l[n]=-1;for(let n=0;n<jm.length;n+=1)l[jm[n].charCodeAt(0)]=-2;for(let n=0;n<ur.length;n+=1)l[ur[n].charCodeAt(0)]=n;return l})();function Rm(l,n,s){if(l!==null)for(n.queue=n.queue<<8|l,n.queuedBits+=8;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(ur[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const r=n.queue>>n.queuedBits-6&63;s(ur[r]),n.queuedBits-=6}}function Wm(l,n,s){const r=iv[l];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)s(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Cm(l){const n=[],s=h=>{n.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},f=h=>{rv(h,r,s)};for(let h=0;h<l.length;h+=1)Wm(l.charCodeAt(h),c,f);return n.join("")}function sv(l,n){if(l<=127){n(l);return}else if(l<=2047){n(192|l>>6),n(128|l&63);return}else if(l<=65535){n(224|l>>12),n(128|l>>6&63),n(128|l&63);return}else if(l<=1114111){n(240|l>>18),n(128|l>>12&63),n(128|l>>6&63),n(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function lv(l,n){for(let s=0;s<l.length;s+=1){let r=l.charCodeAt(s);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(l.charCodeAt(s+1)-56320&65535|c)+65536,s+=1}sv(r,n)}}function rv(l,n,s){if(n.utf8seq===0){if(l<=127){s(l);return}for(let r=1;r<6;r+=1)if((l>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=l&31;else if(n.utf8seq===3)n.codepoint=l&15;else if(n.utf8seq===4)n.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|l&63,n.utf8seq-=1,n.utf8seq===0&&s(n.codepoint)}}function Ti(l){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};for(let c=0;c<l.length;c+=1)Wm(l.charCodeAt(c),s,r);return new Uint8Array(n)}function uv(l){const n=[];return lv(l,s=>n.push(s)),new Uint8Array(n)}function jn(l){const n=[],s={queue:0,queuedBits:0},r=c=>{n.push(c)};return l.forEach(c=>Rm(c,s,r)),Rm(null,s,r),n.join("")}function ov(l){return Math.round(Date.now()/1e3)+l}function cv(){return Symbol("auth-callback")}const ft=()=>typeof window<"u"&&typeof document<"u",Sn={tested:!1,writable:!1},Fm=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sn.tested)return Sn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Sn.tested=!0,Sn.writable=!0}catch{Sn.tested=!0,Sn.writable=!1}return Sn.writable};function fv(l){const n={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((c,f)=>{n[f]=c})}catch{}return s.searchParams.forEach((r,c)=>{n[c]=r}),n}const e0=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),hv=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",xi=async(l,n,s)=>{await l.setItem(n,JSON.stringify(s))},xn=async(l,n)=>{const s=await l.getItem(n);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ct=async(l,n)=>{await l.removeItem(n)};class mr{constructor(){this.promise=new mr.promiseConstructor((n,s)=>{this.resolve=n,this.reject=s})}}mr.promiseConstructor=Promise;function lr(l){const n=l.split(".");if(n.length!==3)throw new tc("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Wy.test(n[r]))throw new tc("JWT not in base64url format");return{header:JSON.parse(Cm(n[0])),payload:JSON.parse(Cm(n[1])),signature:Ti(n[2]),raw:{header:n[0],payload:n[1]}}}async function dv(l){return await new Promise(n=>{setTimeout(()=>n(null),l)})}function mv(l,n){return new Promise((r,c)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await l(f);if(!n(f,null,h)){r(h);return}}catch(h){if(!n(f,h)){c(h);return}}})()})}function pv(l){return("0"+l.toString(16)).substr(-2)}function gv(){const n=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let c="";for(let f=0;f<56;f++)c+=s.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(n),Array.from(n,pv).join("")}async function yv(l){const s=new TextEncoder().encode(l),r=await crypto.subtle.digest("SHA-256",s),c=new Uint8Array(r);return Array.from(c).map(f=>String.fromCharCode(f)).join("")}async function vv(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await yv(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yi(l,n,s=!1){const r=gv();let c=r;s&&(c+="/PASSWORD_RECOVERY"),await xi(l,`${n}-code-verifier`,c);const f=await vv(r);return[f,r===f?"plain":"s256"]}const bv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _v(l){const n=l.headers.get(Fo);if(!n||!n.match(bv))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function wv(l){if(!l)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(l<=n)throw new Error("JWT has expired")}function Sv(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(l){if(!xv.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Vo(){const l={};return new Proxy(l,{get:(n,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ev(l,n){return new Proxy(l,{get:(s,r,c)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const f=r.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,c)}return!n.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(s,r,c)}})}function km(l){return JSON.parse(JSON.stringify(l))}const Tn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Tv=[502,503,504];async function Um(l){var n;if(!hv(l))throw new ec(Tn(l),0);if(Tv.includes(l.status))throw new ec(Tn(l),l.status);let s;try{s=await l.json()}catch(f){throw new Nn(Tn(f),f)}let r;const c=_v(l);if(c&&c.getTime()>=Pm["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Nm(Tn(s),l.status,((n=s.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new zt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new Nm(Tn(s),l.status,s.weak_password.reasons);throw new ev(Tn(s),l.status||500,r)}const Av=(l,n,s,r)=>{const c={method:l,headers:(n==null?void 0:n.headers)||{}};return l==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),s))};async function se(l,n,s,r){var c;const f=Object.assign({},r==null?void 0:r.headers);f[Fo]||(f[Fo]=Pm["2024-01-01"].name),r!=null&&r.jwt&&(f.Authorization=`Bearer ${r.jwt}`);const h=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Ov(l,n,s+m,{headers:f,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function Ov(l,n,s,r,c,f){const h=Av(n,r,c,f);let m;try{m=await l(s,Object.assign({},h))}catch(g){throw console.error(g),new ec(Tn(g),0)}if(m.ok||await Um(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(g){await Um(g)}}function ta(l){var n;let s=null;Rv(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=ov(l.expires_in)));const r=(n=l.user)!==null&&n!==void 0?n:l;return{data:{session:s,user:r},error:null}}function Mm(l){const n=ta(l);return!n.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(n.data.weak_password=l.weak_password),n}function en(l){var n;return{data:{user:(n=l.user)!==null&&n!==void 0?n:l},error:null}}function Nv(l){return{data:l,error:null}}function jv(l){const{action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:f}=l,h=fr(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:s,hashed_token:r,redirect_to:c,verification_type:f},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function Dm(l){return l}function Rv(l){return l.access_token&&l.refresh_token&&l.expires_in}const Yo=["global","local","others"];class Cv{constructor({url:n="",headers:s={},fetch:r}){this.url=n,this.headers=s,this.fetch=e0(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,s=Yo[0]){if(Yo.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yo.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(r){if(F(r))return{data:null,error:r};throw r}}async inviteUserByEmail(n,s={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:en})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async generateLink(n){try{const{options:s}=n,r=fr(n,["options"]),c=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:jv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(F(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(n){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:en})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async listUsers(n){var s,r,c,f,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},_=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Dm});if(_.error)throw _.error;const x=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(g=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(D=>{const q=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(D.split(";")[1].split("=")[1]);y[`${G}Page`]=q}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(F(y))return{data:{users:[]},error:y};throw y}}async getUserById(n){vi(n);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:en})}catch(s){if(F(s))return{data:{user:null},error:s};throw s}}async updateUserById(n,s){vi(n);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:s,headers:this.headers,xform:en})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async deleteUser(n,s=!1){vi(n);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:s},xform:en})}catch(r){if(F(r))return{data:{user:null},error:r};throw r}}async _listFactors(n){vi(n.userId);try{const{data:s,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:s,error:r}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _deleteFactor(n){vi(n.userId),vi(n.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _listOAuthClients(n){var s,r,c,f,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},_=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=n==null?void 0:n.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(f=(c=n==null?void 0:n.perPage)===null||c===void 0?void 0:c.toString())!==null&&f!==void 0?f:""},xform:Dm});if(_.error)throw _.error;const x=await _.json(),E=(h=_.headers.get("x-total-count"))!==null&&h!==void 0?h:0,N=(g=(m=_.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return N.length>0&&(N.forEach(D=>{const q=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),G=JSON.parse(D.split(";")[1].split("=")[1]);y[`${G}Page`]=q}),y.total=parseInt(E)),{data:Object.assign(Object.assign({},x),y),error:null}}catch(y){if(F(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _getOAuthClient(n){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}async _updateOAuthClient(n,s){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(F(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(n){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(F(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(n){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(F(s))return{data:null,error:s};throw s}}}function zm(l={}){return{getItem:n=>l[n]||null,setItem:(n,s)=>{l[n]=s},removeItem:n=>{delete l[n]}}}const bi={debug:!!(globalThis&&Fm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class t0 extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class kv extends t0{}async function Uv(l,n,s){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),bi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,c.name);try{return await s()}finally{bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,c.name)}}else{if(n===0)throw bi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new kv(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(bi.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Mv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function a0(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Dv(l){return parseInt(l,16)}function zv(l){const n=new TextEncoder().encode(l);return"0x"+Array.from(n,r=>r.toString(16).padStart(2,"0")).join("")}function Lv(l){var n;const{chainId:s,domain:r,expirationTime:c,issuedAt:f=new Date,nonce:h,notBefore:m,requestId:g,resources:y,scheme:_,uri:x,version:E}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((n=l.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const N=a0(l.address),D=_?`${_}://${r}`:r,q=l.statement?`${l.statement}
`:"",G=`${D} wants you to sign in with your Ethereum account:
${N}

${q}`;let V=`URI: ${x}
Version: ${E}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(c&&(V+=`
Expiration Time: ${c.toISOString()}`),m&&(V+=`
Not Before: ${m.toISOString()}`),g&&(V+=`
Request ID: ${g}`),y){let Q=`
Resources:`;for(const H of y){if(!H||typeof H!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${H}`);Q+=`
- ${H}`}V+=Q}return`${G}
${V}`}class Fe extends Error{constructor({message:n,code:s,cause:r,name:c}){var f;super(n,{cause:r}),this.__isWebAuthnError=!0,this.name=(f=c??(r instanceof Error?r.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=s}}class or extends Fe{constructor(n,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:n}),this.name="WebAuthnUnknownError",this.originalError=s}}function $v({error:l,options:n}){var s,r,c;const{publicKey:f}=n;if(!f)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=f.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(n.mediation==="conditional"&&((r=f.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((c=f.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new Fe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return f.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(n0(h)){if(f.rp.id!==h)return new Fe({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Bv({error:l,options:n}){const{publicKey:s}=n;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new Fe({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const r=window.location.hostname;if(n0(r)){if(s.rpId!==r)return new Fe({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class qv{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const Hv=new qv;function Gv(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:n,user:s,excludeCredentials:r}=l,c=fr(l,["challenge","user","excludeCredentials"]),f=Ti(n).buffer,h=Object.assign(Object.assign({},s),{id:Ti(s.id).buffer}),m=Object.assign(Object.assign({},c),{challenge:f,user:h});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let g=0;g<r.length;g++){const y=r[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:Ti(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function Vv(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:n,allowCredentials:s}=l,r=fr(l,["challenge","allowCredentials"]),c=Ti(n).buffer,f=Object.assign(Object.assign({},r),{challenge:c});if(s&&s.length>0){f.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];f.allowCredentials[h]=Object.assign(Object.assign({},m),{id:Ti(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function Yv(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:jn(new Uint8Array(l.response.attestationObject)),clientDataJSON:jn(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Iv(l){var n;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,r=l.getClientExtensionResults(),c=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:jn(new Uint8Array(c.authenticatorData)),clientDataJSON:jn(new Uint8Array(c.clientDataJSON)),signature:jn(new Uint8Array(c.signature)),userHandle:c.userHandle?jn(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(n=s.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function n0(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Lm(){var l,n;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Kv(l){try{const n=await navigator.credentials.create(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new or("Browser returned unexpected credential type",n)}:{data:null,error:new or("Empty credential response",n)}}catch(n){return{data:null,error:$v({error:n,options:l})}}}async function Qv(l){try{const n=await navigator.credentials.get(l);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new or("Browser returned unexpected credential type",n)}:{data:null,error:new or("Empty credential response",n)}}catch(n){return{data:null,error:Bv({error:n,options:l})}}}const Xv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Jv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function cr(...l){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),s=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),r={};for(const c of l)if(c)for(const f in c){const h=c[f];if(h!==void 0)if(Array.isArray(h))r[f]=h;else if(s(h))r[f]=h;else if(n(h)){const m=r[f];n(m)?r[f]=cr(m,h):r[f]=cr(h)}else r[f]=h}return r}function Zv(l,n){return cr(Xv,l,n||{})}function Pv(l,n){return cr(Jv,l,n||{})}class Wv{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:s,friendlyName:r,signal:c},f){var h;try{const{data:m,error:g}=await this.client.mfa.challenge({factorId:n,webauthn:s});if(!m)return{data:null,error:g};const y=c??Hv.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:_}=m.webauthn.credential_options.publicKey;if(!_.name){const x=r;if(x)_.name=`${_.id}:${x}`;else{const N=(await this.client.getUser()).data.user,D=((h=N==null?void 0:N.user_metadata)===null||h===void 0?void 0:h.name)||(N==null?void 0:N.email)||(N==null?void 0:N.id)||"User";_.name=`${_.id}:${D}`}}_.displayName||(_.displayName=_.name)}switch(m.webauthn.type){case"create":{const _=Zv(m.webauthn.credential_options.publicKey,f==null?void 0:f.create),{data:x,error:E}=await Kv({publicKey:_,signal:y});return x?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:E}}case"request":{const _=Pv(m.webauthn.credential_options.publicKey,f==null?void 0:f.request),{data:x,error:E}=await Qv(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:_,signal:y}));return x?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:x}},error:null}:{data:null,error:E}}}}catch(m){return F(m)?{data:null,error:m}:{data:null,error:new Nn("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:n,webauthn:r})}async _authenticate({factorId:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!s)return{data:null,error:new Us("rpId is required for WebAuthn authentication")};try{if(!Lm())return{data:null,error:new Nn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:n,webauthn:{rpId:s,rpOrigins:r},signal:c},{request:f});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:r,credential_response:g.credential_response}})}catch(h){return F(h)?{data:null,error:h}:{data:null,error:new Nn("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},f){if(!s)return{data:null,error:new Us("rpId is required for WebAuthn registration")};try{if(!Lm())return{data:null,error:new Nn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(_=>{var x;return(x=_.data)===null||x===void 0?void 0:x.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===n&&E.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:c},{create:f});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:r,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(h){return F(h)?{data:null,error:h}:{data:null,error:new Nn("Unexpected error in register",h)}}}}Mv();const Fv={url:Jy,storageKey:Zy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function $m(l,n,s){return await s()}const _i={};class Ms{get jwks(){var n,s;return(s=(n=_i[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(n){_i[this.storageKey]=Object.assign(Object.assign({},_i[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,s;return(s=(n=_i[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){_i[this.storageKey]=Object.assign(Object.assign({},_i[this.storageKey]),{cachedAt:n})}constructor(n){var s,r,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},Fv),n);if(this.storageKey=f.storageKey,this.instanceID=(s=Ms.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ms.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&ft()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new Cv({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=e0(f.fetch),this.lock=f.lock||$m,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Uv:this.lock=$m,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:Fm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zm(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=zm(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h);try{await this._notifyAllSubscribers(h.data.event,h.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}this.initialize().catch(h=>{this._debug("#initialize()","error",h)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Zm}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let s={},r="none";if(ft()&&(s=fv(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),ft()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:f}=await this._getSessionFromURL(s,r);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),av(f)){const g=(n=f.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:h,redirectType:m}=c;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return F(s)?this._returnResult({error:s}):this._returnResult({error:new Nn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var s,r,c;try{const f=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=n==null?void 0:n.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=n==null?void 0:n.options)===null||c===void 0?void 0:c.captchaToken}},xform:ta}),{data:h,error:m}=f;if(m||!h)return this._returnResult({data:{user:null,session:null},error:m});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(f){if(F(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(n){var s,r,c;try{let f;if("email"in n){const{email:_,password:x,options:E}=n;let N=null,D=null;this.flowType==="pkce"&&([N,D]=await yi(this.storage,this.storageKey)),f=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E==null?void 0:E.emailRedirectTo,body:{email:_,password:x,data:(s=E==null?void 0:E.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken},code_challenge:N,code_challenge_method:D},xform:ta})}else if("phone"in n){const{phone:_,password:x,options:E}=n;f=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:x,data:(r=E==null?void 0:E.data)!==null&&r!==void 0?r:{},channel:(c=E==null?void 0:E.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:E==null?void 0:E.captchaToken}},xform:ta})}else throw new ir("You must provide either an email or phone number and a password");const{data:h,error:m}=f;if(m||!h)return await ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(f){if(await ct(this.storage,`${this.storageKey}-code-verifier`),F(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(n){try{let s;if("email"in n){const{email:f,password:h,options:m}=n;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Mm})}else if("phone"in n){const{phone:f,password:h,options:m}=n;s=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Mm})}else throw new ir("You must provide either an email or phone number and a password");const{data:r,error:c}=s;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!r||!r.session||!r.user){const f=new gi;return this._returnResult({data:{user:null,session:null},error:f})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(n){var s,r,c,f;return await this._handleProviderSignIn(n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=n.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(f=n.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:s}=n;switch(s){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(n){var s,r,c,f,h,m,g,y,_,x,E;let N,D;if("message"in n)N=n.message,D=n.signature;else{const{chain:q,wallet:G,statement:V,options:Q}=n;let H;if(ft())if(typeof G=="object")H=G;else{const Ae=window;if("ethereum"in Ae&&typeof Ae.ethereum=="object"&&"request"in Ae.ethereum&&typeof Ae.ethereum.request=="function")H=Ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof G!="object"||!(Q!=null&&Q.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=G}const I=new URL((s=Q==null?void 0:Q.url)!==null&&s!==void 0?s:window.location.href),me=await H.request({method:"eth_requestAccounts"}).then(Ae=>Ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!me||me.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=a0(me[0]);let Z=(r=Q==null?void 0:Q.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!Z){const Ae=await H.request({method:"eth_chainId"});Z=Dv(Ae)}const _e={domain:I.host,address:re,statement:V,uri:I.href,version:"1",chainId:Z,nonce:(c=Q==null?void 0:Q.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(h=(f=Q==null?void 0:Q.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=Q==null?void 0:Q.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=Q==null?void 0:Q.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=Q==null?void 0:Q.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(_=Q==null?void 0:Q.signInWithEthereum)===null||_===void 0?void 0:_.resources};N=Lv(_e),D=await H.request({method:"personal_sign",params:[zv(N),re]})}try{const{data:q,error:G}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:D},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:ta});if(G)throw G;if(!q||!q.session||!q.user){const V=new gi;return this._returnResult({data:{user:null,session:null},error:V})}return q.session&&(await this._saveSession(q.session),await this._notifyAllSubscribers("SIGNED_IN",q.session)),this._returnResult({data:Object.assign({},q),error:G})}catch(q){if(F(q))return this._returnResult({data:{user:null,session:null},error:q});throw q}}async signInWithSolana(n){var s,r,c,f,h,m,g,y,_,x,E,N;let D,q;if("message"in n)D=n.message,q=n.signature;else{const{chain:G,wallet:V,statement:Q,options:H}=n;let I;if(ft())if(typeof V=="object")I=V;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))I=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=V}const me=new URL((s=H==null?void 0:H.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in I&&I.signIn){const re=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H==null?void 0:H.signInWithSolana),{version:"1",domain:me.host,uri:me.href}),Q?{statement:Q}:null));let Z;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")Z=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)Z=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Z&&"signature"in Z&&(typeof Z.signedMessage=="string"||Z.signedMessage instanceof Uint8Array)&&Z.signature instanceof Uint8Array)D=typeof Z.signedMessage=="string"?Z.signedMessage:new TextDecoder().decode(Z.signedMessage),q=Z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");D=[`${me.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...Q?["",Q,""]:[""],"Version: 1",`URI: ${me.href}`,`Issued At: ${(c=(r=H==null?void 0:H.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((f=H==null?void 0:H.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((h=H==null?void 0:H.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((m=H==null?void 0:H.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((g=H==null?void 0:H.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((y=H==null?void 0:H.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((x=(_=H==null?void 0:H.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||x===void 0)&&x.length?["Resources",...H.signInWithSolana.resources.map(Z=>`- ${Z}`)]:[]].join(`
`);const re=await I.signMessage(new TextEncoder().encode(D),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");q=re}}try{const{data:G,error:V}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:D,signature:jn(q)},!((E=n.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:ta});if(V)throw V;if(!G||!G.session||!G.user){const Q=new gi;return this._returnResult({data:{user:null,session:null},error:Q})}return G.session&&(await this._saveSession(G.session),await this._notifyAllSubscribers("SIGNED_IN",G.session)),this._returnResult({data:Object.assign({},G),error:V})}catch(G){if(F(G))return this._returnResult({data:{user:null,session:null},error:G});throw G}}async _exchangeCodeForSession(n){const s=await xn(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new nv;const{data:f,error:h}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:r},xform:ta});if(await ct(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const m=new gi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:c??null}),error:h})}catch(f){if(await ct(this.storage,`${this.storageKey}-code-verifier`),F(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(n){try{const{options:s,provider:r,token:c,access_token:f,nonce:h}=n,m=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ta}),{data:g,error:y}=m;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!g||!g.session||!g.user){const _=new gi;return this._returnResult({data:{user:null,session:null},error:_})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:y})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(n){var s,r,c,f,h;try{if("email"in n){const{email:m,options:g}=n;let y=null,_=null;this.flowType==="pkce"&&([y,_]=await yi(this.storage,this.storageKey));const{error:x}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:y,code_challenge_method:_},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:m,options:g}=n,{data:y,error:_}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(c=g==null?void 0:g.data)!==null&&c!==void 0?c:{},create_user:(f=g==null?void 0:g.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:_})}throw new ir("You must provide either an email or phone number.")}catch(m){if(await ct(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var s,r;try{let c,f;"options"in n&&(c=(s=n.options)===null||s===void 0?void 0:s.redirectTo,f=(r=n.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:m}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:f}}),redirectTo:c,xform:ta});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:y,session:g},error:null})}catch(c){if(F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var s,r,c,f,h;try{let m=null,g=null;this.flowType==="pkce"&&([m,g]=await yi(this.storage,this.storageKey));const y=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(r=(s=n.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=n==null?void 0:n.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:g}),headers:this.headers,xform:Nv});return!((f=y.data)===null||f===void 0)&&f.url&&ft()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(m){if(await ct(this.storage,`${this.storageKey}-code-verifier`),F(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;if(r)throw r;if(!s)throw new zt;const{error:c}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(F(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const s=`${this.url}/resend`;if("email"in n){const{email:r,type:c,options:f}=n,{error:h}=await se(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:r,type:c,options:f}=n,{data:h,error:m}=await se(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m})}throw new ir("You must provide either an email or phone number and a type")}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(n,s){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await n(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const s=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?n=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const r=n.expires_at?n.expires_at*1e3-Date.now()<qo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",n.expires_at),!r){if(this.userStorage){const h=await xn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Vo()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=Ev(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(n){try{return n?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:en}):await this._useSession(async s=>{var r,c,f;const{data:h,error:m}=s;if(m)throw m;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0,xform:en})})}catch(s){if(F(s))return Ho(s)&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(n,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,s))}async _updateUser(n,s={}){try{return await this._useSession(async r=>{const{data:c,error:f}=r;if(f)throw f;if(!c.session)throw new zt;const h=c.session;let m=null,g=null;this.flowType==="pkce"&&n.email!=null&&([m,g]=await yi(this.storage,this.storageKey));const{data:y,error:_}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:en});if(_)throw _;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(r){if(await ct(this.storage,`${this.storageKey}-code-verifier`),F(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new zt;const s=Date.now()/1e3;let r=s,c=!0,f=null;const{payload:h}=lr(n.access_token);if(h.exp&&(r=h.exp,c=r<=s),c){const{data:m,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m)return{data:{user:null,session:null},error:null};f=m}else{const{data:m,error:g}=await this._getUser(n.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});f={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(s){if(F(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async s=>{var r;if(!n){const{data:h,error:m}=s;if(m)throw m;n=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(n!=null&&n.refresh_token))throw new zt;const{data:c,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(F(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(n,s){try{if(!ft())throw new sr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new sr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Om("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Om("No code detected.");const{data:Q,error:H}=await this._exchangeCodeForSession(n.code);if(H)throw H;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:Q.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:f,refresh_token:h,expires_in:m,expires_at:g,token_type:y}=n;if(!f||!m||!h||!y)throw new sr("No session defined in URL");const _=Math.round(Date.now()/1e3),x=parseInt(m);let E=_+x;g&&(E=parseInt(g));const N=E-_;N*1e3<=Si&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const D=E-x;_-D>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",D,E,_):_-D<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",D,E,_);const{data:q,error:G}=await this._getUser(f);if(G)throw G;const V={provider_token:r,provider_refresh_token:c,access_token:f,expires_in:x,expires_at:E,refresh_token:h,token_type:y,user:q.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:V,redirectType:n.type},error:null})}catch(r){if(F(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const s=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&s)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:c,error:f}=s;if(f&&!Ho(f))return this._returnResult({error:f});const h=(r=c.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:m}=await this.admin.signOut(h,n);if(m&&!(tv(m)&&(m.status===404||m.status===401||m.status===403)||Ho(m)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const s=cv(),r={id:s,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(n){return await this._useSession(async s=>{var r,c;try{const{data:{session:f},error:h}=s;if(h)throw h;await((r=this.stateChangeEmitters.get(n))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",n,"session",f)}catch(f){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",f),console.error(f)}})}async resetPasswordForEmail(n,s={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await yi(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(f){if(await ct(this.storage,`${this.storageKey}-code-verifier`),F(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var n;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(n=s.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var s;try{const{data:r,error:c}=await this._useSession(async f=>{var h,m,g,y,_;const{data:x,error:E}=f;if(E)throw E;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",N,{headers:this.headers,jwt:(_=(y=x.session)===null||y===void 0?void 0:y.access_token)!==null&&_!==void 0?_:void 0})});if(c)throw c;return ft()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:n.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(F(r))return this._returnResult({data:{provider:n.provider,url:null},error:r});throw r}}async linkIdentityIdToken(n){return await this._useSession(async s=>{var r;try{const{error:c,data:{session:f}}=s;if(c)throw c;const{options:h,provider:m,token:g,access_token:y,nonce:_}=n,x=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=f==null?void 0:f.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:g,access_token:y,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ta}),{data:E,error:N}=x;return N?this._returnResult({data:{user:null,session:null},error:N}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new gi}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:N}))}catch(c){if(await ct(this.storage,`${this.storageKey}-code-verifier`),F(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async s=>{var r,c;const{data:f,error:h}=s;if(h)throw h;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(r=f.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(n){const s=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await mv(async c=>(c>0&&await dv(200*Math.pow(2,c-1)),this._debug(s,"refreshing attempt",c),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:ta})),(c,f)=>{const h=200*Math.pow(2,c);return f&&Go(f)&&Date.now()+h-r<Si})}catch(r){if(this._debug(s,"error",r),F(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",s,"url",r),ft()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:n,url:r},error:null}}async _recoverAndRefresh(){var n,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await xn(this.storage,this.storageKey);if(c&&this.userStorage){let h=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:c.user},await xi(this.userStorage,this.storageKey+"-user",h)),c.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Vo()}else if(c&&!c.user&&!c.user){const h=await xn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(c.user=h.user,await ct(this.storage,this.storageKey+"-user"),await xi(this.storage,this.storageKey,c)):c.user=Vo()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const f=((s=c.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<qo;if(this._debug(r,`session has${f?"":" not"} expired with margin of ${qo}s`),f){if(this.autoRefreshToken&&c.refresh_token){const{error:h}=await this._callRefreshToken(c.refresh_token);h&&(console.error(h),Go(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(c.access_token);!m&&(h!=null&&h.user)?(c.user=h.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(n){var s,r;if(!n)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new mr;const{data:f,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!f.session)throw new zt;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const m={data:f.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(f){if(this._debug(c,"error",f),F(f)){const h={data:null,error:f};return Go(f)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(f),f}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,s,r=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:n,session:s});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,s)}catch(g){f.push(g)}});if(await Promise.all(h),f.length>0){for(let m=0;m<f.length;m+=1)console.error(f[m]);throw f[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await ct(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},n),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await xi(this.userStorage,this.storageKey+"-user",{user:s.user});const c=Object.assign({},s);delete c.user;const f=km(c);await xi(this.storage,this.storageKey,f)}else{const c=km(s);await xi(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ct(this.storage,this.storageKey),await ct(this.storage,this.storageKey+"-code-verifier"),await ct(this.storage,this.storageKey+"-user"),this.userStorage&&await ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Si);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-n)/Si);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Si}ms, refresh threshold is ${Wo} ticks`),c<=Wo&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof t0)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(n){this._debug("#visibilityChangedCallback","error",n)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const s=`#_onVisibilityChanged(${n})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,s,r){const c=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[f,h]=await yi(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});c.push(m.toString())}if(r!=null&&r.queryParams){const f=new URLSearchParams(r.queryParams);c.push(f.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async s=>{var r;const{data:c,error:f}=s;return f?this._returnResult({data:null,error:f}):await se(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(n){try{return await this._useSession(async s=>{var r,c;const{data:f,error:h}=s;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:y}=await se(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=f==null?void 0:f.session)===null||r===void 0?void 0:r.access_token});return y?this._returnResult({data:null,error:y}):(n.factorType==="totp"&&g.type==="totp"&&(!((c=g==null?void 0:g.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Yv(n.webauthn.credential_response):Iv(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:g}=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:g}))})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:c,error:f}=s;if(f)return this._returnResult({data:null,error:f});const h=await se(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Gv(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Vv(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(n){const{data:s,error:r}=await this._challenge({factorId:n.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:n.factorId,challengeId:s.id,code:n.code})}async _listFactors(){var n;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const c={all:[],phone:[],totp:[],webauthn:[]};for(const f of(n=s==null?void 0:s.factors)!==null&&n!==void 0?n:[])c.all.push(f),f.status==="verified"&&c[f.factor_type].push(f);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(n){var s,r,c,f;if(n)try{const{payload:N}=lr(n);let D=null;N.aal&&(D=N.aal);let q=D;const{data:{user:G},error:V}=await this.getUser(n);if(V)return this._returnResult({data:null,error:V});((r=(s=G==null?void 0:G.factors)===null||s===void 0?void 0:s.filter(I=>I.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(q="aal2");const H=N.amr||[];return{data:{currentLevel:D,nextLevel:q,currentAuthenticationMethods:H},error:null}}catch(N){if(F(N))return this._returnResult({data:null,error:N});throw N}const{data:{session:h},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!h)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=lr(h.access_token);let y=null;g.aal&&(y=g.aal);let _=y;((f=(c=h.user.factors)===null||c===void 0?void 0:c.filter(N=>N.status==="verified"))!==null&&f!==void 0?f:[]).length>0&&(_="aal2");const E=g.amr||[];return{data:{currentLevel:y,nextLevel:_,currentAuthenticationMethods:E},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:r.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new zt})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new zt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ft()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(n,s){try{return await this._useSession(async r=>{const{data:{session:c},error:f}=r;if(f)return this._returnResult({data:null,error:f});if(!c)return this._returnResult({data:null,error:new zt});const h=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return h.data&&h.data.redirect_url&&ft()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new zt})})}catch(n){if(F(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async s=>{const{data:{session:r},error:c}=s;return c?this._returnResult({data:null,error:c}):r?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zt})})}catch(s){if(F(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(n,s={keys:[]}){let r=s.keys.find(m=>m.kid===n);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(m=>m.kid===n),r&&this.jwks_cached_at+Fy>c)return r;const{data:f,error:h}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=c,r=f.keys.find(m=>m.kid===n),!r)?null:r}async getClaims(n,s={}){try{let r=n;if(!r){const{data:N,error:D}=await this.getSession();if(D||!N.session)return this._returnResult({data:null,error:D});r=N.session.access_token}const{header:c,payload:f,signature:h,raw:{header:m,payload:g}}=lr(r);s!=null&&s.allowExpired||wv(f.exp);const y=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!y){const{error:N}=await this.getUser(r);if(N)throw N;return{data:{claims:f,header:c,signature:h},error:null}}const _=Sv(c.alg),x=await crypto.subtle.importKey("jwk",y,_,!0,["verify"]);if(!await crypto.subtle.verify(_,x,h,uv(`${m}.${g}`)))throw new tc("Invalid JWT signature");return{data:{claims:f,header:c,signature:h},error:null}}catch(r){if(F(r))return this._returnResult({data:null,error:r});throw r}}}Ms.nextInstanceID={};const eb=Ms,tb="2.93.3";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const ab={"X-Client-Info":`supabase-js-${Ts}/${tb}`},nb={headers:ab},ib={schema:"public"},sb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lb={};function Ds(l){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ds(l)}function rb(l,n){if(Ds(l)!="object"||!l)return l;var s=l[Symbol.toPrimitive];if(s!==void 0){var r=s.call(l,n);if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function ub(l){var n=rb(l,"string");return Ds(n)=="symbol"?n:n+""}function ob(l,n,s){return(n=ub(n))in l?Object.defineProperty(l,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[n]=s,l}function Bm(l,n){var s=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);n&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),s.push.apply(s,r)}return s}function Ie(l){for(var n=1;n<arguments.length;n++){var s=arguments[n]!=null?arguments[n]:{};n%2?Bm(Object(s),!0).forEach(function(r){ob(l,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(s)):Bm(Object(s)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(s,r))})}return l}const cb=l=>l?(...n)=>l(...n):(...n)=>fetch(...n),fb=()=>Headers,hb=(l,n,s)=>{const r=cb(s),c=fb();return async(f,h)=>{var m;const g=(m=await n())!==null&&m!==void 0?m:l;let y=new c(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),r(f,Ie(Ie({},h),{},{headers:y}))}};function db(l){return l.endsWith("/")?l:l+"/"}function mb(l,n){var s,r;const{db:c,auth:f,realtime:h,global:m}=l,{db:g,auth:y,realtime:_,global:x}=n,E={db:Ie(Ie({},g),c),auth:Ie(Ie({},y),f),realtime:Ie(Ie({},_),h),storage:{},global:Ie(Ie(Ie({},x),m),{},{headers:Ie(Ie({},(s=x==null?void 0:x.headers)!==null&&s!==void 0?s:{}),(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return l.accessToken?E.accessToken=l.accessToken:delete E.accessToken,E}function pb(l){const n=l==null?void 0:l.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(db(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var gb=class extends eb{constructor(l){super(l)}},yb=class{constructor(l,n,s){var r,c;this.supabaseUrl=l,this.supabaseKey=n;const f=pb(l);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,m={db:ib,realtime:lb,auth:Ie(Ie({},sb),{},{storageKey:h}),global:nb},g=mb(s??{},m);if(this.storageKey=(r=g.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(c=g.global.headers)!==null&&c!==void 0?c:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(_,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=g.auth)!==null&&y!==void 0?y:{},this.headers,g.global.fetch)}this.fetch=hb(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new ty(new URL("rest/v1",f).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Xy(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new Zg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(l){return this.rest.from(l)}schema(l){return this.rest.schema(l)}rpc(l,n={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(l,n,s)}channel(l,n={config:{}}){return this.realtime.channel(l,n)}getChannels(){return this.realtime.getChannels()}removeChannel(l){return this.realtime.removeChannel(l)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var l=this,n,s;if(l.accessToken)return await l.accessToken();const{data:r}=await l.auth.getSession();return(n=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:l.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:l,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,storageKey:f,flowType:h,lock:m,debug:g,throwOnError:y},_,x){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gb({url:this.authUrl.href,headers:Ie(Ie({},E),_),storageKey:f,autoRefreshToken:l,persistSession:n,detectSessionInUrl:s,storage:r,userStorage:c,flowType:h,lock:m,debug:g,throwOnError:y,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(l){return new vy(this.realtimeUrl.href,Ie(Ie({},l),{},{params:Ie(Ie({},{apikey:this.supabaseKey}),l==null?void 0:l.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((l,n)=>{this._handleTokenChanged(l,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(l,n,s){(l==="TOKEN_REFRESHED"||l==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):l==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const vb=(l,n,s)=>new yb(l,n,s);function bb(){if(typeof window<"u")return!1;const l=globalThis.process;if(!l)return!1;const n=l.version;if(n==null)return!1;const s=n.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}bb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _b="https://mbykgymxeovxksrziczb.supabase.co",wb="sb_publishable_llz6Z9wjY9UXiPUZwm75Yw_lkglmvjF";let i0;console.log("[Supabase] Credenciais detectadas. Inicializando cliente..."),i0=vb(_b,wb);const $t=i0,Io="vektramind_save_data",Sb="mathmaster_save_data",rr={version:1,unlockedLevel:1,highScores:{},totalTimePlayed:0,settings:{soundEnabled:!0,musicEnabled:!0},lastPlayed:new Date().toISOString()},As={saveLocal(l){try{const n=JSON.stringify(l);localStorage.setItem(Io,n)}catch(n){console.error("VektraMind: Failed to save game data locally:",n)}},loadLocal(){try{let l=localStorage.getItem(Io);if(!l){const s=localStorage.getItem(Sb);s&&(console.log("VektraMind: Migrando dados do MathMaster..."),l=s,localStorage.setItem(Io,s))}if(!l)return rr;const n=JSON.parse(l);return{...rr,...n}}catch(l){return console.error("VektraMind: Failed to load local game data:",l),rr}},async init(){try{const{data:{session:l}}=await $t.auth.getSession();l?(console.log("Persistence: Sesso detectada, sincronizando..."),await this.sync()):console.log("Persistence: Modo local (sem usurio autenticado).")}catch{console.warn("Persistence initialization skipped (local mode only).")}},async sync(){try{console.log("Sync: Iniciando sincronizao...");const{data:{user:l}}=await $t.auth.getUser();if(!l){console.log("Sync: Nenhum usurio autenticado para sincronizar.");return}const n=(async()=>{const{data:s,error:r}=await $t.from("game_progress").select("data, updated_at").eq("user_id",l.id).maybeSingle(),c=this.loadLocal();if(s&&s.data){console.log("Sync: Dados encontrados na nuvem.");const f=s.data;f.version>c.version||f.version===c.version&&f.unlockedLevel>c.unlockedLevel?(console.log("Sync: Dados da nuvem so mais recentes, atualizando local."),this.saveLocal(f)):JSON.stringify(f)!==JSON.stringify(c)&&(console.log("Sync: Dados locais so mais recentes ou diferentes, atualizando nuvem."),await this.saveCloud(c))}else console.log("Sync: Primeira sincronizao, enviando dados locais para nuvem."),await this.saveCloud(c)})();await Promise.race([n,new Promise((s,r)=>setTimeout(()=>r(new Error("Timeout na sincronizao")),5e3))])}catch(l){console.error("Sync failed or timed out:",l)}},async saveCloud(l){try{const{data:{user:n}}=await $t.auth.getUser();if(!n)return;await $t.from("game_progress").upsert({user_id:n.id,data:l,updated_at:new Date().toISOString()},{onConflict:"user_id"})}catch(n){console.error("Failed to save to cloud:",n)}},save(l){this.saveLocal(l),this.saveCloud(l)},load(){return this.loadLocal()},updateLevel(l){const n=this.load();l>n.unlockedLevel&&(n.unlockedLevel=l,this.save(n))},updateScore(l,n){const s=this.load(),r=s.highScores[l]||0;n>r&&(s.highScores[l]=n,this.save(s))},exportData(){const l=this.load();return JSON.stringify(l,null,2)},importData(l){try{const n=JSON.parse(l);if(typeof n!="object"||!n.version)return!1;const s={...rr,...n};return this.save(s),!0}catch(n){return console.error("Invalid import data",n),!1}}},xb=({onClose:l})=>{var G;const[n,s]=oe.useState("create"),[r,c]=oe.useState(null),[f,h]=oe.useState(""),[m,g]=oe.useState(""),[y,_]=oe.useState(!1),[x,E]=oe.useState(null);oe.useEffect(()=>{N()},[]);const N=async()=>{var H;const V=localStorage.getItem("vektramind_offline_user");if(V){c({user_metadata:{username:V}}),s("profile");return}const{data:{user:Q}}=await $t.auth.getUser();if(Q&&((H=Q.user_metadata)!=null&&H.username))c(Q),s("profile");else if(n==="create"){const I=Math.floor(Math.random()*9e3)+1e3;h(`Player${I}`)}},D=async()=>{_(!0),localStorage.removeItem("vektramind_offline_user"),await $t.auth.signOut(),window.location.reload()},q=async V=>{if(V&&(V.preventDefault(),V.stopPropagation()),!y){_(!0),E(null);try{console.log(`[VektraAuth] >>> INCIO | Modo: ${n} | User: ${f}`);const Q=`${f.toLowerCase().replace(/[^a-z0-9]/g,"")}@vektramind.game`,H=(async()=>{if(n==="create"){console.log("[VektraAuth] 1. Tentando registro direto...");const{error:I}=await $t.auth.signUp({email:Q,password:m,options:{data:{username:f}}});if(I)throw I.message.includes("already registered")?new Error("USURIO J EXISTE. TENTE FAZER LOGIN."):I}else if(n==="login"){console.log("[VektraAuth] 1. Validando login direto...");const{error:I}=await $t.auth.signInWithPassword({email:Q,password:m});if(I)throw I}console.log("[VektraAuth] 2. Sincronizando dados..."),await As.sync(),window.location.reload()})();await Promise.race([H,new Promise((I,me)=>setTimeout(()=>me(new Error("TIMEOUT NA AUTENTICAO")),1e4))]),l()}catch(Q){console.error("[VektraAuth] ERRO:",Q);const H=Q.message||"";if(H.includes("TIMEOUT")){console.warn("[VektraAuth] Entrando em MODO OFFLINE DE EMERGNCIA."),alert("CONEXO LENTA: O sistema entrar em modo local para voc no perder o progresso."),localStorage.setItem("vektramind_offline_user",f),window.location.reload();return}H.includes("already registered")?E("ESSE USURIO J EXISTE NO SISTEMA."):H.includes("Invalid login")?E("DADOS INCORRETOS. VERIFIQUE SUA CHAVE."):E(H.toUpperCase()||"FALHA NA CONEXO NEURAL.")}finally{_(!1),console.log("[AuthMaster] <<< FIM DO PROCESSO")}}};return b.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-950/80 backdrop-blur-2xl animate-pop-in",children:b.jsxs("div",{className:"w-full max-w-md bg-slate-900/60 border border-white/10 rounded-[2.5rem] p-10 shadow-[0_0_50px_rgba(0,0,0,0.5)] relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:b.jsx("span",{className:"material-symbols-outlined text-8xl",children:"fingerprint"})}),b.jsx("button",{onClick:l,className:"absolute top-6 right-6 w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center text-slate-400 hover:text-white transition-colors",children:b.jsx("span",{className:"material-symbols-outlined",children:"close"})}),n==="profile"?b.jsxs("div",{className:"flex flex-col items-center py-4 relative z-10",children:[b.jsx("div",{className:"w-24 h-24 rounded-[2rem] bg-primary/10 border-2 border-primary/30 flex items-center justify-center mb-6 shadow-neon",children:b.jsx("span",{className:"material-symbols-outlined text-5xl text-primary",children:"person"})}),b.jsx("h2",{className:"text-3xl font-display font-black text-white mb-1 uppercase tracking-tighter",children:((G=r==null?void 0:r.user_metadata)==null?void 0:G.username)||"USURIO"}),b.jsx("p",{className:"text-[10px] font-display font-bold text-primary uppercase tracking-[0.3em] mb-10",children:"Protocolo Ativo"}),b.jsxs("div",{className:"w-full space-y-4",children:[b.jsxs("div",{className:"p-5 bg-slate-900/50 rounded-2xl border border-white/5 flex justify-between items-center",children:[b.jsx("span",{className:"text-[10px] font-display font-bold text-slate-500 uppercase tracking-widest",children:"Sincronizao"}),b.jsxs("span",{className:"text-[10px] font-display font-black text-primary uppercase flex items-center gap-2",children:[b.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-pulse shadow-[0_0_8px_#22d3ee]"}),"Nuvem Estvel"]})]}),b.jsx("button",{onClick:D,disabled:y,className:"w-full h-14 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white font-display font-bold rounded-2xl uppercase tracking-widest text-[10px] border border-red-500/20 transition-all mt-6",children:y?b.jsx("span",{className:"material-symbols-outlined animate-spin",children:"sync"}):"Desconectar Protocolo"})]})]}):b.jsxs("div",{className:"relative z-10",children:[b.jsxs("header",{className:"text-center mb-10",children:[b.jsx("h2",{className:"text-3xl font-display font-black text-white uppercase tracking-tighter",children:n==="create"?"NOVO REGISTRO":"IDENTIFICAO"}),b.jsx("p",{className:"text-[10px] font-display font-bold text-slate-500 uppercase tracking-widest mt-1",children:"Garanta a integridade dos seus dados"})]}),b.jsxs("div",{className:"flex gap-2 mb-8 bg-black/20 p-1.5 rounded-2xl border border-white/5",children:[b.jsx("button",{onClick:()=>s("create"),className:`flex-1 py-3 text-[10px] font-display font-bold uppercase tracking-widest rounded-xl transition-all ${n==="create"?"bg-primary text-slate-950 shadow-neon":"text-slate-500 hover:text-white"}`,children:"Criar"}),b.jsx("button",{onClick:()=>s("login"),className:`flex-1 py-3 text-[10px] font-display font-bold uppercase tracking-widest rounded-xl transition-all ${n==="login"?"bg-primary text-slate-950 shadow-neon":"text-slate-500 hover:text-white"}`,children:"Entrar"})]}),b.jsxs("form",{onSubmit:q,className:"space-y-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-[10px] font-display font-black text-slate-500 uppercase tracking-widest ml-1",children:"ID de Usurio"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 text-xl",children:"person"}),b.jsx("input",{type:"text",value:f,onChange:V=>h(V.target.value),className:"w-full bg-slate-950/40 border border-white/5 rounded-2xl px-4 pl-12 py-4 text-sm text-white focus:border-primary/50 focus:outline-none transition-all font-display font-medium placeholder:text-slate-700",placeholder:n==="create"?"Ex: ACE_PLAYER":"Digite seu ID",required:!0,minLength:3})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"block text-[10px] font-display font-black text-slate-500 uppercase tracking-widest ml-1",children:"Chave de Acesso"}),b.jsxs("div",{className:"relative",children:[b.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-500 text-xl",children:"lock"}),b.jsx("input",{type:"password",value:m,onChange:V=>g(V.target.value),className:"w-full bg-slate-950/40 border border-white/5 rounded-2xl px-4 pl-12 py-4 text-sm text-white focus:border-primary/50 focus:outline-none transition-all font-display font-medium placeholder:text-slate-700",placeholder:"",required:!0,minLength:6})]})]}),x&&b.jsxs("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-2xl text-red-500 text-[10px] font-display font-bold uppercase tracking-widest text-center animate-pulse",children:[b.jsx("span",{className:"material-symbols-outlined text-sm mr-2 align-middle",children:"warning"}),x]}),b.jsx("button",{type:"submit",disabled:y,className:"w-full h-16 stitch-btn stitch-btn-primary mt-4",children:y?b.jsx("span",{className:"material-symbols-outlined animate-spin",children:"sync"}):n==="create"?"INICIAR REGISTRO":"VALIDAR ACESSO"}),n==="create"&&b.jsxs("p",{className:"text-[9px] text-slate-600 text-center font-display uppercase tracking-wider leading-relaxed",children:["Ao registrar, seus dados locais sero",b.jsx("br",{}),"sincronizados com o banco de dados neural."]})]})]})]})})},Eb=({setGameState:l,startLevel:n,selectedOps:s,setSelectedOps:r})=>{const[c,f]=oe.useState(!1),[h,m]=oe.useState(""),[g,y]=oe.useState(!1);oe.useEffect(()=>{(async()=>{var q;const N=localStorage.getItem("vektramind_offline_user");if(N){m(N.toUpperCase());return}const{data:{user:D}}=await $t.auth.getUser();(q=D==null?void 0:D.user_metadata)!=null&&q.username&&m(D.user_metadata.username.toUpperCase())})()},[]);const _=[{id:"+",icon:"add",label:"SOMA"},{id:"-",icon:"remove",label:"SUB"},{id:"*",icon:"close",label:"MULT"},{id:"/",icon:"percent",label:"DIV"},{id:"power",icon:"X",label:"POT",isText:!0},{id:"sqrt",icon:"",label:"RAIZ",isText:!0},{id:"percentage",icon:"auto_graph",label:"LOG"}],x=E=>{r(N=>N.includes(E)?N.filter(D=>D!==E):[...N,E])};return b.jsxs("div",{className:"relative z-10 flex flex-col lg:flex-row w-full max-w-7xl mx-auto h-full px-4 py-4 lg:px-8 lg:py-8 justify-between gap-6 lg:gap-12 animate-pop-in overflow-hidden overflow-y-auto lg:overflow-hidden custom-scrollbar",children:[c&&b.jsx(xb,{onClose:()=>f(!1)}),b.jsxs("div",{className:"flex flex-col items-center lg:items-start text-center lg:text-left lg:w-1/2 flex-1 relative lg:pt-0",children:[b.jsx("header",{className:"w-full flex flex-col items-center lg:items-start mb-1 lg:mb-2 lg:-mt-10",children:b.jsxs("div",{className:"flex flex-col items-center lg:items-start space-y-2",children:[b.jsxs("div",{className:"relative inline-block w-full max-w-[200px] md:max-w-[300px] lg:max-w-[400px] transition-all duration-700 hover:scale-[1.02]",children:[b.jsx("img",{src:"./logo.png",alt:"Vektra Mind",className:"w-full h-auto object-contain drop-shadow-[0_0_60px_rgba(34,211,238,0.2)] animate-pulse-slow",onError:E=>{var D;E.currentTarget.style.display="none";const N=(D=E.currentTarget.parentElement)==null?void 0:D.querySelector(".fallback-title");N&&N.classList.remove("hidden")}}),b.jsxs("h1",{className:"fallback-title hidden font-display font-black text-5xl md:text-7xl lg:text-8xl tracking-tighter items-center justify-center lg:justify-start",children:[b.jsx("span",{className:"text-white",children:"VEKTRA"}),b.jsx("span",{className:"text-primary glow-text ml-2",children:"MIND"})]})]}),b.jsx("p",{className:"text-[9px] md:text-[11px] tracking-[0.6em] font-display font-black text-primary/50 uppercase",children:"Alta Eficincia em Matemtica Neural"})]})}),b.jsx("div",{className:"flex flex-col items-center lg:items-start space-y-2",children:b.jsxs("div",{className:"hidden lg:flex flex-col space-y-6",children:[b.jsxs("div",{className:"flex items-center gap-6 group",children:[b.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 border border-primary/20 flex items-center justify-center group-hover:bg-primary/20 transition-all",children:b.jsx("span",{className:"material-symbols-outlined text-primary text-3xl",children:"terminal"})}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-display font-black text-white text-base tracking-tight",children:"CREBRO ATIVO"}),b.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:"Protocolo Vektra Mind v3.0"})]})]}),b.jsxs("div",{className:"flex items-center gap-6 group",children:[b.jsx("div",{className:"w-14 h-14 rounded-2xl bg-accent/10 border border-accent/20 flex items-center justify-center group-hover:bg-accent/20 transition-all",children:b.jsx("span",{className:"material-symbols-outlined text-accent text-3xl",children:"monitoring"})}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-display font-black text-white text-base tracking-tight",children:"ALTA PERFORMANCE"}),b.jsx("p",{className:"text-[10px] text-slate-500 uppercase tracking-widest",children:"Sincronizao Neural em tempo real"})]})]})]})}),b.jsx("div",{className:"block lg:hidden w-full h-px bg-white/5 my-4"})]}),b.jsxs("div",{className:"flex flex-col items-center lg:w-[480px] space-y-6 lg:space-y-8 pb-10 lg:pb-0",children:[b.jsxs("div",{className:"w-full bg-slate-900/40 backdrop-blur-3xl border border-white/10 p-6 sm:p-10 rounded-[2.5rem] sm:rounded-[3rem] shadow-2xl relative overflow-hidden group",children:[b.jsxs("button",{onClick:()=>f(!0),className:"absolute top-4 right-4 sm:top-6 sm:right-6 z-20 transition-all duration-300 group/avatar cursor-pointer hover:scale-110 active:scale-95 flex flex-col items-center",title:h,children:[b.jsx("span",{className:"material-symbols-outlined text-2xl sm:text-3xl text-slate-500 group-hover/avatar:text-primary transition-colors animate-pulse-slow",children:"settings_account_box"}),b.jsx("span",{className:"mt-1 text-[7px] sm:text-[8px] font-display font-bold text-primary/70 uppercase tracking-widest whitespace-nowrap opacity-40 group-hover/avatar:opacity-100 transition-opacity pointer-events-none",children:h})]}),b.jsxs("div",{className:"relative z-10 space-y-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-center font-display font-black text-white text-xs tracking-[0.3em] uppercase mb-6 opacity-60",children:"Configurao de Misso"}),b.jsxs("div",{className:"grid grid-cols-4 gap-4 max-w-[320px] mx-auto",children:[_.map(E=>b.jsxs("button",{onClick:()=>x(E.id),className:`aspect-square flex flex-col items-center justify-center border-2 rounded-2xl transition-all active:scale-90 group relative
                                            ${s.includes(E.id)?"border-primary/40 bg-primary/10 text-primary shadow-neon scale-105":"border-slate-700/30 bg-slate-800/40 text-slate-500 hover:border-slate-500 hover:text-white"}`,children:[E.isText?b.jsx("span",{className:`font-display font-black text-sm mb-1 ${s.includes(E.id)?"text-primary":"text-slate-400"}`,children:E.icon}):b.jsx("span",{className:`material-symbols-outlined mb-1 group-hover:scale-110 transition-transform ${s.includes(E.id)?"text-primary":"text-slate-400"}`,children:E.icon}),b.jsx("span",{className:`text-[8px] font-display font-bold tracking-widest ${s.includes(E.id)?"text-primary":"text-slate-500"}`,children:E.label})]},E.id)),b.jsx("button",{className:"aspect-square flex items-center justify-center border-2 border-slate-800/10 bg-slate-900/10 rounded-2xl opacity-20 cursor-not-allowed",children:b.jsx("span",{className:"material-symbols-outlined text-slate-700 text-sm",children:"lock"})})]})]}),b.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[b.jsxs("button",{onClick:()=>l(Re.LEVEL_SELECT),className:"w-full h-14 sm:h-18 stitch-btn stitch-btn-primary",children:[b.jsx("span",{className:"font-display font-bold text-lg sm:text-xl tracking-[0.15em]",children:"COMEAR JOGO"}),b.jsx("span",{className:"material-symbols-outlined text-xl sm:text-2xl",children:"rocket_launch"})]}),b.jsxs("button",{onClick:()=>n(1,!0,!0,g),className:"w-full h-14 sm:h-18 stitch-btn stitch-btn-outline",children:[b.jsx("span",{className:"font-display font-bold text-sm sm:text-base tracking-[0.15em]",children:"MODO TREINO"}),b.jsx("span",{className:"material-symbols-outlined text-slate-400 text-lg sm:text-xl",children:"psychology"})]}),b.jsxs("button",{onClick:()=>y(!g),className:`w-full h-14 flex items-center justify-between px-6 rounded-2xl border-2 transition-all ${g?"border-primary/40 bg-primary/10 text-primary":"border-slate-700/30 bg-slate-800/40 text-slate-400 hover:border-slate-500"}`,children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"material-symbols-outlined text-xl",children:g?"timer":"timer_off"}),b.jsx("span",{className:"font-display font-bold text-sm tracking-wider",children:"TREINO COM TEMPO"})]}),b.jsx("div",{className:`w-12 h-6 rounded-full transition-all relative ${g?"bg-primary":"bg-slate-700"}`,children:b.jsx("div",{className:`absolute top-0.5 w-5 h-5 bg-white rounded-full transition-all ${g?"right-0.5":"left-0.5"}`})})]})]})]})]}),b.jsx("footer",{className:"w-full flex flex-col items-center space-y-4",children:b.jsxs("div",{className:"flex items-center gap-6 opacity-30 hover:opacity-100 transition-opacity",children:[b.jsx("a",{href:"https://allananjos.dev.br",target:"_blank",rel:"noreferrer",className:"text-[10px] tracking-[0.3em] font-display font-black text-white uppercase hover:text-primary transition-colors",children:"Desenvolvido por Allan Anjos"}),b.jsx("span",{className:"w-1.5 h-1.5 bg-slate-700 rounded-full"}),b.jsx("p",{className:"text-[10px] tracking-[0.3em] font-display font-black text-slate-600 uppercase",children:"Protocolo v4.0.0"})]})})]})]})},qm=["person","school","menu_book","military_tech","badge","flight","sports_martial_arts","swords","shield","psychology","auto_fix_high","workspace_premium","fitness_center","smart_toy","local_fire_department","pets","castle","star","all_inclusive","rocket","blur_on","atom","grid_on","visibility","all_inclusive","hourglass_empty","emoji_events","bolt","wb_sunny","crown"],Tb=({setGameState:l,startLevel:n,unlockedLevel:s})=>{const[r,c]=oe.useState(s),f=tn[r-1]||tn[0],h=qm[r-1]||"question_mark",m=r<=s;return oe.useEffect(()=>{const g=y=>{y.key==="ArrowRight"&&c(_=>Math.min(_+1,30)),y.key==="ArrowLeft"&&c(_=>Math.max(_-1,1)),y.key==="ArrowDown"&&c(_=>Math.min(_+5,30)),y.key==="ArrowUp"&&c(_=>Math.max(_-5,1)),y.key==="Enter"&&r<=s&&n(r,!0)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[r,s,n]),oe.useEffect(()=>{const g=document.getElementById(`level-btn-${r}`);g&&g.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},[r]),b.jsxs("div",{className:"relative z-10 flex flex-col w-full max-w-4xl mx-auto h-full px-4 sm:px-6 py-4 sm:py-8 gap-6 sm:gap-8 animate-pop-in",children:[b.jsxs("header",{className:"flex items-center justify-between shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("button",{onClick:()=>l(Re.HOME),className:"w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center rounded-xl sm:rounded-2xl bg-slate-900/40 border border-slate-800/50 hover:bg-slate-800 transition-all text-primary",children:b.jsx("span",{className:"material-symbols-outlined text-sm sm:text-base",children:"chevron_left"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl sm:text-2xl font-display font-black tracking-tighter text-white",children:"SELEO DE SETOR"}),b.jsx("p",{className:"text-[8px] sm:text-[10px] font-display font-medium text-slate-500 uppercase tracking-widest",children:"Protocolo de Ascenso Vektra"})]})]}),b.jsxs("div",{className:"hidden sm:flex items-center gap-2 bg-primary/10 border border-primary/20 px-4 py-2 rounded-full",children:[b.jsx("span",{className:"text-[10px] font-display font-bold text-primary uppercase",children:"Progresso Total:"}),b.jsxs("span",{className:"text-sm font-display font-black text-white",children:[Math.round(s/30*100),"%"]})]})]}),b.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 flex-1 min-h-0",children:[b.jsxs("div",{className:"w-full lg:w-80 flex flex-col bg-slate-900/40 backdrop-blur-xl border border-slate-800/50 rounded-[2rem] sm:rounded-[2.5rem] p-6 sm:p-8 items-center justify-between text-center shrink-0 shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:`absolute inset-0 bg-gradient-to-b ${m?"from-primary/5":"from-red-500/5"} to-transparent opacity-50`}),b.jsxs("div",{className:"z-10 w-full flex flex-col items-center",children:[b.jsxs("div",{className:`relative mb-4 sm:mb-8 transition-all duration-500 ${m?"scale-100 sm:scale-110":"grayscale opacity-30 scale-100"}`,children:[b.jsx("div",{className:`absolute inset-0 blur-3xl rounded-full transform scale-150 animate-pulse ${m?"bg-primary/20":"bg-red-500/10"}`}),b.jsx("span",{className:`material-symbols-outlined text-6xl sm:text-8xl ${m?"text-white glow-text":"text-slate-600"}`,children:m?h:"lock"})]}),b.jsx("h3",{className:"text-2xl font-display font-black text-white uppercase tracking-tight mb-1",children:f.name}),b.jsxs("div",{className:"text-primary font-display font-bold text-xs tracking-[0.2em] mb-8",children:["SETOR ",f.level.toString().padStart(2,"0")]})]}),b.jsx("div",{className:"z-10 w-full space-y-3",children:m?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[b.jsx("span",{className:"text-[10px] font-display font-bold text-slate-500 uppercase",children:"Tempo"}),b.jsxs("span",{className:"text-xs font-display font-black text-white",children:[f.timePerQuestion,"S"]})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[b.jsx("span",{className:"text-[10px] font-display font-bold text-slate-500 uppercase",children:"Questes"}),b.jsx("span",{className:"text-xs font-display font-black text-white",children:f.totalQuestions})]}),b.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-white/5",children:[b.jsx("span",{className:"text-[10px] font-display font-bold text-slate-500 uppercase",children:"Operaes"}),b.jsx("div",{className:"flex gap-1.5 flex-wrap justify-end",children:f.operations.map(g=>{const y={"+":"+","-":"","*":"","/":"",power:"x",sqrt:"",percentage:"%",equation:"eq",fraction:""};return b.jsx("span",{className:"text-[9px] font-display font-black bg-primary/10 text-primary px-1.5 py-0.5 rounded-md",children:y[g]||g},g)})})]}),b.jsx("button",{onClick:()=>n(f.level,!0),className:"w-full h-14 stitch-btn stitch-btn-primary mt-4",children:"ASSUMIR COMANDO"})]}):b.jsxs("div",{className:"flex flex-col items-center gap-3 py-6 px-4 border border-red-500/20 bg-red-500/5 rounded-2xl",children:[b.jsx("span",{className:"material-symbols-outlined text-red-500",children:"lock"}),b.jsx("span",{className:"text-[10px] font-display font-black text-red-500 uppercase tracking-widest text-center",children:"Acesso Bloqueado. Conclua o setor anterior."})]})})]}),b.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-4 pb-20 lg:pb-0",children:b.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 xl:grid-cols-6 gap-4",children:tn.map((g,y)=>{const _=g.level<=s,x=g.level===r,E=qm[y]||"question_mark";return b.jsxs("button",{id:`level-btn-${g.level}`,onClick:()=>{c(g.level),_&&n(g.level,!0)},onMouseEnter:()=>c(g.level),className:`aspect-square rounded-2xl flex flex-col items-center justify-center transition-all duration-300 border-2 relative group active:scale-90
                                        ${x?"border-primary bg-primary/20 text-white shadow-neon scale-105 z-10":_?"border-slate-800 bg-slate-900/40 text-slate-400 hover:border-primary/50 hover:bg-slate-800/60 hover:text-white":"border-slate-900 bg-slate-950/40 text-slate-700 grayscale opacity-40"}`,children:[b.jsx("span",{className:`material-symbols-outlined text-2xl mb-1 ${x?"animate-bounce":"group-hover:translate-y-[-2px] transition-transform"}`,children:_?E:"lock"}),b.jsx("span",{className:"text-lg font-display font-black leading-none",children:g.level}),b.jsx("div",{className:`text-[7px] uppercase font-display font-bold tracking-widest mt-1 max-w-[80%] truncate ${x?"text-primary":"text-slate-500"}`,children:g.name}),_?x?b.jsxs("div",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[b.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-primary opacity-75"}),b.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-primary"})]}):b.jsx("div",{className:"absolute top-2 right-2 w-1.5 h-1.5 bg-primary/30 rounded-full"}):b.jsx("div",{className:"absolute top-2 right-2 w-1 h-1 bg-white/5 rounded-full"})]},g.level)})})})]})]})},Ab=({value:l})=>b.jsxs("div",{className:"flex flex-col items-center gap-6 animate-pop-in",children:[b.jsx("div",{className:"grid gap-1.5 p-5 rounded-panel border border-white/10 bg-surfaceLight/30 backdrop-blur-sm",style:{gridTemplateColumns:`repeat(${l}, minmax(0, 1fr))`},children:Array.from({length:l*l}).map((n,s)=>b.jsx("div",{className:"w-5 h-5 md:w-7 md:h-7 bg-primary rounded-sm shadow-[0_0_8px_rgba(16,185,129,0.4)] animate-pulse",style:{animationDelay:`${s*.02}s`}},s))}),b.jsx("div",{className:"text-center px-6 py-3 bg-surfaceLight rounded-full border border-white/5",children:b.jsxs("span",{className:"text-primary font-display font-bold text-xl",children:[l," x ",l," = ",l*l]})})]}),Ob=({target:l,answer:n})=>{const[s,r]=oe.useState(1);return oe.useEffect(()=>{if(s<n){const c=setTimeout(()=>r(f=>f+1),600);return()=>clearTimeout(c)}},[s,n]),b.jsxs("div",{className:"flex flex-col items-center gap-8 w-full animate-pop-in",children:[b.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:Array.from({length:Math.min(n,8)}).map((c,f)=>{const h=f+1,m=h===s,g=h<s;return b.jsxs("div",{className:`w-20 py-4 rounded-tech border transition-all duration-500 flex flex-col items-center
              ${m?"bg-secondary border-secondary text-black scale-110 shadow-glow-primary":g?"bg-surfaceLight border-white/5 text-white/20 opacity-40":"bg-surfaceLight border-white/5 text-white/10"}`,children:[b.jsxs("span",{className:"font-display font-bold text-lg",children:[h,""]}),b.jsx("span",{className:"text-[10px] font-mono",children:h*h})]},h)})}),b.jsx("div",{className:"text-xl font-display font-bold text-secondary uppercase tracking-widest",children:s===n?` Perfeito: ${n} = ${l}`:`Scanning... ${s} = ${s*s}`})]})},Nb=({question:l,aiExplanation:n,onClose:s})=>{var _;const[r,c]=oe.useState(0),f=["Bem-vindo ao Vektra Mind! Prepare sua mente para desafios de alta performance.","Escolha as operaes que deseja praticar no painel frontal.","Complete os nveis para desbloquear novos setores e aumentar sua capacidade.","Dica: No Modo Treino, voc tem tempo infinito para aprender as tcnicas."],h=n?[n]:((_=l==null?void 0:l.explanation)==null?void 0:_.split("|"))||f,m=r>=h.length-1,g=(r+1)/h.length*100,y=()=>{m?s():c(x=>x+1)};return oe.useEffect(()=>{const x=E=>{(E.key==="ArrowRight"||E.key==="Enter"||E.key===" ")&&y()};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[r,h.length]),b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-950/90 backdrop-blur-3xl animate-pop-in",children:b.jsxs("div",{className:"relative w-full max-w-2xl bg-slate-900 border border-white/10 rounded-[2rem] overflow-hidden shadow-2xl flex flex-col max-h-[90vh]",children:[b.jsxs("header",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-white/5 bg-slate-950/30 shrink-0",children:[b.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[b.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:b.jsx("span",{className:"material-symbols-outlined text-base sm:text-xl",children:n?"psychology":"school"})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-[10px] sm:text-sm font-display font-black text-white uppercase tracking-wider leading-none",children:n?"Mestre Allan Anjos":"Protocolo de Treino"}),b.jsx("p",{className:"text-[7.5px] sm:text-[9px] font-display font-bold text-slate-500 uppercase tracking-widest mt-0.5 sm:mt-1",children:n?"Mentoria Neural Ativa":"Aprimoramento de Habilidades"})]})]}),b.jsx("button",{onClick:s,className:"text-slate-500 hover:text-white transition-colors",children:b.jsx("span",{className:"material-symbols-outlined text-xl sm:text-2xl",children:"close"})})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar flex flex-col min-h-0",children:[!n&&l&&b.jsx("div",{className:"p-4 sm:p-8 bg-slate-950/20 flex items-center justify-center border-b border-white/5 shrink-0",children:b.jsxs("div",{className:"scale-75 sm:scale-100",children:[l.opType==="power"&&b.jsx(Ab,{value:l.values[0]}),l.opType==="sqrt"&&b.jsx(Ob,{target:l.values[0],answer:l.answer})]})}),b.jsx("div",{className:"p-5 sm:p-8 flex flex-col gap-6",children:b.jsxs("div",{className:"animate-pop-in space-y-4",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("span",{className:"text-[9px] sm:text-[10px] font-display font-black text-primary px-2 py-1 rounded bg-primary/10 border border-primary/20",children:["PASSO ",r+1]}),b.jsx("div",{className:"h-px flex-1 bg-white/5"})]}),b.jsx("div",{className:`font-sans leading-relaxed text-slate-100 ${n?"text-sm sm:text-base":"text-base sm:text-lg font-semibold"}`,children:n?b.jsx("div",{className:"space-y-3 sm:space-y-4 whitespace-pre-wrap",children:h[r].split(/(\[[^\]]+\])/g).map((x,E)=>x.startsWith("[")&&x.endsWith("]")?b.jsx("div",{className:"text-primary font-display font-black text-[10px] sm:text-xs tracking-[0.2em] uppercase mt-4 sm:mt-6 mb-2 first:mt-0 pb-1 border-b border-primary/10",children:x.slice(1,-1)},E):b.jsx("span",{className:"text-slate-200",children:x},E))}):h[r]}),n&&b.jsxs("div",{className:"p-4 bg-primary/5 border border-primary/10 rounded-2xl flex gap-3 items-start mt-8",children:[b.jsx("span",{className:"material-symbols-outlined text-primary text-lg",children:"lightbulb"}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[9px] font-display font-black text-primary uppercase tracking-widest mb-0.5",children:"Dica Pro"}),b.jsxs("p",{className:"text-[11px] text-slate-400",children:["Use ",b.jsx("span",{className:"text-white bg-white/10 px-1 rounded font-mono",children:"ENTER"})," para acelerar seu treino."]})]})]})]},r)})]}),b.jsxs("footer",{className:"p-6 bg-slate-950/30 border-t border-white/5 shrink-0 space-y-4",children:[b.jsx("div",{className:"w-full h-1 bg-white/5 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${g}%`}})}),b.jsxs("button",{onClick:y,className:"w-full h-14 gradient-button rounded-xl text-white font-display font-bold text-xs uppercase tracking-[0.2em] shadow-neon flex items-center justify-center gap-3 active:scale-95 transition-all",children:[m?n?"ENTENDIDO, PRXIMO":"FECHAR TREINAMENTO":"PRXIMO PASSO",b.jsx("span",{className:"material-symbols-outlined text-sm",children:m?"check_circle":"arrow_forward"})]})]})]})})},jb=({gameState:l,stats:n,currentQuestion:s,timeLeft:r,userInput:c,setUserInput:f,handleSubmit:h,feedback:m,setGameState:g,showExplanation:y,setShowExplanation:_,visibleSteps:x,isFlashing:E,nextQ:N,aiExplanation:D,isLoadingAI:q,successMessage:G,timedTraining:V,generateAiExplanation:Q})=>{var Ge;const H=oe.useRef(null),I=l===Re.TRAINING,[me,re]=oe.useState(!1),[Z,_e]=oe.useState(!1),Ae=()=>n.streak>=10?"text-orange-500 shadow-[0_0_25px_rgba(249,115,22,0.4)]":n.streak>=5?"text-yellow-400 shadow-[0_0_20px_rgba(250,204,21,0.3)]":n.streak>=2?"text-accent shadow-[0_0_15px_rgba(132,204,22,0.2)]":"text-primary",Bt=()=>n.streak>=10?"border-orange-500/50 bg-orange-500/5 shadow-[0_0_40px_rgba(249,115,22,0.2)] animate-neural-pulse":n.streak>=5?"border-yellow-400/40 bg-yellow-400/5 shadow-[0_0_30px_rgba(250,204,21,0.2)]":n.streak>=2?"border-accent/30 bg-accent/5":"border-white/10";if(oe.useEffect(()=>{(!I||V)&&r<=5&&r>4.9&&!me&&(Os.playTimeWarning(),re(!0)),r>5&&re(!1)},[r,I,V,me]),oe.useEffect(()=>{if((!I||V)&&r<=3&&r>0){if(!Z){_e(!0);const k=setInterval(()=>{Os.playTick()},1e3);return()=>{clearInterval(k),_e(!1)}}}else _e(!1)},[r,I,V,Z]),oe.useEffect(()=>{if(!m&&!y){const Ee=setTimeout(()=>{var k;return(k=H.current)==null?void 0:k.focus()},10);return()=>clearTimeout(Ee)}},[s,m,y]),!s)return null;const He=(Ee=>{const k=Math.floor(Ee),K=Math.floor(Ee%1*100);return{s:k.toString().padStart(2,"0"),ms:K.toString().padStart(2,"0")}})(r),yt=!I&&s?n.currentQuestionIndex/10*100:0;return b.jsxs("div",{className:"relative w-full max-w-[430px] h-full mx-auto overflow-hidden bg-background-dark/40 shadow-2xl flex flex-col border-x border-primary/10 animate-pop-in",children:[b.jsxs("header",{className:"relative z-10 px-6 pt-4 flex flex-col gap-2 shrink-0",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[9px] uppercase tracking-widest text-primary font-bold",children:"Progresso"}),b.jsx("div",{className:"flex items-center gap-1",children:b.jsx("span",{className:"text-[11px] font-medium text-white/80",children:I?"Training Mode":`Questo ${n.currentQuestionIndex+1}/10`})})]}),(!I||V)&&b.jsxs("div",{className:"flex flex-col items-end",children:[b.jsx("span",{className:"text-[9px] uppercase tracking-widest text-primary font-bold",children:"Tempo"}),b.jsxs("div",{className:`flex items-center gap-1 tabular-nums transition-all duration-300 ${r<=3?"text-red-500 animate-pulse scale-110":r<=5?"text-orange-400":"text-primary"}`,children:[b.jsx("span",{className:`material-icons text-xs ${r<=3?"animate-bounce":""}`,children:"schedule"}),b.jsxs("span",{className:"text-sm font-bold glow-text",children:["00:",He.s]}),b.jsxs("span",{className:"text-[9px] opacity-50",children:[".",He.ms]})]})]})]}),(!I||V)&&b.jsx("div",{className:"w-full h-1 bg-white/5 rounded-full overflow-hidden",children:b.jsx("div",{className:"h-full bg-primary transition-all duration-500 shadow-[0_0_10px_#22d3ee]",style:{width:`${I?r/(((Ge=tn[n.currentLevel-1])==null?void 0:Ge.timePerQuestion)||10)*100:yt}%`}})}),b.jsxs("div",{className:"flex justify-between items-center mt-1",children:[b.jsxs("div",{className:`glass-panel px-3 py-1 rounded-full flex items-center gap-2 border-primary/20 backdrop-blur-md transition-all duration-500 ${n.streak>=5?"scale-110 -translate-y-1 border-yellow-500/30":""}`,children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[6px] uppercase tracking-tighter text-slate-400 leading-none",children:"Pontos"}),b.jsx("span",{className:`font-bold tracking-tight text-[10px] leading-none mt-1 transition-colors ${Ae()}`,children:n.score.toLocaleString()})]}),b.jsx("div",{className:"h-3 w-[1px] bg-white/10"}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[6px] uppercase tracking-tighter text-slate-400 leading-none",children:"Combo"}),b.jsxs("span",{className:`font-bold tracking-tight text-[10px] leading-none mt-1 transition-all ${n.streak>0?"scale-110 "+Ae():"text-success"}`,children:["x",n.streak]})]})]}),b.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:3}).map((Ee,k)=>b.jsx("div",{className:`h-1.5 transition-all duration-300 rounded-full ${k<n.lives?"w-6 bg-primary shadow-[0_0_10px_#22d3ee]":"w-1.5 bg-white/10"}`},k))})]})]}),b.jsx("main",{className:"relative z-10 flex-grow flex flex-col items-center justify-center sm:justify-center md:gap-8 px-6 min-h-0 py-2",children:b.jsxs("div",{className:"relative group w-full flex flex-col items-center gap-4 sm:gap-8",children:[b.jsxs("div",{className:"text-center relative",children:[b.jsx("p",{className:"text-[8px] uppercase tracking-[0.3em] text-primary/40 mb-1 font-mono",children:"Maestria Mental"}),b.jsx("h1",{className:`text-4xl sm:text-7xl font-black tracking-tighter text-white glow-text transition-all duration-300 ${E?"scale-110 text-red-500":"scale-100"}`,children:s.text.split(" ").map((Ee,k)=>b.jsx("span",{className:k===1?"text-primary px-2":"",children:Ee},k))})]}),b.jsxs("div",{className:`w-full relative group max-w-[280px] sm:max-w-[320px] transition-all duration-300 ${m==="wrong"?"animate-shake":""}`,children:[b.jsx("input",{ref:H,type:"number",value:c,onChange:Ee=>f(Ee.target.value),onKeyDown:Ee=>Ee.key==="Enter"&&h(),placeholder:"?",className:`w-full bg-white/5 border-2 ${m==="wrong"?"border-red-500/40 text-red-400":r<=3?"border-red-500/60 shadow-[0_0_20px_rgba(239,68,68,0.3)]":r<=5?"border-orange-400/40":Bt()} rounded-2xl p-4 py-6 sm:py-10 text-5xl sm:text-7xl font-display font-black text-center outline-none transition-all duration-500 placeholder:text-white/5 shadow-2xl group-hover:bg-white/10 overflow-hidden`,autoFocus:!0}),b.jsx("button",{onClick:h,className:`absolute right-3 top-1/2 -translate-y-1/2 w-12 h-12 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl flex items-center justify-center text-lg sm:text-xl shadow-neon hover:scale-105 active:scale-95 transition-all ${n.streak>=10?"bg-orange-500 text-white shadow-[0_0_20px_#f97316]":n.streak>=5?"bg-yellow-400 text-slate-900 shadow-[0_0_15px_#facc15]":"bg-primary text-background-dark"}`,children:b.jsx("span",{className:"material-symbols-outlined font-black",children:n.streak>=5?"electric_bolt":"check"})})]}),m==="wrong"&&b.jsxs("div",{className:"w-full flex flex-col sm:flex-row items-center gap-2 sm:gap-3 animate-pop-in max-w-[280px] sm:max-w-[320px]",children:[b.jsx("button",{onClick:Q,disabled:q,className:"flex-1 stitch-btn stitch-btn-primary w-full py-2 sm:py-3 text-[10px] sm:text-xs",children:q?b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"material-symbols-outlined animate-spin text-[10px] sm:text-sm",children:"sync"})," SINCRONIZANDO..."]}):b.jsxs(b.Fragment,{children:[b.jsx("span",{className:"material-symbols-outlined text-[10px] sm:text-sm",children:"school"})," MACETE DO MESTRE"]})}),b.jsxs("button",{onClick:N,className:"flex-1 stitch-btn stitch-btn-outline w-full py-2 sm:py-3 text-[10px] sm:text-xs",children:[b.jsx("span",{className:"material-symbols-outlined text-[10px] sm:text-sm",children:"fast_forward"})," PULAR"]})]})]})}),b.jsx("footer",{className:"relative z-10 px-8 pb-8 w-full shrink-0",children:b.jsxs("div",{className:"flex justify-between items-end",children:[b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary animate-pulse"}),b.jsx("p",{className:"text-[10px] text-white/40 font-display font-bold tracking-[0.2em] uppercase",children:I?"Simulao de Treino":"Misso de Campo"})]}),b.jsxs("div",{className:"flex flex-col gap-1 opacity-20",children:[b.jsxs("p",{className:"text-[8px] text-white font-mono tracking-widest uppercase",children:["Protocolo: VEKTRA_M_",n.currentLevel.toString().padStart(3,"0")]}),b.jsxs("p",{className:"text-[8px] text-white font-mono tracking-widest uppercase",children:["Sync: ",localStorage.getItem("vektramind_offline_user")?"MODO LOCAL":"CREBRO NUVEM"]})]})]}),b.jsxs("button",{onClick:()=>g(Re.HOME),className:"group flex flex-col items-end gap-2 transition-all",children:[b.jsx("span",{className:"text-[10px] uppercase font-display font-black text-red-500/50 group-hover:text-red-500 tracking-widest leading-none",children:"Status"}),b.jsxs("div",{className:"flex items-center gap-2 bg-red-500/10 border border-red-500/20 px-4 py-2 rounded-xl text-red-500 group-hover:bg-red-500 group-hover:text-white transition-all",children:[b.jsx("span",{className:"text-[10px] uppercase font-display font-bold tracking-widest",children:"Abortar Misso"}),b.jsx("span",{className:"material-symbols-outlined text-sm",children:"logout"})]})]})]})}),b.jsx("div",{className:"relative z-10 flex justify-center pb-4",children:b.jsx("div",{className:"w-32 h-1 bg-white/10 rounded-full"})}),y&&b.jsx(Nb,{question:s,aiExplanation:D,onClose:()=>{_(!1),N()}}),G&&b.jsx("div",{className:"fixed top-24 sm:top-32 left-0 right-0 z-[200] flex justify-center pointer-events-none px-4",children:b.jsxs("div",{className:"gradient-button text-white px-6 sm:px-10 py-3 sm:py-5 rounded-2xl sm:rounded-[2.5rem] font-black text-lg sm:text-2xl shadow-neon animate-pop-in flex items-center gap-3 sm:gap-4",children:[b.jsx("span",{className:"material-symbols-outlined text-2xl sm:text-3xl",children:"bolt"}),b.jsx("span",{className:"tracking-tighter",children:G})]})})]})},Rb={async explainError(l,n,s){var r,c,f;try{const{data:h,error:m}=await $t.functions.invoke("ai-mentor",{body:{question:l,correctAnswer:n,userAnswer:s}});return m?(console.error("Supabase Function Error:",m),`[O QUE HOUVE]

O escudo neural detectou uma instabilidade na conexo.

[MISSO]

Tente novamente ou verifique se o servio est ativo.`):((f=(c=(r=h.choices)==null?void 0:r[0])==null?void 0:c.message)==null?void 0:f.content)||"Ops! O mestre est meditando. Tente novamente!"}catch(h){return console.error("AI Service Error:",h),`[O QUE HOUVE]

No foi possvel sincronizar com o mestre Allan via protocolo seguro.

[MISSO]

Verifique seu protocolo de rede e tente novamente.`}}};var lc={};(function l(n,s,r,c){var f=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),h=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!n.OffscreenCanvas)return!1;try{var O=new OffscreenCanvas(1,1),p=O.getContext("2d");p.fillRect(0,0,1,1);var T=O.transferToImageBitmap();p.createPattern(T,"no-repeat")}catch{return!1}return!0})();function g(){}function y(O){var p=s.exports.Promise,T=p!==void 0?p:n.Promise;return typeof T=="function"?new T(O):(O(g,g),null)}var _=(function(O,p){return{transform:function(T){if(O)return T;if(p.has(T))return p.get(T);var M=new OffscreenCanvas(T.width,T.height),$=M.getContext("2d");return $.drawImage(T,0,0),p.set(T,M),M},clear:function(){p.clear()}}})(m,new Map),x=(function(){var O=Math.floor(16.666666666666668),p,T,M={},$=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(p=function(Y){var J=Math.random();return M[J]=requestAnimationFrame(function X(ne){$===ne||$+O-1<ne?($=ne,delete M[J],Y()):M[J]=requestAnimationFrame(X)}),J},T=function(Y){M[Y]&&cancelAnimationFrame(M[Y])}):(p=function(Y){return setTimeout(Y,O)},T=function(Y){return clearTimeout(Y)}),{frame:p,cancel:T}})(),E=(function(){var O,p,T={};function M($){function Y(J,X){$.postMessage({options:J||{},callback:X})}$.init=function(X){var ne=X.transferControlToOffscreen();$.postMessage({canvas:ne},[ne])},$.fire=function(X,ne,ue){if(p)return Y(X,null),p;var Ce=Math.random().toString(36).slice(2);return p=y(function(Oe){function ze(Xe){Xe.data.callback===Ce&&(delete T[Ce],$.removeEventListener("message",ze),p=null,_.clear(),ue(),Oe())}$.addEventListener("message",ze),Y(X,Ce),T[Ce]=ze.bind(null,{data:{callback:Ce}})}),p},$.reset=function(){$.postMessage({reset:!0});for(var X in T)T[X](),delete T[X]}}return function(){if(O)return O;if(!r&&f){var $=["var CONFETTI, SIZE = {}, module = {};","("+l.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{O=new Worker(URL.createObjectURL(new Blob([$])))}catch(Y){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",Y),null}M(O)}return O}})(),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function D(O,p){return p?p(O):O}function q(O){return O!=null}function G(O,p,T){return D(O&&q(O[p])?O[p]:N[p],T)}function V(O){return O<0?0:Math.floor(O)}function Q(O,p){return Math.floor(Math.random()*(p-O))+O}function H(O){return parseInt(O,16)}function I(O){return O.map(me)}function me(O){var p=String(O).replace(/[^0-9a-f]/gi,"");return p.length<6&&(p=p[0]+p[0]+p[1]+p[1]+p[2]+p[2]),{r:H(p.substring(0,2)),g:H(p.substring(2,4)),b:H(p.substring(4,6))}}function re(O){var p=G(O,"origin",Object);return p.x=G(p,"x",Number),p.y=G(p,"y",Number),p}function Z(O){O.width=document.documentElement.clientWidth,O.height=document.documentElement.clientHeight}function _e(O){var p=O.getBoundingClientRect();O.width=p.width,O.height=p.height}function Ae(O){var p=document.createElement("canvas");return p.style.position="fixed",p.style.top="0px",p.style.left="0px",p.style.pointerEvents="none",p.style.zIndex=O,p}function Bt(O,p,T,M,$,Y,J,X,ne){O.save(),O.translate(p,T),O.rotate(Y),O.scale(M,$),O.arc(0,0,1,J,X,ne),O.restore()}function ht(O){var p=O.angle*(Math.PI/180),T=O.spread*(Math.PI/180);return{x:O.x,y:O.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:O.startVelocity*.5+Math.random()*O.startVelocity,angle2D:-p+(.5*T-Math.random()*T),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:O.color,shape:O.shape,tick:0,totalTicks:O.ticks,decay:O.decay,drift:O.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:O.gravity*3,ovalScalar:.6,scalar:O.scalar,flat:O.flat}}function He(O,p){p.x+=Math.cos(p.angle2D)*p.velocity+p.drift,p.y+=Math.sin(p.angle2D)*p.velocity+p.gravity,p.velocity*=p.decay,p.flat?(p.wobble=0,p.wobbleX=p.x+10*p.scalar,p.wobbleY=p.y+10*p.scalar,p.tiltSin=0,p.tiltCos=0,p.random=1):(p.wobble+=p.wobbleSpeed,p.wobbleX=p.x+10*p.scalar*Math.cos(p.wobble),p.wobbleY=p.y+10*p.scalar*Math.sin(p.wobble),p.tiltAngle+=.1,p.tiltSin=Math.sin(p.tiltAngle),p.tiltCos=Math.cos(p.tiltAngle),p.random=Math.random()+2);var T=p.tick++/p.totalTicks,M=p.x+p.random*p.tiltCos,$=p.y+p.random*p.tiltSin,Y=p.wobbleX+p.random*p.tiltCos,J=p.wobbleY+p.random*p.tiltSin;if(O.fillStyle="rgba("+p.color.r+", "+p.color.g+", "+p.color.b+", "+(1-T)+")",O.beginPath(),h&&p.shape.type==="path"&&typeof p.shape.path=="string"&&Array.isArray(p.shape.matrix))O.fill(K(p.shape.path,p.shape.matrix,p.x,p.y,Math.abs(Y-M)*.1,Math.abs(J-$)*.1,Math.PI/10*p.wobble));else if(p.shape.type==="bitmap"){var X=Math.PI/10*p.wobble,ne=Math.abs(Y-M)*.1,ue=Math.abs(J-$)*.1,Ce=p.shape.bitmap.width*p.scalar,Oe=p.shape.bitmap.height*p.scalar,ze=new DOMMatrix([Math.cos(X)*ne,Math.sin(X)*ne,-Math.sin(X)*ue,Math.cos(X)*ue,p.x,p.y]);ze.multiplySelf(new DOMMatrix(p.shape.matrix));var Xe=O.createPattern(_.transform(p.shape.bitmap),"no-repeat");Xe.setTransform(ze),O.globalAlpha=1-T,O.fillStyle=Xe,O.fillRect(p.x-Ce/2,p.y-Oe/2,Ce,Oe),O.globalAlpha=1}else if(p.shape==="circle")O.ellipse?O.ellipse(p.x,p.y,Math.abs(Y-M)*p.ovalScalar,Math.abs(J-$)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI):Bt(O,p.x,p.y,Math.abs(Y-M)*p.ovalScalar,Math.abs(J-$)*p.ovalScalar,Math.PI/10*p.wobble,0,2*Math.PI);else if(p.shape==="star")for(var he=Math.PI/2*3,at=4*p.scalar,pt=8*p.scalar,At=p.x,qt=p.y,Pt=5,vt=Math.PI/Pt;Pt--;)At=p.x+Math.cos(he)*pt,qt=p.y+Math.sin(he)*pt,O.lineTo(At,qt),he+=vt,At=p.x+Math.cos(he)*at,qt=p.y+Math.sin(he)*at,O.lineTo(At,qt),he+=vt;else O.moveTo(Math.floor(p.x),Math.floor(p.y)),O.lineTo(Math.floor(p.wobbleX),Math.floor($)),O.lineTo(Math.floor(Y),Math.floor(J)),O.lineTo(Math.floor(M),Math.floor(p.wobbleY));return O.closePath(),O.fill(),p.tick<p.totalTicks}function yt(O,p,T,M,$){var Y=p.slice(),J=O.getContext("2d"),X,ne,ue=y(function(Ce){function Oe(){X=ne=null,J.clearRect(0,0,M.width,M.height),_.clear(),$(),Ce()}function ze(){r&&!(M.width===c.width&&M.height===c.height)&&(M.width=O.width=c.width,M.height=O.height=c.height),!M.width&&!M.height&&(T(O),M.width=O.width,M.height=O.height),J.clearRect(0,0,M.width,M.height),Y=Y.filter(function(Xe){return He(J,Xe)}),Y.length?X=x.frame(ze):Oe()}X=x.frame(ze),ne=Oe});return{addFettis:function(Ce){return Y=Y.concat(Ce),ue},canvas:O,promise:ue,reset:function(){X&&x.cancel(X),ne&&ne()}}}function Ge(O,p){var T=!O,M=!!G(p||{},"resize"),$=!1,Y=G(p,"disableForReducedMotion",Boolean),J=f&&!!G(p||{},"useWorker"),X=J?E():null,ne=T?Z:_e,ue=O&&X?!!O.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Oe;function ze(he,at,pt){for(var At=G(he,"particleCount",V),qt=G(he,"angle",Number),Pt=G(he,"spread",Number),vt=G(he,"startVelocity",Number),Oi=G(he,"decay",Number),pr=G(he,"gravity",Number),gr=G(he,"drift",Number),dt=G(he,"colors",I),yr=G(he,"ticks",Number),Ni=G(he,"shapes"),Ls=G(he,"scalar"),Rn=!!G(he,"flat"),$s=re(he),ji=At,Ri=[],vr=O.width*$s.x,an=O.height*$s.y;ji--;)Ri.push(ht({x:vr,y:an,angle:qt,spread:Pt,startVelocity:vt,color:dt[ji%dt.length],shape:Ni[Q(0,Ni.length)],ticks:yr,decay:Oi,gravity:pr,drift:gr,scalar:Ls,flat:Rn}));return Oe?Oe.addFettis(Ri):(Oe=yt(O,Ri,ne,at,pt),Oe.promise)}function Xe(he){var at=Y||G(he,"disableForReducedMotion",Boolean),pt=G(he,"zIndex",Number);if(at&&Ce)return y(function(vt){vt()});T&&Oe?O=Oe.canvas:T&&!O&&(O=Ae(pt),document.body.appendChild(O)),M&&!ue&&ne(O);var At={width:O.width,height:O.height};X&&!ue&&X.init(O),ue=!0,X&&(O.__confetti_initialized=!0);function qt(){if(X){var vt={getBoundingClientRect:function(){if(!T)return O.getBoundingClientRect()}};ne(vt),X.postMessage({resize:{width:vt.width,height:vt.height}});return}At.width=At.height=null}function Pt(){Oe=null,M&&($=!1,n.removeEventListener("resize",qt)),T&&O&&(document.body.contains(O)&&document.body.removeChild(O),O=null,ue=!1)}return M&&!$&&($=!0,n.addEventListener("resize",qt,!1)),X?X.fire(he,At,Pt):ze(he,At,Pt)}return Xe.reset=function(){X&&X.reset(),Oe&&Oe.reset()},Xe}var Ee;function k(){return Ee||(Ee=Ge(null,{useWorker:!0,resize:!0})),Ee}function K(O,p,T,M,$,Y,J){var X=new Path2D(O),ne=new Path2D;ne.addPath(X,new DOMMatrix(p));var ue=new Path2D;return ue.addPath(ne,new DOMMatrix([Math.cos(J)*$,Math.sin(J)*$,-Math.sin(J)*Y,Math.cos(J)*Y,T,M])),ue}function ae(O){if(!h)throw new Error("path confetti are not supported in this browser");var p,T;typeof O=="string"?p=O:(p=O.path,T=O.matrix);var M=new Path2D(p),$=document.createElement("canvas"),Y=$.getContext("2d");if(!T){for(var J=1e3,X=J,ne=J,ue=0,Ce=0,Oe,ze,Xe=0;Xe<J;Xe+=2)for(var he=0;he<J;he+=2)Y.isPointInPath(M,Xe,he,"nonzero")&&(X=Math.min(X,Xe),ne=Math.min(ne,he),ue=Math.max(ue,Xe),Ce=Math.max(Ce,he));Oe=ue-X,ze=Ce-ne;var at=10,pt=Math.min(at/Oe,at/ze);T=[pt,0,0,pt,-Math.round(Oe/2+X)*pt,-Math.round(ze/2+ne)*pt]}return{type:"path",path:p,matrix:T}}function we(O){var p,T=1,M="#000000",$='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof O=="string"?p=O:(p=O.text,T="scalar"in O?O.scalar:T,$="fontFamily"in O?O.fontFamily:$,M="color"in O?O.color:M);var Y=10*T,J=""+Y+"px "+$,X=new OffscreenCanvas(Y,Y),ne=X.getContext("2d");ne.font=J;var ue=ne.measureText(p),Ce=Math.ceil(ue.actualBoundingBoxRight+ue.actualBoundingBoxLeft),Oe=Math.ceil(ue.actualBoundingBoxAscent+ue.actualBoundingBoxDescent),ze=2,Xe=ue.actualBoundingBoxLeft+ze,he=ue.actualBoundingBoxAscent+ze;Ce+=ze+ze,Oe+=ze+ze,X=new OffscreenCanvas(Ce,Oe),ne=X.getContext("2d"),ne.font=J,ne.fillStyle=M,ne.fillText(p,Xe,he);var at=1/T;return{type:"bitmap",bitmap:X.transferToImageBitmap(),matrix:[at,0,0,at,-Ce*at/2,-Oe*at/2]}}s.exports=function(){return k().apply(this,arguments)},s.exports.reset=function(){k().reset()},s.exports.create=Ge,s.exports.shapeFromPath=ae,s.exports.shapeFromText=we})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),lc,!1);const Cb=lc.exports;lc.exports.create;const kb=()=>{oe.useEffect(()=>{console.log("Vektra Mind Redesign v4.0.0 - Neural Sync")},[]);const[l,n]=oe.useState(Re.HOME),[s,r]=oe.useState(1),[c,f]=oe.useState({score:0,lives:mm,currentLevel:1,currentQuestionIndex:0,correctInLevel:0,perfectLevel:!0}),[h,m]=oe.useState(null),[g,y]=oe.useState(0),[_,x]=oe.useState(""),[E,N]=oe.useState(null),[D,q]=oe.useState(!1),[G,V]=oe.useState(0),[Q,H]=oe.useState(!1),[I,me]=oe.useState(["+","-","*","/"]),[re,Z]=oe.useState(null),[_e,Ae]=oe.useState(!1),[Bt,ht]=oe.useState(null),[He,yt]=oe.useState(0),[Ge,Ee]=oe.useState(!1);oe.useEffect(()=>{const p=As.load();r(Math.max(1,p.unlockedLevel))},[]);const k=oe.useCallback((p,T=!1,M=!1,$=!1)=>{const Y=tn[p-1]||tn[0];Ig();const J=gm(Y,I,M?0:void 0);f({score:T?0:c.score,lives:M?1/0:mm,currentLevel:p,currentQuestionIndex:0,correctInLevel:0,perfectLevel:!0,streak:0}),m(J),Ee($),y(M?$?Y.timePerQuestion:1/0:Y.timePerQuestion),n(M?Re.TRAINING:Re.PLAYING),x(""),N(null),q(!1),Z(null),Ae(!1),V(0),yt(0)},[I,c.score]),K=oe.useCallback(()=>{const p=l===Re.TRAINING,T=tn[c.currentLevel-1]||tn[0];if(!p&&c.currentQuestionIndex+1>=T.totalQuestions){const M=c.currentLevel+1;As.updateLevel(M),As.updateScore(c.currentLevel,c.score),r($=>Math.max($,M)),n(Re.LEVEL_COMPLETE)}else{const M=gm(T,I,p?He:void 0);m(M),y(p?Ge?T.timePerQuestion:1/0:T.timePerQuestion),f($=>({...$,currentQuestionIndex:$.currentQuestionIndex+1})),x(""),N(null),q(!1),Z(null),Ae(!1),V(0)}},[c,l,I,He,Ge]),ae=p=>{if(p&&p.preventDefault(),!(!h||E))if(parseFloat(_)===h.answer){const T=Math.floor(c.streak/3)*50,M=Dg+T;Os.playSuccess(c.streak);const $=["EXCELENTE, JOGADOR(A)!","INCRVEL PERFORMANCE!","CLCULO PERFEITO!","MANDOU BEM!","FANTSTICO!","GNIO(A)!","ESTRATGICO(A)!","PRECISO TOTAL!"];ht(c.streak>=2?`${$[Math.floor(Math.random()*$.length)]} COMBO x${c.streak+1}`:$[Math.floor(Math.random()*$.length)]),N("correct"),Cb({particleCount:150+c.streak*20,spread:70+c.streak*5,origin:{y:.6},colors:c.streak>=5?["#facc15","#22d3ee","#ffffff"]:["#10b981","#22d3ee","#ffffff"]}),l!==Re.TRAINING?f(Y=>({...Y,score:Y.score+M,correctInLevel:Y.correctInLevel+1,streak:Y.streak+1})):(f(Y=>({...Y,correctInLevel:Y.correctInLevel+1,streak:Y.streak+1})),yt(Y=>Y+1)),setTimeout(()=>{ht(null),K()},1e3)}else Os.playError(),N("wrong"),H(!0),setTimeout(()=>H(!1),500),l!==Re.TRAINING&&(f(T=>({...T,lives:T.lives-1,perfectLevel:!1,streak:0})),c.lives<=1&&n(Re.GAME_OVER))},we=async()=>{if(!(!h||_e)){Ae(!0),q(!0);try{const p=await Rb.explainError(h.text,h.answer,_||"Tempo Esgotado");Z(p)}catch{Z("Erro ao carregar protocolo neural. Tente novamente.")}finally{Ae(!1)}}};oe.useEffect(()=>{As.init();const p=async()=>{var $;const{data:{user:M}}=await $t.auth.getUser();document.title=($=M==null?void 0:M.user_metadata)!=null&&$.username?`Vektra Mind | ${M.user_metadata.username}`:"Vektra Mind"};p();const{data:T}=$t.auth.onAuthStateChange(()=>p());return()=>T.subscription.unsubscribe()},[]),oe.useEffect(()=>{if((l===Re.PLAYING||l===Re.TRAINING&&Ge)&&g>0&&!D&&!E){const T=setInterval(()=>{y(M=>M<=.1?(l===Re.PLAYING?n(Re.GAME_OVER):l===Re.TRAINING&&Ge&&O(),0):M-.1)},100);return()=>clearInterval(T)}},[l,g,D,Ge,E]);const O=()=>{!h||E||(Os.playError(),N("wrong"),H(!0),setTimeout(()=>H(!1),500))};return b.jsxs("div",{className:"h-[100dvh] w-screen bg-background text-slate-100 flex flex-col items-center justify-center relative overflow-hidden selection:bg-primary/30",children:[b.jsx("div",{className:"fixed inset-0 pointer-events-none star-bg z-0 opacity-40"}),b.jsx("div",{className:"fixed inset-0 pointer-events-none cyber-grid z-0 opacity-20"}),b.jsx("div",{className:"fixed top-1/4 -left-20 w-64 h-64 bg-primary/10 rounded-full blur-[120px] pointer-events-none"}),b.jsx("div",{className:"fixed bottom-1/4 -right-20 w-64 h-64 bg-accent/10 rounded-full blur-[120px] pointer-events-none"}),b.jsxs("main",{className:`relative z-10 w-full h-full flex flex-col items-center justify-center border-white/5 ${l===Re.LEVEL_SELECT||l===Re.HOME?"max-w-7xl":"max-w-[430px] border-x"} mx-auto transition-all duration-500`,children:[l===Re.HOME&&b.jsx(Eb,{setGameState:n,startLevel:k,selectedOps:I,setSelectedOps:me}),l===Re.LEVEL_SELECT&&b.jsx("div",{className:"w-full h-full px-4 overflow-hidden",children:b.jsx(Tb,{setGameState:n,startLevel:k,unlockedLevel:s})}),(l===Re.PLAYING||l===Re.TRAINING)&&b.jsx(jb,{gameState:l,stats:c,currentQuestion:h,timeLeft:g,userInput:_,setUserInput:x,handleSubmit:ae,feedback:E,setGameState:n,showExplanation:D,setShowExplanation:q,visibleSteps:G,isFlashing:Q,nextQ:K,aiExplanation:re,isLoadingAI:_e,successMessage:Bt,timedTraining:Ge,generateAiExplanation:we}),l===Re.GAME_OVER&&b.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full px-8 text-center gap-12 animate-pop-in",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 bg-red-500/20 blur-[80px] rounded-full"}),b.jsx("span",{className:"material-symbols-outlined text-9xl text-red-500 relative z-10 animate-pulse",children:"skull"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h1",{className:"text-5xl font-display font-black tracking-tighter text-white",children:"FALHA NO SISTEMA"}),b.jsx("p",{className:"text-[10px] tracking-[0.4em] font-display font-medium text-slate-500 uppercase",children:"Neural Sync Interrompido"})]}),b.jsx("div",{className:"w-full space-y-4",children:b.jsx("button",{onClick:()=>n(Re.HOME),className:"w-full h-16 stitch-btn stitch-btn-primary !gradient-button !bg-red-600 shadow-[0_0_20px_rgba(220,38,38,0.4)]",children:"REINICIAR PROTOCOLO"})})]}),l===Re.LEVEL_COMPLETE&&b.jsxs("div",{className:"flex flex-col items-center justify-center h-full w-full px-8 text-center gap-8 animate-pop-in",children:[b.jsxs("div",{className:"text-center space-y-2",children:[b.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-primary/10 border border-primary/20 mb-4",children:b.jsx("span",{className:"material-symbols-outlined text-primary text-4xl",children:"emoji_events"})}),b.jsx("h1",{className:"text-3xl font-display font-black tracking-tighter text-white uppercase",children:"Misso Cumprida"}),b.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Jogador(a), sua performance neural foi excepcional!"})]}),b.jsxs("div",{className:"w-full bg-slate-950/40 backdrop-blur-xl border border-slate-800/50 rounded-[2.5rem] p-8 shadow-2xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-5",children:b.jsx("span",{className:"material-symbols-outlined text-6xl",children:"insights"})}),b.jsxs("div",{className:"grid grid-cols-2 gap-4 relative z-10 font-display",children:[b.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-4 rounded-2xl text-left",children:[b.jsx("p",{className:"text-[8px] uppercase font-black text-slate-500 tracking-wider mb-1",children:"Pontuao"}),b.jsx("p",{className:"text-xl font-black text-white",children:c.score.toLocaleString()})]}),b.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-4 rounded-2xl text-left",children:[b.jsx("p",{className:"text-[8px] uppercase font-black text-slate-500 tracking-wider mb-1",children:"Preciso"}),b.jsx("p",{className:"text-xl font-black text-primary",children:c.perfectLevel?"100%":"80%+"})]}),b.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-4 rounded-2xl text-left",children:[b.jsx("p",{className:"text-[8px] uppercase font-black text-slate-500 tracking-wider mb-1",children:"Status"}),b.jsx("p",{className:"text-sm font-black text-success uppercase",children:"Otimizado"})]}),b.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 p-4 rounded-2xl text-left",children:[b.jsx("p",{className:"text-[8px] uppercase font-black text-slate-500 tracking-wider mb-1",children:"Eficincia"}),b.jsx("p",{className:"text-xl font-black text-white",children:"Alta"})]})]})]}),b.jsxs("div",{className:"w-full space-y-4",children:[b.jsxs("button",{onClick:()=>n(Re.LEVEL_SELECT),className:"w-full h-16 stitch-btn stitch-btn-primary",children:["PRXIMO SETOR ",b.jsx("span",{className:"material-symbols-outlined",children:"fast_forward"})]}),b.jsx("button",{onClick:()=>n(Re.HOME),className:"w-full h-14 bg-transparent border border-slate-800 text-slate-400 font-display font-bold text-xs uppercase tracking-widest rounded-2xl hover:bg-slate-800/20",children:"DASHBOARD CENTRAL"})]})]})]}),b.jsx("div",{className:"fixed bottom-2 left-1/2 -translate-x-1/2 opacity-20 hidden md:block",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-1 h-1 bg-primary"}),b.jsx("span",{className:"text-[8px] tracking-[0.5em] uppercase font-bold text-primary",children:"Vektra Mind Protocol v4.0.0"}),b.jsx("div",{className:"w-1 h-1 bg-primary"})]})})]})},s0=document.getElementById("root");if(!s0)throw new Error("Could not find root element to mount to");const Ub=Ug.createRoot(s0);Ub.render(b.jsx(Tg.StrictMode,{children:b.jsx(kb,{})}));
